<!DOCTYPE html>
<html lang="en">
<head>
<title>coverage-report</title>
<style>
/* csslint ignore:start */
* {
box-sizing: border-box;
    font-family: consolas, menlo, monospace;
}
/* csslint ignore:end */
body {
    margin: 0;
}
.coverage pre {
    margin: 5px 0;
}
.coverage table {
    border-collapse: collapse;
}
.coverage td,
.coverage th {
    border: 1px solid #777;
    margin: 0;
    padding: 5px;
}
.coverage td span {
    display: inline-block;
    width: 100%;
}
.coverage .content {
    padding: 0 5px;
}
.coverage .content a {
    text-decoration: none;
}
.coverage .count {
    margin: 0 5px;
    padding: 0 5px;
}
.coverage .footer,
.coverage .header {
    padding: 20px;
}
.coverage .percentbar {
    height: 12px;
    margin: 2px 0;
    min-width: 200px;
    position: relative;
    width: 100%;
}
.coverage .percentbar div {
    height: 100%;
    position: absolute;
}
.coverage .title {
    font-size: large;
    font-weight: bold;
    margin-bottom: 10px;
}

.coverage td,
.coverage th {
    background: #fff;
}
.coverage .count {
    background: #9d9;
    color: #777;
}
.coverage .coverageHigh{
    background: #9d9;
}
.coverage .coverageLow{
    background: #ebb;
}
.coverage .coverageMedium{
    background: #fd7;
}
.coverage .header {
    background: #ddd;
}
.coverage .lineno {
    background: #ddd;
}
.coverage .percentbar {
    background: #999;
}
.coverage .percentbar div {
    background: #666;
}
.coverage .uncovered {
    background: #dbb;
}

.coverage pre:hover span,
.coverage tr:hover td {
    background: #7d7;
}
.coverage pre:hover span.uncovered,
.coverage tr:hover td.coverageLow {
    background: #d99;
}
</style>
</head>
<body class="coverage">
<div class="header">
<div class="title">coverage-report</div>
<table>
<thead>
<tr>
<th>files covered</th>
<th>lines</th>
</tr>
</thead>
<tbody><tr>
<td class="coverageHigh">
            <a href="index.html">./ </a>jslint.js<br>
<div class="percentbar">
    <div style="width: 99.63%;"></div>
</div>
</td>
<td style="text-align: right;">
    99.63 %<br>
    6022 / 6044
</td>
</tr></tbody>
</table>
</div>
<div class="content">
<pre><span class="lineno"><a href="#line_1" id="line_1">    1.</a></span><span class="count                ">      1</span><span>#!/usr/bin/env node</span></pre>
<pre><span class="lineno"><a href="#line_2" id="line_2">    2.</a></span><span class="count                ">      1</span><span>// jslint.js</span></pre>
<pre><span class="lineno"><a href="#line_3" id="line_3">    3.</a></span><span class="count                ">      1</span><span>// Copyright (c) 2015 Douglas Crockford  (www.JSLint.com)</span></pre>
<pre><span class="lineno"><a href="#line_4" id="line_4">    4.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5" id="line_5">    5.</a></span><span class="count                ">      1</span><span>// Permission is hereby granted, free of charge, to any person obtaining a copy</span></pre>
<pre><span class="lineno"><a href="#line_6" id="line_6">    6.</a></span><span class="count                ">      1</span><span>// of this software and associated documentation files (the &quot;Software&quot;), to deal</span></pre>
<pre><span class="lineno"><a href="#line_7" id="line_7">    7.</a></span><span class="count                ">      1</span><span>// in the Software without restriction, including without limitation the rights</span></pre>
<pre><span class="lineno"><a href="#line_8" id="line_8">    8.</a></span><span class="count                ">      1</span><span>// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell</span></pre>
<pre><span class="lineno"><a href="#line_9" id="line_9">    9.</a></span><span class="count                ">      1</span><span>// copies of the Software, and to permit persons to whom the Software is</span></pre>
<pre><span class="lineno"><a href="#line_10" id="line_10">   10.</a></span><span class="count                ">      1</span><span>// furnished to do so, subject to the following conditions:</span></pre>
<pre><span class="lineno"><a href="#line_11" id="line_11">   11.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_12" id="line_12">   12.</a></span><span class="count                ">      1</span><span>// The above copyright notice and this permission notice shall be included in</span></pre>
<pre><span class="lineno"><a href="#line_13" id="line_13">   13.</a></span><span class="count                ">      1</span><span>// all copies or substantial portions of the Software.</span></pre>
<pre><span class="lineno"><a href="#line_14" id="line_14">   14.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_15" id="line_15">   15.</a></span><span class="count                ">      1</span><span>// The Software shall be used for Good, not Evil.</span></pre>
<pre><span class="lineno"><a href="#line_16" id="line_16">   16.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_17" id="line_17">   17.</a></span><span class="count                ">      1</span><span>// THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR</span></pre>
<pre><span class="lineno"><a href="#line_18" id="line_18">   18.</a></span><span class="count                ">      1</span><span>// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,</span></pre>
<pre><span class="lineno"><a href="#line_19" id="line_19">   19.</a></span><span class="count                ">      1</span><span>// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE</span></pre>
<pre><span class="lineno"><a href="#line_20" id="line_20">   20.</a></span><span class="count                ">      1</span><span>// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER</span></pre>
<pre><span class="lineno"><a href="#line_21" id="line_21">   21.</a></span><span class="count                ">      1</span><span>// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,</span></pre>
<pre><span class="lineno"><a href="#line_22" id="line_22">   22.</a></span><span class="count                ">      1</span><span>// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE</span></pre>
<pre><span class="lineno"><a href="#line_23" id="line_23">   23.</a></span><span class="count                ">      1</span><span>// SOFTWARE.</span></pre>
<pre><span class="lineno"><a href="#line_24" id="line_24">   24.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_25" id="line_25">   25.</a></span><span class="count                ">      1</span><span>// jslint(source, option_object, global_array) is a function that takes 3</span></pre>
<pre><span class="lineno"><a href="#line_26" id="line_26">   26.</a></span><span class="count                ">      1</span><span>// arguments. The second two arguments are optional.</span></pre>
<pre><span class="lineno"><a href="#line_27" id="line_27">   27.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_28" id="line_28">   28.</a></span><span class="count                ">      1</span><span>//      source          A text to analyze, a string or an array of strings.</span></pre>
<pre><span class="lineno"><a href="#line_29" id="line_29">   29.</a></span><span class="count                ">      1</span><span>//      option_object   An object whose keys correspond to option names.</span></pre>
<pre><span class="lineno"><a href="#line_30" id="line_30">   30.</a></span><span class="count                ">      1</span><span>//      global_array    An array of strings containing global variables that</span></pre>
<pre><span class="lineno"><a href="#line_31" id="line_31">   31.</a></span><span class="count                ">      1</span><span>//                      the file is allowed readonly access.</span></pre>
<pre><span class="lineno"><a href="#line_32" id="line_32">   32.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_33" id="line_33">   33.</a></span><span class="count                ">      1</span><span>// jslint returns an object containing its results. The object contains a lot</span></pre>
<pre><span class="lineno"><a href="#line_34" id="line_34">   34.</a></span><span class="count                ">      1</span><span>// of valuable information. It can be used to generate reports. The object</span></pre>
<pre><span class="lineno"><a href="#line_35" id="line_35">   35.</a></span><span class="count                ">      1</span><span>// contains:</span></pre>
<pre><span class="lineno"><a href="#line_36" id="line_36">   36.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_37" id="line_37">   37.</a></span><span class="count                ">      1</span><span>//      directives: an array of directive comment tokens.</span></pre>
<pre><span class="lineno"><a href="#line_38" id="line_38">   38.</a></span><span class="count                ">      1</span><span>//      edition: the version of JSLint that did the analysis.</span></pre>
<pre><span class="lineno"><a href="#line_39" id="line_39">   39.</a></span><span class="count                ">      1</span><span>//      exports: the names exported from the module.</span></pre>
<pre><span class="lineno"><a href="#line_40" id="line_40">   40.</a></span><span class="count                ">      1</span><span>//      froms: an array of strings representing each of the imports.</span></pre>
<pre><span class="lineno"><a href="#line_41" id="line_41">   41.</a></span><span class="count                ">      1</span><span>//      functions: an array of objects that represent all of the functions</span></pre>
<pre><span class="lineno"><a href="#line_42" id="line_42">   42.</a></span><span class="count                ">      1</span><span>//              declared in the file.</span></pre>
<pre><span class="lineno"><a href="#line_43" id="line_43">   43.</a></span><span class="count                ">      1</span><span>//      global: an object representing the global object. Its .context property</span></pre>
<pre><span class="lineno"><a href="#line_44" id="line_44">   44.</a></span><span class="count                ">      1</span><span>//              is an object containing a property for each global variable.</span></pre>
<pre><span class="lineno"><a href="#line_45" id="line_45">   45.</a></span><span class="count                ">      1</span><span>//      id: &quot;(JSLint)&quot;</span></pre>
<pre><span class="lineno"><a href="#line_46" id="line_46">   46.</a></span><span class="count                ">      1</span><span>//      json: true if the file is a JSON text.</span></pre>
<pre><span class="lineno"><a href="#line_47" id="line_47">   47.</a></span><span class="count                ">      1</span><span>//      lines: an array of strings, the source.</span></pre>
<pre><span class="lineno"><a href="#line_48" id="line_48">   48.</a></span><span class="count                ">      1</span><span>//      module: true if an import or export statement was used.</span></pre>
<pre><span class="lineno"><a href="#line_49" id="line_49">   49.</a></span><span class="count                ">      1</span><span>//      ok: true if no warnings were generated. This is what you want.</span></pre>
<pre><span class="lineno"><a href="#line_50" id="line_50">   50.</a></span><span class="count                ">      1</span><span>//      option: the option argument.</span></pre>
<pre><span class="lineno"><a href="#line_51" id="line_51">   51.</a></span><span class="count                ">      1</span><span>//      property: a property object.</span></pre>
<pre><span class="lineno"><a href="#line_52" id="line_52">   52.</a></span><span class="count                ">      1</span><span>//      stop: true if JSLint was unable to finish. You don&apos;t want this.</span></pre>
<pre><span class="lineno"><a href="#line_53" id="line_53">   53.</a></span><span class="count                ">      1</span><span>//      tokens: an array of objects representing the tokens in the file.</span></pre>
<pre><span class="lineno"><a href="#line_54" id="line_54">   54.</a></span><span class="count                ">      1</span><span>//      tree: the token objects arranged in a tree.</span></pre>
<pre><span class="lineno"><a href="#line_55" id="line_55">   55.</a></span><span class="count                ">      1</span><span>//      warnings: an array of warning objects. A warning object can contain:</span></pre>
<pre><span class="lineno"><a href="#line_56" id="line_56">   56.</a></span><span class="count                ">      1</span><span>//          name: &quot;JSLintError&quot;</span></pre>
<pre><span class="lineno"><a href="#line_57" id="line_57">   57.</a></span><span class="count                ">      1</span><span>//          column: A column number in the file.</span></pre>
<pre><span class="lineno"><a href="#line_58" id="line_58">   58.</a></span><span class="count                ">      1</span><span>//          line: A line number in the file.</span></pre>
<pre><span class="lineno"><a href="#line_59" id="line_59">   59.</a></span><span class="count                ">      1</span><span>//          code: A warning code string.</span></pre>
<pre><span class="lineno"><a href="#line_60" id="line_60">   60.</a></span><span class="count                ">      1</span><span>//          message: The warning message string.</span></pre>
<pre><span class="lineno"><a href="#line_61" id="line_61">   61.</a></span><span class="count                ">      1</span><span>//          a: Exhibit A.</span></pre>
<pre><span class="lineno"><a href="#line_62" id="line_62">   62.</a></span><span class="count                ">      1</span><span>//          b: Exhibit B.</span></pre>
<pre><span class="lineno"><a href="#line_63" id="line_63">   63.</a></span><span class="count                ">      1</span><span>//          c: Exhibit C.</span></pre>
<pre><span class="lineno"><a href="#line_64" id="line_64">   64.</a></span><span class="count                ">      1</span><span>//          d: Exhibit D.</span></pre>
<pre><span class="lineno"><a href="#line_65" id="line_65">   65.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_66" id="line_66">   66.</a></span><span class="count                ">      1</span><span>// jslint works in several phases. In any of these phases, errors might be</span></pre>
<pre><span class="lineno"><a href="#line_67" id="line_67">   67.</a></span><span class="count                ">      1</span><span>// found. Sometimes JSLint is able to recover from an error and continue</span></pre>
<pre><span class="lineno"><a href="#line_68" id="line_68">   68.</a></span><span class="count                ">      1</span><span>// parsing. In some cases, it cannot and will stop early. If that should happen,</span></pre>
<pre><span class="lineno"><a href="#line_69" id="line_69">   69.</a></span><span class="count                ">      1</span><span>// repair your code and try again.</span></pre>
<pre><span class="lineno"><a href="#line_70" id="line_70">   70.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_71" id="line_71">   71.</a></span><span class="count                ">      1</span><span>// Phases:</span></pre>
<pre><span class="lineno"><a href="#line_72" id="line_72">   72.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_73" id="line_73">   73.</a></span><span class="count                ">      1</span><span>//      1. If the source is a single string, split it into an array of strings.</span></pre>
<pre><span class="lineno"><a href="#line_74" id="line_74">   74.</a></span><span class="count                ">      1</span><span>//      2. Turn the source into an array of tokens.</span></pre>
<pre><span class="lineno"><a href="#line_75" id="line_75">   75.</a></span><span class="count                ">      1</span><span>//      3. Furcate the tokens into a parse tree.</span></pre>
<pre><span class="lineno"><a href="#line_76" id="line_76">   76.</a></span><span class="count                ">      1</span><span>//      4. Walk the tree, traversing all of the nodes of the tree. It is a</span></pre>
<pre><span class="lineno"><a href="#line_77" id="line_77">   77.</a></span><span class="count                ">      1</span><span>//          recursive traversal. Each node may be processed on the way down</span></pre>
<pre><span class="lineno"><a href="#line_78" id="line_78">   78.</a></span><span class="count                ">      1</span><span>//          (preaction) and on the way up (postaction).</span></pre>
<pre><span class="lineno"><a href="#line_79" id="line_79">   79.</a></span><span class="count                ">      1</span><span>//      5. Check the whitespace between the tokens.</span></pre>
<pre><span class="lineno"><a href="#line_80" id="line_80">   80.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_81" id="line_81">   81.</a></span><span class="count                ">      1</span><span>// jslint can also examine JSON text. It decides that a file is JSON text if</span></pre>
<pre><span class="lineno"><a href="#line_82" id="line_82">   82.</a></span><span class="count                ">      1</span><span>// the first token is &quot;[&quot; or &quot;{&quot;. Processing of JSON text is much simpler than</span></pre>
<pre><span class="lineno"><a href="#line_83" id="line_83">   83.</a></span><span class="count                ">      1</span><span>// the processing of JavaScript programs. Only the first three phases are</span></pre>
<pre><span class="lineno"><a href="#line_84" id="line_84">   84.</a></span><span class="count                ">      1</span><span>// required.</span></pre>
<pre><span class="lineno"><a href="#line_85" id="line_85">   85.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_86" id="line_86">   86.</a></span><span class="count                ">      1</span><span>// WARNING: JSLint will hurt your feelings.</span></pre>
<pre><span class="lineno"><a href="#line_87" id="line_87">   87.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_88" id="line_88">   88.</a></span><span class="count                ">      1</span><span>/*jslint node*/</span></pre>
<pre><span class="lineno"><a href="#line_89" id="line_89">   89.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_90" id="line_90">   90.</a></span><span class="count                ">      1</span><span>/*property</span></pre>
<pre><span class="lineno"><a href="#line_91" id="line_91">   91.</a></span><span class="count                ">      1</span><span>    unordered,</span></pre>
<pre><span class="lineno"><a href="#line_92" id="line_92">   92.</a></span><span class="count                ">      1</span><span>    JSLINT_CLI, a, all, and, argv, arity, assign, b, bad_assignment_a,</span></pre>
<pre><span class="lineno"><a href="#line_93" id="line_93">   93.</a></span><span class="count                ">      1</span><span>    bad_directive_a, bad_get, bad_module_name_a, bad_option_a, bad_property_a,</span></pre>
<pre><span class="lineno"><a href="#line_94" id="line_94">   94.</a></span><span class="count                ">      1</span><span>    bad_set, bitwise, block, body, browser, c, calls, catch, cli_mode, closer,</span></pre>
<pre><span class="lineno"><a href="#line_95" id="line_95">   95.</a></span><span class="count                ">      1</span><span>    closure, code, column, concat, console_error, constant, context, convert,</span></pre>
<pre><span class="lineno"><a href="#line_96" id="line_96">   96.</a></span><span class="count                ">      1</span><span>    couch, create, d, dead, debug, default, devel, directive, directives,</span></pre>
<pre><span class="lineno"><a href="#line_97" id="line_97">   97.</a></span><span class="count                ">      1</span><span>    disrupt, dot, duplicate_a, early_stop, edition, ellipsis, else, empty_block,</span></pre>
<pre><span class="lineno"><a href="#line_98" id="line_98">   98.</a></span><span class="count                ">      1</span><span>    env, error, eval, every, exec, exit, expected_a, expected_a_at_b_c,</span></pre>
<pre><span class="lineno"><a href="#line_99" id="line_99">   99.</a></span><span class="count                ">      1</span><span>    expected_a_b, expected_a_b_from_c_d, expected_a_before_b,</span></pre>
<pre><span class="lineno"><a href="#line_100" id="line_100">  100.</a></span><span class="count                ">      1</span><span>    expected_a_next_at_b, expected_digits_after_a, expected_four_digits,</span></pre>
<pre><span class="lineno"><a href="#line_101" id="line_101">  101.</a></span><span class="count                ">      1</span><span>    expected_identifier_a, expected_line_break_a_b, expected_regexp_factor_a,</span></pre>
<pre><span class="lineno"><a href="#line_102" id="line_102">  102.</a></span><span class="count                ">      1</span><span>    expected_space_a_b, expected_statements_a, expected_string_a,</span></pre>
<pre><span class="lineno"><a href="#line_103" id="line_103">  103.</a></span><span class="count                ">      1</span><span>    expected_type_string_a, exports, expression, extra, file, finally, flag,</span></pre>
<pre><span class="lineno"><a href="#line_104" id="line_104">  104.</a></span><span class="count                ">      1</span><span>    for, forEach, formatted_message, free, freeze, freeze_exports, from, froms,</span></pre>
<pre><span class="lineno"><a href="#line_105" id="line_105">  105.</a></span><span class="count                ">      1</span><span>    fud, fudge, function_in_loop, functions, g, getset, global, has_await, i,</span></pre>
<pre><span class="lineno"><a href="#line_106" id="line_106">  106.</a></span><span class="count                ">      1</span><span>    id, identifier, import, inc, indexOf, infix_in, init, initial, isArray,</span></pre>
<pre><span class="lineno"><a href="#line_107" id="line_107">  107.</a></span><span class="count                ">      1</span><span>    isNaN, is_async, join, json, keys, label, label_a, lbp, led, length, level,</span></pre>
<pre><span class="lineno"><a href="#line_108" id="line_108">  108.</a></span><span class="count                ">      1</span><span>    line, line_offset, lines, live, long, loop, m, map, margin, match, message,</span></pre>
<pre><span class="lineno"><a href="#line_109" id="line_109">  109.</a></span><span class="count                ">      1</span><span>    misplaced_a, misplaced_directive_a, missing_await_statement,</span></pre>
<pre><span class="lineno"><a href="#line_110" id="line_110">  110.</a></span><span class="count                ">      1</span><span>    missing_browser, missing_m, module, naked_block, name, names,</span></pre>
<pre><span class="lineno"><a href="#line_111" id="line_111">  111.</a></span><span class="count                ">      1</span><span>    nested_comment, node, not_label_a, now, nr, nud, number_isNaN, ok, open,</span></pre>
<pre><span class="lineno"><a href="#line_112" id="line_112">  112.</a></span><span class="count                ">      1</span><span>    opening, option, out_of_scope_a, padStart, parameters, parent, pop,</span></pre>
<pre><span class="lineno"><a href="#line_113" id="line_113">  113.</a></span><span class="count                ">      1</span><span>    promises, property, push, quote, raw, readFile, readdir, redefinition_a_b,</span></pre>
<pre><span class="lineno"><a href="#line_114" id="line_114">  114.</a></span><span class="count                ">      1</span><span>    repeat, replace, required_a_optional_b, reserved_a, role, search, shebang,</span></pre>
<pre><span class="lineno"><a href="#line_115" id="line_115">  115.</a></span><span class="count                ">      1</span><span>    signature, single, slice, some, sort, source, split, stack, stack_trace,</span></pre>
<pre><span class="lineno"><a href="#line_116" id="line_116">  116.</a></span><span class="count                ">      1</span><span>    startsWith, statement, stop, subscript_a, switch, test, test_internal_error,</span></pre>
<pre><span class="lineno"><a href="#line_117" id="line_117">  117.</a></span><span class="count                ">      1</span><span>    then, this, thru, todo_comment, tokens, too_long, too_many_digits, tree,</span></pre>
<pre><span class="lineno"><a href="#line_118" id="line_118">  118.</a></span><span class="count                ">      1</span><span>    trim, try, type, u, unclosed_comment, unclosed_mega, unclosed_string,</span></pre>
<pre><span class="lineno"><a href="#line_119" id="line_119">  119.</a></span><span class="count                ">      1</span><span>    undeclared_a, unexpected_a, unexpected_a_after_b, unexpected_a_before_b,</span></pre>
<pre><span class="lineno"><a href="#line_120" id="line_120">  120.</a></span><span class="count                ">      1</span><span>    unexpected_at_top_level_a, unexpected_char_a, unexpected_comment,</span></pre>
<pre><span class="lineno"><a href="#line_121" id="line_121">  121.</a></span><span class="count                ">      1</span><span>    unexpected_directive_a, unexpected_expression_a, unexpected_label_a,</span></pre>
<pre><span class="lineno"><a href="#line_122" id="line_122">  122.</a></span><span class="count                ">      1</span><span>    unexpected_parens, unexpected_space_a_b, unexpected_statement_a,</span></pre>
<pre><span class="lineno"><a href="#line_123" id="line_123">  123.</a></span><span class="count                ">      1</span><span>    unexpected_trailing_space, unexpected_typeof_a, uninitialized_a,</span></pre>
<pre><span class="lineno"><a href="#line_124" id="line_124">  124.</a></span><span class="count                ">      1</span><span>    unordered_param_a, unordered_property_a, unreachable_a,</span></pre>
<pre><span class="lineno"><a href="#line_125" id="line_125">  125.</a></span><span class="count                ">      1</span><span>    unregistered_property_a, unused_a, use_double, use_open, use_spaces, used,</span></pre>
<pre><span class="lineno"><a href="#line_126" id="line_126">  126.</a></span><span class="count                ">      1</span><span>    value, var_loop, var_switch, variable, versions, warning, warnings,</span></pre>
<pre><span class="lineno"><a href="#line_127" id="line_127">  127.</a></span><span class="count                ">      1</span><span>    weird_condition_a, weird_expression_a, weird_loop, weird_relation_a, white,</span></pre>
<pre><span class="lineno"><a href="#line_128" id="line_128">  128.</a></span><span class="count                ">      1</span><span>    wrap_condition, wrap_immediate, wrap_parameter, wrap_regexp, wrap_unary,</span></pre>
<pre><span class="lineno"><a href="#line_129" id="line_129">  129.</a></span><span class="count                ">      1</span><span>    wrapped, writable, y</span></pre>
<pre><span class="lineno"><a href="#line_130" id="line_130">  130.</a></span><span class="count                ">      1</span><span>*/</span></pre>
<pre><span class="lineno"><a href="#line_131" id="line_131">  131.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_132" id="line_132">  132.</a></span><span class="count                ">      1</span><span>const edition = &quot;v2021.5.28-beta&quot;;</span></pre>
<pre><span class="lineno"><a href="#line_133" id="line_133">  133.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_134" id="line_134">  134.</a></span><span class="count                ">   8634</span><span>function assert_or_throw(passed, message) {</span></pre>
<pre><span class="lineno"><a href="#line_135" id="line_135">  135.</a></span><span class="count                ">   8634</span><span></span></pre>
<pre><span class="lineno"><a href="#line_136" id="line_136">  136.</a></span><span class="count                ">   8634</span><span>// this function will throw &lt;message&gt; if &lt;passed&gt; is falsy</span></pre>
<pre><span class="lineno"><a href="#line_137" id="line_137">  137.</a></span><span class="count                ">   8634</span><span></span></pre>
<pre><span class="lineno"><a href="#line_138" id="line_138">  138.</a></span><span class="count                ">      1</span><span>    if (!passed) {</span></pre>
<pre><span class="lineno"><a href="#line_139" id="line_139">  139.</a></span><span class="count                ">      1</span><span>        throw new Error(`This was caused by a bug in JSLint.</span></pre>
<pre><span class="lineno"><a href="#line_140" id="line_140">  140.</a></span><span class="count                ">      1</span><span>Please open an issue with this stack-trace at</span></pre>
<pre><span class="lineno"><a href="#line_141" id="line_141">  141.</a></span><span class="count                ">      1</span><span>https://github.com/jslint-org/jslint/issues.</span></pre>
<pre><span class="lineno"><a href="#line_142" id="line_142">  142.</a></span><span class="count                ">      1</span><span>edition = &quot;${edition}&quot;;` + &quot;\n&quot; + message);</span></pre>
<pre><span class="lineno"><a href="#line_143" id="line_143">  143.</a></span><span class="count                ">      1</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_144" id="line_144">  144.</a></span><span class="count                ">   8634</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_145" id="line_145">  145.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_146" id="line_146">  146.</a></span><span class="count                ">   3597</span><span>function empty() {</span></pre>
<pre><span class="lineno"><a href="#line_147" id="line_147">  147.</a></span><span class="count                ">   3597</span><span></span></pre>
<pre><span class="lineno"><a href="#line_148" id="line_148">  148.</a></span><span class="count                ">   3597</span><span>// The empty function produces a new empty object that inherits nothing. This is</span></pre>
<pre><span class="lineno"><a href="#line_149" id="line_149">  149.</a></span><span class="count                ">   3597</span><span>// much better than &apos;{}&apos; because confusions around accidental method names like</span></pre>
<pre><span class="lineno"><a href="#line_150" id="line_150">  150.</a></span><span class="count                ">   3597</span><span>// &apos;constructor&apos; are completely avoided.</span></pre>
<pre><span class="lineno"><a href="#line_151" id="line_151">  151.</a></span><span class="count                ">   3597</span><span></span></pre>
<pre><span class="lineno"><a href="#line_152" id="line_152">  152.</a></span><span class="count                ">   3597</span><span>    return Object.create(null);</span></pre>
<pre><span class="lineno"><a href="#line_153" id="line_153">  153.</a></span><span class="count                ">   3597</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_154" id="line_154">  154.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_155" id="line_155">  155.</a></span><span class="count                ">    836</span><span>function populate(array, object = empty(), value = true) {</span></pre>
<pre><span class="lineno"><a href="#line_156" id="line_156">  156.</a></span><span class="count                ">    836</span><span></span></pre>
<pre><span class="lineno"><a href="#line_157" id="line_157">  157.</a></span><span class="count                ">    836</span><span>// Augment an object by taking property names from an array of strings.</span></pre>
<pre><span class="lineno"><a href="#line_158" id="line_158">  158.</a></span><span class="count                ">    836</span><span></span></pre>
<pre><span class="lineno"><a href="#line_159" id="line_159">  159.</a></span><span class="count                ">  19497</span><span>    array.forEach(function (name) {</span></pre>
<pre><span class="lineno"><a href="#line_160" id="line_160">  160.</a></span><span class="count                ">  19497</span><span>        object[name] = value;</span></pre>
<pre><span class="lineno"><a href="#line_161" id="line_161">  161.</a></span><span class="count                ">  19497</span><span>    });</span></pre>
<pre><span class="lineno"><a href="#line_162" id="line_162">  162.</a></span><span class="count                ">    836</span><span>    return object;</span></pre>
<pre><span class="lineno"><a href="#line_163" id="line_163">  163.</a></span><span class="count                ">    836</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_164" id="line_164">  164.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_165" id="line_165">  165.</a></span><span class="count                ">      1</span><span>const allowed_option = {</span></pre>
<pre><span class="lineno"><a href="#line_166" id="line_166">  166.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_167" id="line_167">  167.</a></span><span class="count                ">      1</span><span>// These are the options that are recognized in the option object or that may</span></pre>
<pre><span class="lineno"><a href="#line_168" id="line_168">  168.</a></span><span class="count                ">      1</span><span>// appear in a /*jslint*/ directive. Most options will have a boolean value,</span></pre>
<pre><span class="lineno"><a href="#line_169" id="line_169">  169.</a></span><span class="count                ">      1</span><span>// usually true. Some options will also predefine some number of global</span></pre>
<pre><span class="lineno"><a href="#line_170" id="line_170">  170.</a></span><span class="count                ">      1</span><span>// variables.</span></pre>
<pre><span class="lineno"><a href="#line_171" id="line_171">  171.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_172" id="line_172">  172.</a></span><span class="count                ">      1</span><span>    bitwise: true,</span></pre>
<pre><span class="lineno"><a href="#line_173" id="line_173">  173.</a></span><span class="count                ">      1</span><span>    browser: [</span></pre>
<pre><span class="lineno"><a href="#line_174" id="line_174">  174.</a></span><span class="count                ">      1</span><span>        &quot;caches&quot;, &quot;CharacterData&quot;, &quot;clearInterval&quot;, &quot;clearTimeout&quot;, &quot;document&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_175" id="line_175">  175.</a></span><span class="count                ">      1</span><span>        &quot;DocumentType&quot;, &quot;DOMException&quot;, &quot;Element&quot;, &quot;Event&quot;, &quot;event&quot;, &quot;fetch&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_176" id="line_176">  176.</a></span><span class="count                ">      1</span><span>        &quot;FileReader&quot;, &quot;FontFace&quot;, &quot;FormData&quot;, &quot;history&quot;, &quot;IntersectionObserver&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_177" id="line_177">  177.</a></span><span class="count                ">      1</span><span>        &quot;localStorage&quot;, &quot;location&quot;, &quot;MutationObserver&quot;, &quot;name&quot;, &quot;navigator&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_178" id="line_178">  178.</a></span><span class="count                ">      1</span><span>        &quot;screen&quot;, &quot;sessionStorage&quot;, &quot;setInterval&quot;, &quot;setTimeout&quot;, &quot;Storage&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_179" id="line_179">  179.</a></span><span class="count                ">      1</span><span>        &quot;TextDecoder&quot;, &quot;TextEncoder&quot;, &quot;URL&quot;, &quot;window&quot;, &quot;Worker&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_180" id="line_180">  180.</a></span><span class="count                ">      1</span><span>        &quot;XMLHttpRequest&quot;</span></pre>
<pre><span class="lineno"><a href="#line_181" id="line_181">  181.</a></span><span class="count                ">      1</span><span>    ],</span></pre>
<pre><span class="lineno"><a href="#line_182" id="line_182">  182.</a></span><span class="count                ">      1</span><span>    convert: true,</span></pre>
<pre><span class="lineno"><a href="#line_183" id="line_183">  183.</a></span><span class="count                ">      1</span><span>    couch: [</span></pre>
<pre><span class="lineno"><a href="#line_184" id="line_184">  184.</a></span><span class="count                ">      1</span><span>        &quot;emit&quot;, &quot;getRow&quot;, &quot;isArray&quot;, &quot;log&quot;, &quot;provides&quot;, &quot;registerType&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_185" id="line_185">  185.</a></span><span class="count                ">      1</span><span>        &quot;require&quot;, &quot;send&quot;, &quot;start&quot;, &quot;sum&quot;, &quot;toJSON&quot;</span></pre>
<pre><span class="lineno"><a href="#line_186" id="line_186">  186.</a></span><span class="count                ">      1</span><span>    ],</span></pre>
<pre><span class="lineno"><a href="#line_187" id="line_187">  187.</a></span><span class="count                ">      1</span><span>    debug: true,</span></pre>
<pre><span class="lineno"><a href="#line_188" id="line_188">  188.</a></span><span class="count                ">      1</span><span>    devel: [</span></pre>
<pre><span class="lineno"><a href="#line_189" id="line_189">  189.</a></span><span class="count                ">      1</span><span>        &quot;alert&quot;, &quot;confirm&quot;, &quot;console&quot;, &quot;prompt&quot;</span></pre>
<pre><span class="lineno"><a href="#line_190" id="line_190">  190.</a></span><span class="count                ">      1</span><span>    ],</span></pre>
<pre><span class="lineno"><a href="#line_191" id="line_191">  191.</a></span><span class="count                ">      1</span><span>    eval: true,</span></pre>
<pre><span class="lineno"><a href="#line_192" id="line_192">  192.</a></span><span class="count                ">      1</span><span>    for: true,</span></pre>
<pre><span class="lineno"><a href="#line_193" id="line_193">  193.</a></span><span class="count                ">      1</span><span>    fudge: true,</span></pre>
<pre><span class="lineno"><a href="#line_194" id="line_194">  194.</a></span><span class="count                ">      1</span><span>    getset: true,</span></pre>
<pre><span class="lineno"><a href="#line_195" id="line_195">  195.</a></span><span class="count                ">      1</span><span>    long: true,</span></pre>
<pre><span class="lineno"><a href="#line_196" id="line_196">  196.</a></span><span class="count                ">      1</span><span>    node: [</span></pre>
<pre><span class="lineno"><a href="#line_197" id="line_197">  197.</a></span><span class="count                ">      1</span><span>        &quot;Buffer&quot;, &quot;clearImmediate&quot;, &quot;clearInterval&quot;, &quot;clearTimeout&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_198" id="line_198">  198.</a></span><span class="count                ">      1</span><span>        &quot;console&quot;, &quot;exports&quot;, &quot;module&quot;, &quot;process&quot;, &quot;require&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_199" id="line_199">  199.</a></span><span class="count                ">      1</span><span>        &quot;setImmediate&quot;, &quot;setInterval&quot;, &quot;setTimeout&quot;, &quot;TextDecoder&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_200" id="line_200">  200.</a></span><span class="count                ">      1</span><span>        &quot;TextEncoder&quot;, &quot;URL&quot;, &quot;URLSearchParams&quot;, &quot;__dirname&quot;, &quot;__filename&quot;</span></pre>
<pre><span class="lineno"><a href="#line_201" id="line_201">  201.</a></span><span class="count                ">      1</span><span>    ],</span></pre>
<pre><span class="lineno"><a href="#line_202" id="line_202">  202.</a></span><span class="count                ">      1</span><span>    single: true,</span></pre>
<pre><span class="lineno"><a href="#line_203" id="line_203">  203.</a></span><span class="count                ">      1</span><span>    test_internal_error: true,</span></pre>
<pre><span class="lineno"><a href="#line_204" id="line_204">  204.</a></span><span class="count                ">      1</span><span>    this: true,</span></pre>
<pre><span class="lineno"><a href="#line_205" id="line_205">  205.</a></span><span class="count                ">      1</span><span>    unordered: true,</span></pre>
<pre><span class="lineno"><a href="#line_206" id="line_206">  206.</a></span><span class="count                ">      1</span><span>    white: true</span></pre>
<pre><span class="lineno"><a href="#line_207" id="line_207">  207.</a></span><span class="count                ">      1</span><span>};</span></pre>
<pre><span class="lineno"><a href="#line_208" id="line_208">  208.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_209" id="line_209">  209.</a></span><span class="count                ">      1</span><span>const anticondition = populate([</span></pre>
<pre><span class="lineno"><a href="#line_210" id="line_210">  210.</a></span><span class="count                ">      1</span><span>    &quot;?&quot;, &quot;~&quot;, &quot;&amp;&quot;, &quot;|&quot;, &quot;^&quot;, &quot;&lt;&lt;&quot;, &quot;&gt;&gt;&quot;, &quot;&gt;&gt;&gt;&quot;, &quot;+&quot;, &quot;-&quot;, &quot;*&quot;, &quot;/&quot;, &quot;%&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_211" id="line_211">  211.</a></span><span class="count                ">      1</span><span>    &quot;typeof&quot;, &quot;(number)&quot;, &quot;(string)&quot;</span></pre>
<pre><span class="lineno"><a href="#line_212" id="line_212">  212.</a></span><span class="count                ">      1</span><span>]);</span></pre>
<pre><span class="lineno"><a href="#line_213" id="line_213">  213.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_214" id="line_214">  214.</a></span><span class="count                ">      1</span><span>// These are the bitwise operators.</span></pre>
<pre><span class="lineno"><a href="#line_215" id="line_215">  215.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_216" id="line_216">  216.</a></span><span class="count                ">      1</span><span>const bitwiseop = populate([</span></pre>
<pre><span class="lineno"><a href="#line_217" id="line_217">  217.</a></span><span class="count                ">      1</span><span>    &quot;~&quot;, &quot;^&quot;, &quot;^=&quot;, &quot;&amp;&quot;, &quot;&amp;=&quot;, &quot;|&quot;, &quot;|=&quot;, &quot;&lt;&lt;&quot;, &quot;&lt;&lt;=&quot;, &quot;&gt;&gt;&quot;, &quot;&gt;&gt;=&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_218" id="line_218">  218.</a></span><span class="count                ">      1</span><span>    &quot;&gt;&gt;&gt;&quot;, &quot;&gt;&gt;&gt;=&quot;</span></pre>
<pre><span class="lineno"><a href="#line_219" id="line_219">  219.</a></span><span class="count                ">      1</span><span>]);</span></pre>
<pre><span class="lineno"><a href="#line_220" id="line_220">  220.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_221" id="line_221">  221.</a></span><span class="count                ">      1</span><span>const escapeable = populate([</span></pre>
<pre><span class="lineno"><a href="#line_222" id="line_222">  222.</a></span><span class="count                ">      1</span><span>    &quot;\\&quot;, &quot;/&quot;, &quot;`&quot;, &quot;b&quot;, &quot;f&quot;, &quot;n&quot;, &quot;r&quot;, &quot;t&quot;</span></pre>
<pre><span class="lineno"><a href="#line_223" id="line_223">  223.</a></span><span class="count                ">      1</span><span>]);</span></pre>
<pre><span class="lineno"><a href="#line_224" id="line_224">  224.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_225" id="line_225">  225.</a></span><span class="count                ">      1</span><span>const opener = {</span></pre>
<pre><span class="lineno"><a href="#line_226" id="line_226">  226.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_227" id="line_227">  227.</a></span><span class="count                ">      1</span><span>// The open and close pairs.</span></pre>
<pre><span class="lineno"><a href="#line_228" id="line_228">  228.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_229" id="line_229">  229.</a></span><span class="count                ">      1</span><span>    &quot;${&quot;: &quot;}&quot;,      // mega</span></pre>
<pre><span class="lineno"><a href="#line_230" id="line_230">  230.</a></span><span class="count                ">      1</span><span>    &quot;(&quot;: &quot;)&quot;,       // paren</span></pre>
<pre><span class="lineno"><a href="#line_231" id="line_231">  231.</a></span><span class="count                ">      1</span><span>    &quot;[&quot;: &quot;]&quot;,       // bracket</span></pre>
<pre><span class="lineno"><a href="#line_232" id="line_232">  232.</a></span><span class="count                ">      1</span><span>    &quot;{&quot;: &quot;}&quot;        // brace</span></pre>
<pre><span class="lineno"><a href="#line_233" id="line_233">  233.</a></span><span class="count                ">      1</span><span>};</span></pre>
<pre><span class="lineno"><a href="#line_234" id="line_234">  234.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_235" id="line_235">  235.</a></span><span class="count                ">      1</span><span>// The relational operators.</span></pre>
<pre><span class="lineno"><a href="#line_236" id="line_236">  236.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_237" id="line_237">  237.</a></span><span class="count                ">      1</span><span>const relationop = populate([</span></pre>
<pre><span class="lineno"><a href="#line_238" id="line_238">  238.</a></span><span class="count                ">      1</span><span>    &quot;!=&quot;, &quot;!==&quot;, &quot;==&quot;, &quot;===&quot;, &quot;&lt;&quot;, &quot;&lt;=&quot;, &quot;&gt;&quot;, &quot;&gt;=&quot;</span></pre>
<pre><span class="lineno"><a href="#line_239" id="line_239">  239.</a></span><span class="count                ">      1</span><span>]);</span></pre>
<pre><span class="lineno"><a href="#line_240" id="line_240">  240.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_241" id="line_241">  241.</a></span><span class="count                ">      1</span><span>// This is the set of infix operators that require a space on each side.</span></pre>
<pre><span class="lineno"><a href="#line_242" id="line_242">  242.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_243" id="line_243">  243.</a></span><span class="count                ">      1</span><span>const spaceop = populate([</span></pre>
<pre><span class="lineno"><a href="#line_244" id="line_244">  244.</a></span><span class="count                ">      1</span><span>    &quot;!=&quot;, &quot;!==&quot;, &quot;%&quot;, &quot;%=&quot;, &quot;&amp;&quot;, &quot;&amp;=&quot;, &quot;&amp;&amp;&quot;, &quot;*&quot;, &quot;*=&quot;, &quot;+=&quot;, &quot;-=&quot;, &quot;/&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_245" id="line_245">  245.</a></span><span class="count                ">      1</span><span>    &quot;/=&quot;, &quot;&lt;&quot;, &quot;&lt;=&quot;, &quot;&lt;&lt;&quot;, &quot;&lt;&lt;=&quot;, &quot;=&quot;, &quot;==&quot;, &quot;===&quot;, &quot;=&gt;&quot;, &quot;&gt;&quot;, &quot;&gt;=&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_246" id="line_246">  246.</a></span><span class="count                ">      1</span><span>    &quot;&gt;&gt;&quot;, &quot;&gt;&gt;=&quot;, &quot;&gt;&gt;&gt;&quot;, &quot;&gt;&gt;&gt;=&quot;, &quot;^&quot;, &quot;^=&quot;, &quot;|&quot;, &quot;|=&quot;, &quot;||&quot;</span></pre>
<pre><span class="lineno"><a href="#line_247" id="line_247">  247.</a></span><span class="count                ">      1</span><span>]);</span></pre>
<pre><span class="lineno"><a href="#line_248" id="line_248">  248.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_249" id="line_249">  249.</a></span><span class="count                ">      1</span><span>const standard = [</span></pre>
<pre><span class="lineno"><a href="#line_250" id="line_250">  250.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_251" id="line_251">  251.</a></span><span class="count                ">      1</span><span>// These are the globals that are provided by the language standard.</span></pre>
<pre><span class="lineno"><a href="#line_252" id="line_252">  252.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_253" id="line_253">  253.</a></span><span class="count                ">      1</span><span>    &quot;Array&quot;, &quot;ArrayBuffer&quot;, &quot;Boolean&quot;, &quot;DataView&quot;, &quot;Date&quot;, &quot;Error&quot;, &quot;EvalError&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_254" id="line_254">  254.</a></span><span class="count                ">      1</span><span>    &quot;Float32Array&quot;, &quot;Float64Array&quot;, &quot;Generator&quot;, &quot;GeneratorFunction&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_255" id="line_255">  255.</a></span><span class="count                ">      1</span><span>    &quot;Int16Array&quot;, &quot;Int32Array&quot;, &quot;Int8Array&quot;, &quot;Intl&quot;, &quot;JSON&quot;, &quot;Map&quot;, &quot;Math&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_256" id="line_256">  256.</a></span><span class="count                ">      1</span><span>    &quot;Number&quot;, &quot;Object&quot;, &quot;Promise&quot;, &quot;Proxy&quot;, &quot;RangeError&quot;, &quot;ReferenceError&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_257" id="line_257">  257.</a></span><span class="count                ">      1</span><span>    &quot;Reflect&quot;, &quot;RegExp&quot;, &quot;Set&quot;, &quot;String&quot;, &quot;Symbol&quot;, &quot;SyntaxError&quot;, &quot;System&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_258" id="line_258">  258.</a></span><span class="count                ">      1</span><span>    &quot;TypeError&quot;, &quot;URIError&quot;, &quot;Uint16Array&quot;, &quot;Uint32Array&quot;, &quot;Uint8Array&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_259" id="line_259">  259.</a></span><span class="count                ">      1</span><span>    &quot;Uint8ClampedArray&quot;, &quot;WeakMap&quot;, &quot;WeakSet&quot;, &quot;decodeURI&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_260" id="line_260">  260.</a></span><span class="count                ">      1</span><span>    &quot;decodeURIComponent&quot;, &quot;encodeURI&quot;, &quot;encodeURIComponent&quot;, &quot;globalThis&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_261" id="line_261">  261.</a></span><span class="count                ">      1</span><span>    &quot;import&quot;, &quot;parseFloat&quot;, &quot;parseInt&quot;</span></pre>
<pre><span class="lineno"><a href="#line_262" id="line_262">  262.</a></span><span class="count                ">      1</span><span>];</span></pre>
<pre><span class="lineno"><a href="#line_263" id="line_263">  263.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_264" id="line_264">  264.</a></span><span class="count                ">      1</span><span>const bundle = {</span></pre>
<pre><span class="lineno"><a href="#line_265" id="line_265">  265.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_266" id="line_266">  266.</a></span><span class="count                ">      1</span><span>// The bundle contains the raw text messages that are generated by jslint. It</span></pre>
<pre><span class="lineno"><a href="#line_267" id="line_267">  267.</a></span><span class="count                ">      1</span><span>// seems that they are all error messages and warnings. There are no &quot;Atta</span></pre>
<pre><span class="lineno"><a href="#line_268" id="line_268">  268.</a></span><span class="count                ">      1</span><span>// boy!&quot; or &quot;You are so awesome!&quot; messages. There is no positive reinforcement</span></pre>
<pre><span class="lineno"><a href="#line_269" id="line_269">  269.</a></span><span class="count                ">      1</span><span>// or encouragement. This relentless negativity can undermine self-esteem and</span></pre>
<pre><span class="lineno"><a href="#line_270" id="line_270">  270.</a></span><span class="count                ">      1</span><span>// wound the inner child. But if you accept it as sound advice rather than as</span></pre>
<pre><span class="lineno"><a href="#line_271" id="line_271">  271.</a></span><span class="count                ">      1</span><span>// personal criticism, it can make your programs better.</span></pre>
<pre><span class="lineno"><a href="#line_272" id="line_272">  272.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_273" id="line_273">  273.</a></span><span class="count                ">      1</span><span>    and: &quot;The &apos;&amp;&amp;&apos; subexpression should be wrapped in parens.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_274" id="line_274">  274.</a></span><span class="count                ">      1</span><span>    bad_assignment_a: &quot;Bad assignment to &apos;{a}&apos;.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_275" id="line_275">  275.</a></span><span class="count                ">      1</span><span>    bad_directive_a: &quot;Bad directive &apos;{a}&apos;.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_276" id="line_276">  276.</a></span><span class="count                ">      1</span><span>    bad_get: &quot;A get function takes no parameters.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_277" id="line_277">  277.</a></span><span class="count                ">      1</span><span>    bad_module_name_a: &quot;Bad module name &apos;{a}&apos;.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_278" id="line_278">  278.</a></span><span class="count                ">      1</span><span>    bad_option_a: &quot;Bad option &apos;{a}&apos;.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_279" id="line_279">  279.</a></span><span class="count                ">      1</span><span>    bad_property_a: &quot;Bad property name &apos;{a}&apos;.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_280" id="line_280">  280.</a></span><span class="count                ">      1</span><span>    bad_set: &quot;A set function takes one parameter.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_281" id="line_281">  281.</a></span><span class="count                ">      1</span><span>    duplicate_a: &quot;Duplicate &apos;{a}&apos;.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_282" id="line_282">  282.</a></span><span class="count                ">      1</span><span>    empty_block: &quot;Empty block.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_283" id="line_283">  283.</a></span><span class="count                ">      1</span><span>    expected_a: &quot;Expected &apos;{a}&apos;.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_284" id="line_284">  284.</a></span><span class="count                ">      1</span><span>    expected_a_at_b_c: &quot;Expected &apos;{a}&apos; at column {b}, not column {c}.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_285" id="line_285">  285.</a></span><span class="count                ">      1</span><span>    expected_a_b: &quot;Expected &apos;{a}&apos; and instead saw &apos;{b}&apos;.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_286" id="line_286">  286.</a></span><span class="count                ">      1</span><span>    expected_a_b_from_c_d: (</span></pre>
<pre><span class="lineno"><a href="#line_287" id="line_287">  287.</a></span><span class="count                ">      1</span><span>        &quot;Expected &apos;{a}&apos; to match &apos;{b}&apos; from line {c} and instead saw &apos;{d}&apos;.&quot;</span></pre>
<pre><span class="lineno"><a href="#line_288" id="line_288">  288.</a></span><span class="count                ">      1</span><span>    ),</span></pre>
<pre><span class="lineno"><a href="#line_289" id="line_289">  289.</a></span><span class="count                ">      1</span><span>    expected_a_before_b: &quot;Expected &apos;{a}&apos; before &apos;{b}&apos;.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_290" id="line_290">  290.</a></span><span class="count                ">      1</span><span>    expected_digits_after_a: &quot;Expected digits after &apos;{a}&apos;.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_291" id="line_291">  291.</a></span><span class="count                ">      1</span><span>    expected_four_digits: &quot;Expected four digits after &apos;\\u&apos;.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_292" id="line_292">  292.</a></span><span class="count                ">      1</span><span>    expected_identifier_a: &quot;Expected an identifier and instead saw &apos;{a}&apos;.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_293" id="line_293">  293.</a></span><span class="count                ">      1</span><span>    expected_line_break_a_b: &quot;Expected a line break between &apos;{a}&apos; and &apos;{b}&apos;.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_294" id="line_294">  294.</a></span><span class="count                ">      1</span><span>    expected_regexp_factor_a: &quot;Expected a regexp factor and instead saw &apos;{a}&apos;.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_295" id="line_295">  295.</a></span><span class="count                ">      1</span><span>    expected_space_a_b: &quot;Expected one space between &apos;{a}&apos; and &apos;{b}&apos;.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_296" id="line_296">  296.</a></span><span class="count                ">      1</span><span>    expected_statements_a: &quot;Expected statements before &apos;{a}&apos;.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_297" id="line_297">  297.</a></span><span class="count                ">      1</span><span>    expected_string_a: &quot;Expected a string and instead saw &apos;{a}&apos;.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_298" id="line_298">  298.</a></span><span class="count                ">      1</span><span>    expected_type_string_a: &quot;Expected a type string and instead saw &apos;{a}&apos;.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_299" id="line_299">  299.</a></span><span class="count                ">      1</span><span>    freeze_exports: (</span></pre>
<pre><span class="lineno"><a href="#line_300" id="line_300">  300.</a></span><span class="count                ">      1</span><span>        &quot;Expected &apos;Object.freeze(&apos;. All export values should be frozen.&quot;</span></pre>
<pre><span class="lineno"><a href="#line_301" id="line_301">  301.</a></span><span class="count                ">      1</span><span>    ),</span></pre>
<pre><span class="lineno"><a href="#line_302" id="line_302">  302.</a></span><span class="count                ">      1</span><span>    function_in_loop: &quot;Don&apos;t make functions within a loop.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_303" id="line_303">  303.</a></span><span class="count                ">      1</span><span>    infix_in: (</span></pre>
<pre><span class="lineno"><a href="#line_304" id="line_304">  304.</a></span><span class="count                ">      1</span><span>        &quot;Unexpected &apos;in&apos;. Compare with undefined, &quot;</span></pre>
<pre><span class="lineno"><a href="#line_305" id="line_305">  305.</a></span><span class="count                ">      1</span><span>        + &quot;or use the hasOwnProperty method instead.&quot;</span></pre>
<pre><span class="lineno"><a href="#line_306" id="line_306">  306.</a></span><span class="count                ">      1</span><span>    ),</span></pre>
<pre><span class="lineno"><a href="#line_307" id="line_307">  307.</a></span><span class="count                ">      1</span><span>    label_a: &quot;&apos;{a}&apos; is a statement label.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_308" id="line_308">  308.</a></span><span class="count                ">      1</span><span>    misplaced_a: &quot;Place &apos;{a}&apos; at the outermost level.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_309" id="line_309">  309.</a></span><span class="count                ">      1</span><span>    misplaced_directive_a: (</span></pre>
<pre><span class="lineno"><a href="#line_310" id="line_310">  310.</a></span><span class="count                ">      1</span><span>        &quot;Place the &apos;/*{a}*/&apos; directive before the first statement.&quot;</span></pre>
<pre><span class="lineno"><a href="#line_311" id="line_311">  311.</a></span><span class="count                ">      1</span><span>    ),</span></pre>
<pre><span class="lineno"><a href="#line_312" id="line_312">  312.</a></span><span class="count                ">      1</span><span>    missing_await_statement: &quot;Expected await statement in async function.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_313" id="line_313">  313.</a></span><span class="count                ">      1</span><span>    missing_browser: &quot;/*global*/ requires the Assume a browser option.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_314" id="line_314">  314.</a></span><span class="count                ">      1</span><span>    missing_m: &quot;Expected &apos;m&apos; flag on a multiline regular expression.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_315" id="line_315">  315.</a></span><span class="count                ">      1</span><span>    naked_block: &quot;Naked block.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_316" id="line_316">  316.</a></span><span class="count                ">      1</span><span>    nested_comment: &quot;Nested comment.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_317" id="line_317">  317.</a></span><span class="count                ">      1</span><span>    not_label_a: &quot;&apos;{a}&apos; is not a label.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_318" id="line_318">  318.</a></span><span class="count                ">      1</span><span>    number_isNaN: &quot;Use Number.isNaN function to compare with NaN.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_319" id="line_319">  319.</a></span><span class="count                ">      1</span><span>    out_of_scope_a: &quot;&apos;{a}&apos; is out of scope.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_320" id="line_320">  320.</a></span><span class="count                ">      1</span><span>    redefinition_a_b: &quot;Redefinition of &apos;{a}&apos; from line {b}.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_321" id="line_321">  321.</a></span><span class="count                ">      1</span><span>    required_a_optional_b: (</span></pre>
<pre><span class="lineno"><a href="#line_322" id="line_322">  322.</a></span><span class="count                ">      1</span><span>        &quot;Required parameter &apos;{a}&apos; after optional parameter &apos;{b}&apos;.&quot;</span></pre>
<pre><span class="lineno"><a href="#line_323" id="line_323">  323.</a></span><span class="count                ">      1</span><span>    ),</span></pre>
<pre><span class="lineno"><a href="#line_324" id="line_324">  324.</a></span><span class="count                ">      1</span><span>    reserved_a: &quot;Reserved name &apos;{a}&apos;.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_325" id="line_325">  325.</a></span><span class="count                ">      1</span><span>    subscript_a: &quot;[&apos;{a}&apos;] is better written in dot notation.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_326" id="line_326">  326.</a></span><span class="count                ">      1</span><span>    todo_comment: &quot;Unexpected TODO comment.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_327" id="line_327">  327.</a></span><span class="count                ">      1</span><span>    too_long: &quot;Line is longer than 80 characters.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_328" id="line_328">  328.</a></span><span class="count                ">      1</span><span>    too_many_digits: &quot;Too many digits.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_329" id="line_329">  329.</a></span><span class="count                ">      1</span><span>    unclosed_comment: &quot;Unclosed comment.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_330" id="line_330">  330.</a></span><span class="count                ">      1</span><span>    unclosed_mega: &quot;Unclosed mega literal.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_331" id="line_331">  331.</a></span><span class="count                ">      1</span><span>    unclosed_string: &quot;Unclosed string.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_332" id="line_332">  332.</a></span><span class="count                ">      1</span><span>    undeclared_a: &quot;Undeclared &apos;{a}&apos;.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_333" id="line_333">  333.</a></span><span class="count                ">      1</span><span>    unexpected_a: &quot;Unexpected &apos;{a}&apos;.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_334" id="line_334">  334.</a></span><span class="count                ">      1</span><span>    unexpected_a_after_b: &quot;Unexpected &apos;{a}&apos; after &apos;{b}&apos;.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_335" id="line_335">  335.</a></span><span class="count                ">      1</span><span>    unexpected_a_before_b: &quot;Unexpected &apos;{a}&apos; before &apos;{b}&apos;.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_336" id="line_336">  336.</a></span><span class="count                ">      1</span><span>    unexpected_at_top_level_a: &quot;Expected &apos;{a}&apos; to be in a function.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_337" id="line_337">  337.</a></span><span class="count                ">      1</span><span>    unexpected_char_a: &quot;Unexpected character &apos;{a}&apos;.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_338" id="line_338">  338.</a></span><span class="count                ">      1</span><span>    unexpected_comment: &quot;Unexpected comment.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_339" id="line_339">  339.</a></span><span class="count                ">      1</span><span>    unexpected_directive_a: &quot;When using modules, don&apos;t use directive &apos;/*{a}&apos;.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_340" id="line_340">  340.</a></span><span class="count                ">      1</span><span>    unexpected_expression_a: (</span></pre>
<pre><span class="lineno"><a href="#line_341" id="line_341">  341.</a></span><span class="count                ">      1</span><span>        &quot;Unexpected expression &apos;{a}&apos; in statement position.&quot;</span></pre>
<pre><span class="lineno"><a href="#line_342" id="line_342">  342.</a></span><span class="count                ">      1</span><span>    ),</span></pre>
<pre><span class="lineno"><a href="#line_343" id="line_343">  343.</a></span><span class="count                ">      1</span><span>    unexpected_label_a: &quot;Unexpected label &apos;{a}&apos;.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_344" id="line_344">  344.</a></span><span class="count                ">      1</span><span>    unexpected_parens: &quot;Don&apos;t wrap function literals in parens.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_345" id="line_345">  345.</a></span><span class="count                ">      1</span><span>    unexpected_space_a_b: &quot;Unexpected space between &apos;{a}&apos; and &apos;{b}&apos;.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_346" id="line_346">  346.</a></span><span class="count                ">      1</span><span>    unexpected_statement_a: (</span></pre>
<pre><span class="lineno"><a href="#line_347" id="line_347">  347.</a></span><span class="count                ">      1</span><span>        &quot;Unexpected statement &apos;{a}&apos; in expression position.&quot;</span></pre>
<pre><span class="lineno"><a href="#line_348" id="line_348">  348.</a></span><span class="count                ">      1</span><span>    ),</span></pre>
<pre><span class="lineno"><a href="#line_349" id="line_349">  349.</a></span><span class="count                ">      1</span><span>    unexpected_trailing_space: &quot;Unexpected trailing space.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_350" id="line_350">  350.</a></span><span class="count                ">      1</span><span>    unexpected_typeof_a: (</span></pre>
<pre><span class="lineno"><a href="#line_351" id="line_351">  351.</a></span><span class="count                ">      1</span><span>        &quot;Unexpected &apos;typeof&apos;. Use &apos;===&apos; to compare directly with {a}.&quot;</span></pre>
<pre><span class="lineno"><a href="#line_352" id="line_352">  352.</a></span><span class="count                ">      1</span><span>    ),</span></pre>
<pre><span class="lineno"><a href="#line_353" id="line_353">  353.</a></span><span class="count                ">      1</span><span>    uninitialized_a: &quot;Uninitialized &apos;{a}&apos;.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_354" id="line_354">  354.</a></span><span class="count                ">      1</span><span>    unordered_param_a: (</span></pre>
<pre><span class="lineno"><a href="#line_355" id="line_355">  355.</a></span><span class="count                ">      1</span><span>        &quot;Parameter &apos;{a}&apos; not listed in alphabetical order.&quot;</span></pre>
<pre><span class="lineno"><a href="#line_356" id="line_356">  356.</a></span><span class="count                ">      1</span><span>    ),</span></pre>
<pre><span class="lineno"><a href="#line_357" id="line_357">  357.</a></span><span class="count                ">      1</span><span>    unordered_property_a: (</span></pre>
<pre><span class="lineno"><a href="#line_358" id="line_358">  358.</a></span><span class="count                ">      1</span><span>        &quot;Property name &apos;{a}&apos; not listed in alphabetical order.&quot;</span></pre>
<pre><span class="lineno"><a href="#line_359" id="line_359">  359.</a></span><span class="count                ">      1</span><span>    ),</span></pre>
<pre><span class="lineno"><a href="#line_360" id="line_360">  360.</a></span><span class="count                ">      1</span><span>    unreachable_a: &quot;Unreachable &apos;{a}&apos;.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_361" id="line_361">  361.</a></span><span class="count                ">      1</span><span>    unregistered_property_a: &quot;Unregistered property name &apos;{a}&apos;.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_362" id="line_362">  362.</a></span><span class="count                ">      1</span><span>    unused_a: &quot;Unused &apos;{a}&apos;.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_363" id="line_363">  363.</a></span><span class="count                ">      1</span><span>    use_double: &quot;Use double quotes, not single quotes.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_364" id="line_364">  364.</a></span><span class="count                ">      1</span><span>    use_open: (</span></pre>
<pre><span class="lineno"><a href="#line_365" id="line_365">  365.</a></span><span class="count                ">      1</span><span>        &quot;Wrap a ternary expression in parens, &quot;</span></pre>
<pre><span class="lineno"><a href="#line_366" id="line_366">  366.</a></span><span class="count                ">      1</span><span>        + &quot;with a line break after the left paren.&quot;</span></pre>
<pre><span class="lineno"><a href="#line_367" id="line_367">  367.</a></span><span class="count                ">      1</span><span>    ),</span></pre>
<pre><span class="lineno"><a href="#line_368" id="line_368">  368.</a></span><span class="count                ">      1</span><span>    use_spaces: &quot;Use spaces, not tabs.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_369" id="line_369">  369.</a></span><span class="count                ">      1</span><span>    var_loop: &quot;Don&apos;t declare variables in a loop.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_370" id="line_370">  370.</a></span><span class="count                ">      1</span><span>    var_switch: &quot;Don&apos;t declare variables in a switch.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_371" id="line_371">  371.</a></span><span class="count                ">      1</span><span>    weird_condition_a: &quot;Weird condition &apos;{a}&apos;.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_372" id="line_372">  372.</a></span><span class="count                ">      1</span><span>    weird_expression_a: &quot;Weird expression &apos;{a}&apos;.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_373" id="line_373">  373.</a></span><span class="count                ">      1</span><span>    weird_loop: &quot;Weird loop.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_374" id="line_374">  374.</a></span><span class="count                ">      1</span><span>    weird_relation_a: &quot;Weird relation &apos;{a}&apos;.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_375" id="line_375">  375.</a></span><span class="count                ">      1</span><span>    wrap_condition: &quot;Wrap the condition in parens.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_376" id="line_376">  376.</a></span><span class="count                ">      1</span><span>    wrap_immediate: (</span></pre>
<pre><span class="lineno"><a href="#line_377" id="line_377">  377.</a></span><span class="count                ">      1</span><span>        &quot;Wrap an immediate function invocation in parentheses to assist &quot;</span></pre>
<pre><span class="lineno"><a href="#line_378" id="line_378">  378.</a></span><span class="count                ">      1</span><span>        + &quot;the reader in understanding that the expression is the result &quot;</span></pre>
<pre><span class="lineno"><a href="#line_379" id="line_379">  379.</a></span><span class="count                ">      1</span><span>        + &quot;of a function, and not the function itself.&quot;</span></pre>
<pre><span class="lineno"><a href="#line_380" id="line_380">  380.</a></span><span class="count                ">      1</span><span>    ),</span></pre>
<pre><span class="lineno"><a href="#line_381" id="line_381">  381.</a></span><span class="count                ">      1</span><span>    wrap_parameter: &quot;Wrap the parameter in parens.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_382" id="line_382">  382.</a></span><span class="count                ">      1</span><span>    wrap_regexp: &quot;Wrap this regexp in parens to avoid confusion.&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_383" id="line_383">  383.</a></span><span class="count                ">      1</span><span>    wrap_unary: &quot;Wrap the unary expression in parens.&quot;</span></pre>
<pre><span class="lineno"><a href="#line_384" id="line_384">  384.</a></span><span class="count                ">      1</span><span>};</span></pre>
<pre><span class="lineno"><a href="#line_385" id="line_385">  385.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_386" id="line_386">  386.</a></span><span class="count                ">      1</span><span>// Regular expression literals:</span></pre>
<pre><span class="lineno"><a href="#line_387" id="line_387">  387.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_388" id="line_388">  388.</a></span><span class="count                ">     12</span><span>function tag_regexp(strings) {</span></pre>
<pre><span class="lineno"><a href="#line_389" id="line_389">  389.</a></span><span class="count                ">     12</span><span>    return new RegExp(strings.raw[0].replace(/\s/g, &quot;&quot;));</span></pre>
<pre><span class="lineno"><a href="#line_390" id="line_390">  390.</a></span><span class="count                ">     12</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_391" id="line_391">  391.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_392" id="line_392">  392.</a></span><span class="count                ">      1</span><span>// supplant {variables}</span></pre>
<pre><span class="lineno"><a href="#line_393" id="line_393">  393.</a></span><span class="count                ">      1</span><span>const rx_supplant = /\{([^{}]*)\}/g;</span></pre>
<pre><span class="lineno"><a href="#line_394" id="line_394">  394.</a></span><span class="count                ">      1</span><span>// carriage return, carriage return linefeed, or linefeed</span></pre>
<pre><span class="lineno"><a href="#line_395" id="line_395">  395.</a></span><span class="count                ">      1</span><span>const rx_crlf = tag_regexp `</span></pre>
<pre><span class="lineno"><a href="#line_396" id="line_396">  396.</a></span><span class="count                ">      1</span><span>      \n</span></pre>
<pre><span class="lineno"><a href="#line_397" id="line_397">  397.</a></span><span class="count                ">      1</span><span>    | \r \n?</span></pre>
<pre><span class="lineno"><a href="#line_398" id="line_398">  398.</a></span><span class="count                ">      1</span><span>`;</span></pre>
<pre><span class="lineno"><a href="#line_399" id="line_399">  399.</a></span><span class="count                ">      1</span><span>// identifier</span></pre>
<pre><span class="lineno"><a href="#line_400" id="line_400">  400.</a></span><span class="count                ">      1</span><span>const rx_identifier = tag_regexp ` ^(</span></pre>
<pre><span class="lineno"><a href="#line_401" id="line_401">  401.</a></span><span class="count                ">      1</span><span>    [ a-z A-Z _ $ ]</span></pre>
<pre><span class="lineno"><a href="#line_402" id="line_402">  402.</a></span><span class="count                ">      1</span><span>    [ a-z A-Z 0-9 _ $ ]*</span></pre>
<pre><span class="lineno"><a href="#line_403" id="line_403">  403.</a></span><span class="count                ">      1</span><span>)$`;</span></pre>
<pre><span class="lineno"><a href="#line_404" id="line_404">  404.</a></span><span class="count                ">      1</span><span>const rx_module = tag_regexp ` ^ [ a-z A-Z 0-9 _ $ : . @ \- \/ ]+ $ `;</span></pre>
<pre><span class="lineno"><a href="#line_405" id="line_405">  405.</a></span><span class="count                ">      1</span><span>const rx_bad_property = tag_regexp `</span></pre>
<pre><span class="lineno"><a href="#line_406" id="line_406">  406.</a></span><span class="count                ">      1</span><span>    ^_</span></pre>
<pre><span class="lineno"><a href="#line_407" id="line_407">  407.</a></span><span class="count                ">      1</span><span>  | \$</span></pre>
<pre><span class="lineno"><a href="#line_408" id="line_408">  408.</a></span><span class="count                ">      1</span><span>  | Sync $</span></pre>
<pre><span class="lineno"><a href="#line_409" id="line_409">  409.</a></span><span class="count                ">      1</span><span>  | _ $</span></pre>
<pre><span class="lineno"><a href="#line_410" id="line_410">  410.</a></span><span class="count                ">      1</span><span>`;</span></pre>
<pre><span class="lineno"><a href="#line_411" id="line_411">  411.</a></span><span class="count                ">      1</span><span>// star slash</span></pre>
<pre><span class="lineno"><a href="#line_412" id="line_412">  412.</a></span><span class="count                ">      1</span><span>const rx_star_slash = tag_regexp ` \* \/ `;</span></pre>
<pre><span class="lineno"><a href="#line_413" id="line_413">  413.</a></span><span class="count                ">      1</span><span>// slash star</span></pre>
<pre><span class="lineno"><a href="#line_414" id="line_414">  414.</a></span><span class="count                ">      1</span><span>const rx_slash_star = tag_regexp ` \/ \* `;</span></pre>
<pre><span class="lineno"><a href="#line_415" id="line_415">  415.</a></span><span class="count                ">      1</span><span>// slash star or ending slash</span></pre>
<pre><span class="lineno"><a href="#line_416" id="line_416">  416.</a></span><span class="count                ">      1</span><span>const rx_slash_star_or_slash = tag_regexp ` \/ \* | \/ $ `;</span></pre>
<pre><span class="lineno"><a href="#line_417" id="line_417">  417.</a></span><span class="count                ">      1</span><span>// uncompleted work comment</span></pre>
<pre><span class="lineno"><a href="#line_418" id="line_418">  418.</a></span><span class="count                ">      1</span><span>const rx_todo = tag_regexp ` \b (?:</span></pre>
<pre><span class="lineno"><a href="#line_419" id="line_419">  419.</a></span><span class="count                ">      1</span><span>    todo</span></pre>
<pre><span class="lineno"><a href="#line_420" id="line_420">  420.</a></span><span class="count                ">      1</span><span>  | TO \s? DO</span></pre>
<pre><span class="lineno"><a href="#line_421" id="line_421">  421.</a></span><span class="count                ">      1</span><span>  | HACK</span></pre>
<pre><span class="lineno"><a href="#line_422" id="line_422">  422.</a></span><span class="count                ">      1</span><span>) \b `;</span></pre>
<pre><span class="lineno"><a href="#line_423" id="line_423">  423.</a></span><span class="count                ">      1</span><span>// tab</span></pre>
<pre><span class="lineno"><a href="#line_424" id="line_424">  424.</a></span><span class="count                ">      1</span><span>const rx_tab = /\t/g;</span></pre>
<pre><span class="lineno"><a href="#line_425" id="line_425">  425.</a></span><span class="count                ">      1</span><span>// directive</span></pre>
<pre><span class="lineno"><a href="#line_426" id="line_426">  426.</a></span><span class="count                ">      1</span><span>const rx_directive = tag_regexp ` ^ (</span></pre>
<pre><span class="lineno"><a href="#line_427" id="line_427">  427.</a></span><span class="count                ">      1</span><span>    jslint</span></pre>
<pre><span class="lineno"><a href="#line_428" id="line_428">  428.</a></span><span class="count                ">      1</span><span>  | property</span></pre>
<pre><span class="lineno"><a href="#line_429" id="line_429">  429.</a></span><span class="count                ">      1</span><span>  | global</span></pre>
<pre><span class="lineno"><a href="#line_430" id="line_430">  430.</a></span><span class="count                ">      1</span><span>) \s+ ( .* ) $ `;</span></pre>
<pre><span class="lineno"><a href="#line_431" id="line_431">  431.</a></span><span class="count                ">      1</span><span>const rx_directive_part = tag_regexp ` ^ (</span></pre>
<pre><span class="lineno"><a href="#line_432" id="line_432">  432.</a></span><span class="count                ">      1</span><span>    [ a-z A-Z $ _ ] [ a-z A-Z 0-9 $ _ ]*</span></pre>
<pre><span class="lineno"><a href="#line_433" id="line_433">  433.</a></span><span class="count                ">      1</span><span>) (?:</span></pre>
<pre><span class="lineno"><a href="#line_434" id="line_434">  434.</a></span><span class="count                ">      1</span><span>    : \s* ( true | false )</span></pre>
<pre><span class="lineno"><a href="#line_435" id="line_435">  435.</a></span><span class="count                ">      1</span><span>)? ,? \s* ( .* ) $ `;</span></pre>
<pre><span class="lineno"><a href="#line_436" id="line_436">  436.</a></span><span class="count                ">      1</span><span>// token</span></pre>
<pre><span class="lineno"><a href="#line_437" id="line_437">  437.</a></span><span class="count                ">      1</span><span>const rx_token = tag_regexp ` ^ (</span></pre>
<pre><span class="lineno"><a href="#line_438" id="line_438">  438.</a></span><span class="count                ">      1</span><span>    (\s+)</span></pre>
<pre><span class="lineno"><a href="#line_439" id="line_439">  439.</a></span><span class="count                ">      1</span><span>  | (</span></pre>
<pre><span class="lineno"><a href="#line_440" id="line_440">  440.</a></span><span class="count                ">      1</span><span>      [ a-z A-Z _ $ ]</span></pre>
<pre><span class="lineno"><a href="#line_441" id="line_441">  441.</a></span><span class="count                ">      1</span><span>      [ a-z A-Z 0-9 _ $ ]*</span></pre>
<pre><span class="lineno"><a href="#line_442" id="line_442">  442.</a></span><span class="count                ">      1</span><span>    )</span></pre>
<pre><span class="lineno"><a href="#line_443" id="line_443">  443.</a></span><span class="count                ">      1</span><span>  | [</span></pre>
<pre><span class="lineno"><a href="#line_444" id="line_444">  444.</a></span><span class="count                ">      1</span><span>      ( ) { } \[ \] , : ; &apos; &quot; ~ \`</span></pre>
<pre><span class="lineno"><a href="#line_445" id="line_445">  445.</a></span><span class="count                ">      1</span><span>  ]</span></pre>
<pre><span class="lineno"><a href="#line_446" id="line_446">  446.</a></span><span class="count                ">      1</span><span>  | \? [ ? . ]?</span></pre>
<pre><span class="lineno"><a href="#line_447" id="line_447">  447.</a></span><span class="count                ">      1</span><span>  | = (?:</span></pre>
<pre><span class="lineno"><a href="#line_448" id="line_448">  448.</a></span><span class="count                ">      1</span><span>        = =?</span></pre>
<pre><span class="lineno"><a href="#line_449" id="line_449">  449.</a></span><span class="count                ">      1</span><span>      | &gt;</span></pre>
<pre><span class="lineno"><a href="#line_450" id="line_450">  450.</a></span><span class="count                ">      1</span><span>    )?</span></pre>
<pre><span class="lineno"><a href="#line_451" id="line_451">  451.</a></span><span class="count                ">      1</span><span>  | \.+</span></pre>
<pre><span class="lineno"><a href="#line_452" id="line_452">  452.</a></span><span class="count                ">      1</span><span>  | \* [ * \/ = ]?</span></pre>
<pre><span class="lineno"><a href="#line_453" id="line_453">  453.</a></span><span class="count                ">      1</span><span>  | \/ [ * \/ ]?</span></pre>
<pre><span class="lineno"><a href="#line_454" id="line_454">  454.</a></span><span class="count                ">      1</span><span>  | \+ [ = + ]?</span></pre>
<pre><span class="lineno"><a href="#line_455" id="line_455">  455.</a></span><span class="count                ">      1</span><span>  | - [ = \- ]?</span></pre>
<pre><span class="lineno"><a href="#line_456" id="line_456">  456.</a></span><span class="count                ">      1</span><span>  | [ \^ % ] =?</span></pre>
<pre><span class="lineno"><a href="#line_457" id="line_457">  457.</a></span><span class="count                ">      1</span><span>  | &amp; [ &amp; = ]?</span></pre>
<pre><span class="lineno"><a href="#line_458" id="line_458">  458.</a></span><span class="count                ">      1</span><span>  | \| [ | = ]?</span></pre>
<pre><span class="lineno"><a href="#line_459" id="line_459">  459.</a></span><span class="count                ">      1</span><span>  | &gt;{1,3} =?</span></pre>
<pre><span class="lineno"><a href="#line_460" id="line_460">  460.</a></span><span class="count                ">      1</span><span>  | &lt; &lt;? =?</span></pre>
<pre><span class="lineno"><a href="#line_461" id="line_461">  461.</a></span><span class="count                ">      1</span><span>  | ! (?:</span></pre>
<pre><span class="lineno"><a href="#line_462" id="line_462">  462.</a></span><span class="count                ">      1</span><span>        !</span></pre>
<pre><span class="lineno"><a href="#line_463" id="line_463">  463.</a></span><span class="count                ">      1</span><span>      | = =?</span></pre>
<pre><span class="lineno"><a href="#line_464" id="line_464">  464.</a></span><span class="count                ">      1</span><span>    )?</span></pre>
<pre><span class="lineno"><a href="#line_465" id="line_465">  465.</a></span><span class="count                ">      1</span><span>  | (</span></pre>
<pre><span class="lineno"><a href="#line_466" id="line_466">  466.</a></span><span class="count                ">      1</span><span>        0</span></pre>
<pre><span class="lineno"><a href="#line_467" id="line_467">  467.</a></span><span class="count                ">      1</span><span>      | [ 1-9 ] [ 0-9 ]*</span></pre>
<pre><span class="lineno"><a href="#line_468" id="line_468">  468.</a></span><span class="count                ">      1</span><span>    )</span></pre>
<pre><span class="lineno"><a href="#line_469" id="line_469">  469.</a></span><span class="count                ">      1</span><span>) ( .* ) $ `;</span></pre>
<pre><span class="lineno"><a href="#line_470" id="line_470">  470.</a></span><span class="count                ">      1</span><span>const rx_digits = /^[0-9]*/;</span></pre>
<pre><span class="lineno"><a href="#line_471" id="line_471">  471.</a></span><span class="count                ">      1</span><span>const rx_hexs = /^[0-9A-F]*/i;</span></pre>
<pre><span class="lineno"><a href="#line_472" id="line_472">  472.</a></span><span class="count                ">      1</span><span>const rx_octals = /^[0-7]*/;</span></pre>
<pre><span class="lineno"><a href="#line_473" id="line_473">  473.</a></span><span class="count                ">      1</span><span>const rx_bits = /^[01]*/;</span></pre>
<pre><span class="lineno"><a href="#line_474" id="line_474">  474.</a></span><span class="count                ">      1</span><span>// mega</span></pre>
<pre><span class="lineno"><a href="#line_475" id="line_475">  475.</a></span><span class="count                ">      1</span><span>const rx_mega = /[`\\]|\$\{/;</span></pre>
<pre><span class="lineno"><a href="#line_476" id="line_476">  476.</a></span><span class="count                ">      1</span><span>// JSON number</span></pre>
<pre><span class="lineno"><a href="#line_477" id="line_477">  477.</a></span><span class="count                ">      1</span><span>const rx_JSON_number = tag_regexp ` ^</span></pre>
<pre><span class="lineno"><a href="#line_478" id="line_478">  478.</a></span><span class="count                ">      1</span><span>    -?</span></pre>
<pre><span class="lineno"><a href="#line_479" id="line_479">  479.</a></span><span class="count                ">      1</span><span>    (?: 0 | [ 1-9 ] \d* )</span></pre>
<pre><span class="lineno"><a href="#line_480" id="line_480">  480.</a></span><span class="count                ">      1</span><span>    (?: \. \d* )?</span></pre>
<pre><span class="lineno"><a href="#line_481" id="line_481">  481.</a></span><span class="count                ">      1</span><span>    (?: [ e E ] [ \- + ]? \d+ )?</span></pre>
<pre><span class="lineno"><a href="#line_482" id="line_482">  482.</a></span><span class="count                ">      1</span><span>$ `;</span></pre>
<pre><span class="lineno"><a href="#line_483" id="line_483">  483.</a></span><span class="count                ">      1</span><span>// initial cap</span></pre>
<pre><span class="lineno"><a href="#line_484" id="line_484">  484.</a></span><span class="count                ">      1</span><span>const rx_cap = /^[A-Z]/;</span></pre>
<pre><span class="lineno"><a href="#line_485" id="line_485">  485.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_486" id="line_486">  486.</a></span><span class="count                ">    167</span><span>function is_letter(string) {</span></pre>
<pre><span class="lineno"><a href="#line_487" id="line_487">  487.</a></span><span class="count                ">    167</span><span>    return (</span></pre>
<pre><span class="lineno"><a href="#line_488" id="line_488">  488.</a></span><span class="count                ">     77</span><span>        (string &gt;= &quot;a&quot; &amp;&amp; string &lt;= &quot;z\uffff&quot;)</span></pre>
<pre><span class="lineno"><a href="#line_489" id="line_489">  489.</a></span><span class="count                ">     93</span><span>        || (string &gt;= &quot;A&quot; &amp;&amp; string &lt;= &quot;Z\uffff&quot;)</span></pre>
<pre><span class="lineno"><a href="#line_490" id="line_490">  490.</a></span><span class="count                ">    167</span><span>    );</span></pre>
<pre><span class="lineno"><a href="#line_491" id="line_491">  491.</a></span><span class="count                ">    167</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_492" id="line_492">  492.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_493" id="line_493">  493.</a></span><span class="count                ">      1</span><span>let anon;               // The guessed name for anonymous functions.</span></pre>
<pre><span class="lineno"><a href="#line_494" id="line_494">  494.</a></span><span class="count                ">      1</span><span>let blockage;           // The current block.</span></pre>
<pre><span class="lineno"><a href="#line_495" id="line_495">  495.</a></span><span class="count                ">      1</span><span>let block_stack;        // The stack of blocks.</span></pre>
<pre><span class="lineno"><a href="#line_496" id="line_496">  496.</a></span><span class="count                ">      1</span><span>let declared_globals;   // The object containing the global declarations.</span></pre>
<pre><span class="lineno"><a href="#line_497" id="line_497">  497.</a></span><span class="count                ">      1</span><span>let directives;         // The directive comments.</span></pre>
<pre><span class="lineno"><a href="#line_498" id="line_498">  498.</a></span><span class="count                ">      1</span><span>let directive_mode;     // true if directives are still allowed.</span></pre>
<pre><span class="lineno"><a href="#line_499" id="line_499">  499.</a></span><span class="count                ">      1</span><span>let early_stop;         // true if JSLint cannot finish.</span></pre>
<pre><span class="lineno"><a href="#line_500" id="line_500">  500.</a></span><span class="count                ">      1</span><span>let exports;            // The exported names and values.</span></pre>
<pre><span class="lineno"><a href="#line_501" id="line_501">  501.</a></span><span class="count                ">      1</span><span>let froms;              // The array collecting all import-from strings.</span></pre>
<pre><span class="lineno"><a href="#line_502" id="line_502">  502.</a></span><span class="count                ">      1</span><span>let fudge;              // true if the natural numbers start with 1.</span></pre>
<pre><span class="lineno"><a href="#line_503" id="line_503">  503.</a></span><span class="count                ">      1</span><span>let functionage;        // The current function.</span></pre>
<pre><span class="lineno"><a href="#line_504" id="line_504">  504.</a></span><span class="count                ">      1</span><span>let functions;          // The array containing all of the functions.</span></pre>
<pre><span class="lineno"><a href="#line_505" id="line_505">  505.</a></span><span class="count                ">      1</span><span>let global;             // The global object; the outermost context.</span></pre>
<pre><span class="lineno"><a href="#line_506" id="line_506">  506.</a></span><span class="count                ">      1</span><span>let json_mode;          // true if parsing JSON.</span></pre>
<pre><span class="lineno"><a href="#line_507" id="line_507">  507.</a></span><span class="count                ">      1</span><span>let lines;              // The array containing source lines.</span></pre>
<pre><span class="lineno"><a href="#line_508" id="line_508">  508.</a></span><span class="count                ">      1</span><span>let mega_mode;          // true if currently parsing a megastring literal.</span></pre>
<pre><span class="lineno"><a href="#line_509" id="line_509">  509.</a></span><span class="count                ">      1</span><span>let module_mode;        // true if import or export was used.</span></pre>
<pre><span class="lineno"><a href="#line_510" id="line_510">  510.</a></span><span class="count                ">      1</span><span>let next_token;         // The next token to be examined in the parse.</span></pre>
<pre><span class="lineno"><a href="#line_511" id="line_511">  511.</a></span><span class="count                ">      1</span><span>let option;             // The options parameter.</span></pre>
<pre><span class="lineno"><a href="#line_512" id="line_512">  512.</a></span><span class="count                ">      1</span><span>let property;           // The object containing the tallied property names.</span></pre>
<pre><span class="lineno"><a href="#line_513" id="line_513">  513.</a></span><span class="count                ">      1</span><span>let shebang;            // true if a #! was seen on the first line.</span></pre>
<pre><span class="lineno"><a href="#line_514" id="line_514">  514.</a></span><span class="count                ">      1</span><span>let stack;              // The stack of functions.</span></pre>
<pre><span class="lineno"><a href="#line_515" id="line_515">  515.</a></span><span class="count                ">      1</span><span>let syntax;             // The object containing the parser.</span></pre>
<pre><span class="lineno"><a href="#line_516" id="line_516">  516.</a></span><span class="count                ">      1</span><span>let token;              // The current token being examined in the parse.</span></pre>
<pre><span class="lineno"><a href="#line_517" id="line_517">  517.</a></span><span class="count                ">      1</span><span>let token_nr;           // The number of the next token.</span></pre>
<pre><span class="lineno"><a href="#line_518" id="line_518">  518.</a></span><span class="count                ">      1</span><span>let tokens;             // The array of tokens.</span></pre>
<pre><span class="lineno"><a href="#line_519" id="line_519">  519.</a></span><span class="count                ">      1</span><span>let tenure;             // The predefined property registry.</span></pre>
<pre><span class="lineno"><a href="#line_520" id="line_520">  520.</a></span><span class="count                ">      1</span><span>let tree;               // The abstract parse tree.</span></pre>
<pre><span class="lineno"><a href="#line_521" id="line_521">  521.</a></span><span class="count                ">      1</span><span>let var_mode;           // &quot;var&quot; if using var; &quot;let&quot; if using let.</span></pre>
<pre><span class="lineno"><a href="#line_522" id="line_522">  522.</a></span><span class="count                ">      1</span><span>let warnings;           // The array collecting all generated warnings.</span></pre>
<pre><span class="lineno"><a href="#line_523" id="line_523">  523.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_524" id="line_524">  524.</a></span><span class="count                ">      1</span><span>// Error reportage functions:</span></pre>
<pre><span class="lineno"><a href="#line_525" id="line_525">  525.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_526" id="line_526">  526.</a></span><span class="count                ">    826</span><span>function artifact(the_token) {</span></pre>
<pre><span class="lineno"><a href="#line_527" id="line_527">  527.</a></span><span class="count                ">    826</span><span></span></pre>
<pre><span class="lineno"><a href="#line_528" id="line_528">  528.</a></span><span class="count                ">    826</span><span>// Return a string representing an artifact.</span></pre>
<pre><span class="lineno"><a href="#line_529" id="line_529">  529.</a></span><span class="count                ">    826</span><span></span></pre>
<pre><span class="lineno"><a href="#line_530" id="line_530">  530.</a></span><span class="count                ">     20</span><span>    if (the_token === undefined) {</span></pre>
<pre><span class="lineno"><a href="#line_531" id="line_531">  531.</a></span><span class="count                ">     20</span><span>        the_token = next_token;</span></pre>
<pre><span class="lineno"><a href="#line_532" id="line_532">  532.</a></span><span class="count                ">     20</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_533" id="line_533">  533.</a></span><span class="count                ">    826</span><span>    return (</span></pre>
<pre><span class="lineno"><a href="#line_534" id="line_534">  534.</a></span><span class="count                ">    819</span><span>        (the_token.id === &quot;(string)&quot; || the_token.id === &quot;(number)&quot;)</span></pre>
<pre><span class="lineno"><a href="#line_535" id="line_535">  535.</a></span><span class="count                ">     87</span><span>        ? String(the_token.value)</span></pre>
<pre><span class="lineno"><a href="#line_536" id="line_536">  536.</a></span><span class="count                ">    739</span><span>        : the_token.id</span></pre>
<pre><span class="lineno"><a href="#line_537" id="line_537">  537.</a></span><span class="count                ">    826</span><span>    );</span></pre>
<pre><span class="lineno"><a href="#line_538" id="line_538">  538.</a></span><span class="count                ">    826</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_539" id="line_539">  539.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_540" id="line_540">  540.</a></span><span class="count                ">    879</span><span>function warn_at(code, line, column, a, b, c, d) {</span></pre>
<pre><span class="lineno"><a href="#line_541" id="line_541">  541.</a></span><span class="count                ">    879</span><span></span></pre>
<pre><span class="lineno"><a href="#line_542" id="line_542">  542.</a></span><span class="count                ">    879</span><span>// Report an error at some line and column of the program. The warning object</span></pre>
<pre><span class="lineno"><a href="#line_543" id="line_543">  543.</a></span><span class="count                ">    879</span><span>// resembles an exception.</span></pre>
<pre><span class="lineno"><a href="#line_544" id="line_544">  544.</a></span><span class="count                ">    879</span><span></span></pre>
<pre><span class="lineno"><a href="#line_545" id="line_545">  545.</a></span><span class="count                ">    879</span><span>    const warning = {         // ~~</span></pre>
<pre><span class="lineno"><a href="#line_546" id="line_546">  546.</a></span><span class="count                ">    879</span><span>        code,</span></pre>
<pre><span class="lineno"><a href="#line_547" id="line_547">  547.</a></span><span class="count                ">    879</span><span>        column,</span></pre>
<pre><span class="lineno"><a href="#line_548" id="line_548">  548.</a></span><span class="count                ">    879</span><span>        line,</span></pre>
<pre><span class="lineno"><a href="#line_549" id="line_549">  549.</a></span><span class="count                ">    879</span><span>        name: &quot;JSLintError&quot;</span></pre>
<pre><span class="lineno"><a href="#line_550" id="line_550">  550.</a></span><span class="count                ">    879</span><span>    };</span></pre>
<pre><span class="lineno"><a href="#line_551" id="line_551">  551.</a></span><span class="count                ">    862</span><span>    if (a !== undefined) {</span></pre>
<pre><span class="lineno"><a href="#line_552" id="line_552">  552.</a></span><span class="count                ">    862</span><span>        warning.a = a;</span></pre>
<pre><span class="lineno"><a href="#line_553" id="line_553">  553.</a></span><span class="count                ">    862</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_554" id="line_554">  554.</a></span><span class="count                ">    315</span><span>    if (b !== undefined) {</span></pre>
<pre><span class="lineno"><a href="#line_555" id="line_555">  555.</a></span><span class="count                ">    315</span><span>        warning.b = b;</span></pre>
<pre><span class="lineno"><a href="#line_556" id="line_556">  556.</a></span><span class="count                ">    315</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_557" id="line_557">  557.</a></span><span class="count                ">     27</span><span>    if (c !== undefined) {</span></pre>
<pre><span class="lineno"><a href="#line_558" id="line_558">  558.</a></span><span class="count                ">     27</span><span>        warning.c = c;</span></pre>
<pre><span class="lineno"><a href="#line_559" id="line_559">  559.</a></span><span class="count                ">     27</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_560" id="line_560">  560.</a></span><span class="count                ">      3</span><span>    if (d !== undefined) {</span></pre>
<pre><span class="lineno"><a href="#line_561" id="line_561">  561.</a></span><span class="count                ">      3</span><span>        warning.d = d;</span></pre>
<pre><span class="lineno"><a href="#line_562" id="line_562">  562.</a></span><span class="count                ">      3</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_563" id="line_563">  563.</a></span><span class="count                ">   1115</span><span>    warning.message = bundle[code].replace(rx_supplant, function (</span></pre>
<pre><span class="lineno"><a href="#line_564" id="line_564">  564.</a></span><span class="count                ">   1115</span><span>        ignore,</span></pre>
<pre><span class="lineno"><a href="#line_565" id="line_565">  565.</a></span><span class="count                ">   1115</span><span>        filling</span></pre>
<pre><span class="lineno"><a href="#line_566" id="line_566">  566.</a></span><span class="count                ">   1115</span><span>    ) {</span></pre>
<pre><span class="lineno"><a href="#line_567" id="line_567">  567.</a></span><span class="count                ">   1115</span><span>        assert_or_throw(</span></pre>
<pre><span class="lineno"><a href="#line_568" id="line_568">  568.</a></span><span class="count                ">   1115</span><span>            warning[filling] !== undefined,</span></pre>
<pre><span class="lineno"><a href="#line_569" id="line_569">  569.</a></span><span class="count                ">   1115</span><span>            &quot;Expected warning[filling] !== undefined.&quot;</span></pre>
<pre><span class="lineno"><a href="#line_570" id="line_570">  570.</a></span><span class="count                ">   1115</span><span>        );</span></pre>
<pre><span class="lineno"><a href="#line_571" id="line_571">  571.</a></span><span class="count                ">   1115</span><span>        return warning[filling];</span></pre>
<pre><span class="lineno"><a href="#line_572" id="line_572">  572.</a></span><span class="count                ">   1115</span><span>    });</span></pre>
<pre><span class="lineno"><a href="#line_573" id="line_573">  573.</a></span><span class="count                ">    879</span><span></span></pre>
<pre><span class="lineno"><a href="#line_574" id="line_574">  574.</a></span><span class="count                ">    879</span><span>// Include stack_trace for jslint to debug itself for errors.</span></pre>
<pre><span class="lineno"><a href="#line_575" id="line_575">  575.</a></span><span class="count                ">    879</span><span></span></pre>
<pre><span class="lineno"><a href="#line_576" id="line_576">  576.</a></span><span class="count                ">      4</span><span>    if (option.debug) {</span></pre>
<pre><span class="lineno"><a href="#line_577" id="line_577">  577.</a></span><span class="count                ">      4</span><span>        warning.stack_trace = new Error().stack;</span></pre>
<pre><span class="lineno"><a href="#line_578" id="line_578">  578.</a></span><span class="count                ">      4</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_579" id="line_579">  579.</a></span><span class="count                ">    879</span><span>    warnings.push(warning);</span></pre>
<pre><span class="lineno"><a href="#line_580" id="line_580">  580.</a></span><span class="count                ">    879</span><span>    return warning;</span></pre>
<pre><span class="lineno"><a href="#line_581" id="line_581">  581.</a></span><span class="count                ">    879</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_582" id="line_582">  582.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_583" id="line_583">  583.</a></span><span class="count                ">     17</span><span>function stop_at(code, line, column, a, b, c, d) {</span></pre>
<pre><span class="lineno"><a href="#line_584" id="line_584">  584.</a></span><span class="count                ">     17</span><span></span></pre>
<pre><span class="lineno"><a href="#line_585" id="line_585">  585.</a></span><span class="count                ">     17</span><span>// Same as warn_at, except that it stops the analysis.</span></pre>
<pre><span class="lineno"><a href="#line_586" id="line_586">  586.</a></span><span class="count                ">     17</span><span></span></pre>
<pre><span class="lineno"><a href="#line_587" id="line_587">  587.</a></span><span class="count                ">     17</span><span>    throw warn_at(code, line, column, a, b, c, d);</span></pre>
<pre><span class="lineno"><a href="#line_588" id="line_588">  588.</a></span><span class="count                ">     17</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_589" id="line_589">  589.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_590" id="line_590">  590.</a></span><span class="count                ">    809</span><span>function warn(code, the_token, a, b, c, d) {</span></pre>
<pre><span class="lineno"><a href="#line_591" id="line_591">  591.</a></span><span class="count                ">    809</span><span></span></pre>
<pre><span class="lineno"><a href="#line_592" id="line_592">  592.</a></span><span class="count                ">    809</span><span>// Same as warn_at, except the warning will be associated with a specific token.</span></pre>
<pre><span class="lineno"><a href="#line_593" id="line_593">  593.</a></span><span class="count                ">    809</span><span>// If there is already a warning on this token, suppress the new one. It is</span></pre>
<pre><span class="lineno"><a href="#line_594" id="line_594">  594.</a></span><span class="count                ">    809</span><span>// likely that the first warning will be the most meaningful.</span></pre>
<pre><span class="lineno"><a href="#line_595" id="line_595">  595.</a></span><span class="count                ">    809</span><span></span></pre>
<pre><span class="lineno"><a href="#line_596" id="line_596">  596.</a></span><span class="count                ">     12</span><span>    if (the_token === undefined) {</span></pre>
<pre><span class="lineno"><a href="#line_597" id="line_597">  597.</a></span><span class="count                ">     12</span><span>        the_token = next_token;</span></pre>
<pre><span class="lineno"><a href="#line_598" id="line_598">  598.</a></span><span class="count                ">     12</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_599" id="line_599">  599.</a></span><span class="count                ">    656</span><span>    if (the_token.warning === undefined) {</span></pre>
<pre><span class="lineno"><a href="#line_600" id="line_600">  600.</a></span><span class="count                ">    656</span><span>        the_token.warning = warn_at(</span></pre>
<pre><span class="lineno"><a href="#line_601" id="line_601">  601.</a></span><span class="count                ">    656</span><span>            code,</span></pre>
<pre><span class="lineno"><a href="#line_602" id="line_602">  602.</a></span><span class="count                ">    656</span><span>            the_token.line,</span></pre>
<pre><span class="lineno"><a href="#line_603" id="line_603">  603.</a></span><span class="count                ">    656</span><span>            the_token.from,</span></pre>
<pre><span class="lineno"><a href="#line_604" id="line_604">  604.</a></span><span class="count                ">    656</span><span>            a || artifact(the_token),</span></pre>
<pre><span class="lineno"><a href="#line_605" id="line_605">  605.</a></span><span class="count                ">    656</span><span>            b,</span></pre>
<pre><span class="lineno"><a href="#line_606" id="line_606">  606.</a></span><span class="count                ">    656</span><span>            c,</span></pre>
<pre><span class="lineno"><a href="#line_607" id="line_607">  607.</a></span><span class="count                ">    656</span><span>            d</span></pre>
<pre><span class="lineno"><a href="#line_608" id="line_608">  608.</a></span><span class="count                ">    656</span><span>        );</span></pre>
<pre><span class="lineno"><a href="#line_609" id="line_609">  609.</a></span><span class="count                ">    656</span><span>        return the_token.warning;</span></pre>
<pre><span class="lineno"><a href="#line_610" id="line_610">  610.</a></span><span class="count                ">    656</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_611" id="line_611">  611.</a></span><span class="count                ">    809</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_612" id="line_612">  612.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_613" id="line_613">  613.</a></span><span class="count                ">     91</span><span>function stop(code, the_token, a, b, c, d) {</span></pre>
<pre><span class="lineno"><a href="#line_614" id="line_614">  614.</a></span><span class="count                ">     91</span><span></span></pre>
<pre><span class="lineno"><a href="#line_615" id="line_615">  615.</a></span><span class="count                ">     91</span><span>// Similar to warn and stop_at. If the token already had a warning, that</span></pre>
<pre><span class="lineno"><a href="#line_616" id="line_616">  616.</a></span><span class="count                ">     91</span><span>// warning will be replaced with this new one. It is likely that the stopping</span></pre>
<pre><span class="lineno"><a href="#line_617" id="line_617">  617.</a></span><span class="count                ">     91</span><span>// warning will be the more meaningful.</span></pre>
<pre><span class="lineno"><a href="#line_618" id="line_618">  618.</a></span><span class="count                ">     91</span><span></span></pre>
<pre><span class="lineno"><a href="#line_619" id="line_619">  619.</a></span><span class="count                ">     16</span><span>    if (the_token === undefined) {</span></pre>
<pre><span class="lineno"><a href="#line_620" id="line_620">  620.</a></span><span class="count                ">     16</span><span>        the_token = next_token;</span></pre>
<pre><span class="lineno"><a href="#line_621" id="line_621">  621.</a></span><span class="count                ">     16</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_622" id="line_622">  622.</a></span><span class="count                ">     91</span><span>    delete the_token.warning;</span></pre>
<pre><span class="lineno"><a href="#line_623" id="line_623">  623.</a></span><span class="count                ">     91</span><span>    throw warn(code, the_token, a, b, c, d);</span></pre>
<pre><span class="lineno"><a href="#line_624" id="line_624">  624.</a></span><span class="count                ">     91</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_625" id="line_625">  625.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_626" id="line_626">  626.</a></span><span class="count                ">      1</span><span>// Tokenize:</span></pre>
<pre><span class="lineno"><a href="#line_627" id="line_627">  627.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_628" id="line_628">  628.</a></span><span class="count                ">    405</span><span>function tokenize(source) {</span></pre>
<pre><span class="lineno"><a href="#line_629" id="line_629">  629.</a></span><span class="count                ">    405</span><span></span></pre>
<pre><span class="lineno"><a href="#line_630" id="line_630">  630.</a></span><span class="count                ">    405</span><span>// tokenize takes a source and produces from it an array of token objects.</span></pre>
<pre><span class="lineno"><a href="#line_631" id="line_631">  631.</a></span><span class="count                ">    405</span><span>// JavaScript is notoriously difficult to tokenize because of the horrible</span></pre>
<pre><span class="lineno"><a href="#line_632" id="line_632">  632.</a></span><span class="count                ">    405</span><span>// interactions between automatic semicolon insertion, regular expression</span></pre>
<pre><span class="lineno"><a href="#line_633" id="line_633">  633.</a></span><span class="count                ">    405</span><span>// literals, and now megastring literals. JSLint benefits from eliminating</span></pre>
<pre><span class="lineno"><a href="#line_634" id="line_634">  634.</a></span><span class="count                ">    405</span><span>// automatic semicolon insertion and nested megastring literals, which allows</span></pre>
<pre><span class="lineno"><a href="#line_635" id="line_635">  635.</a></span><span class="count                ">    405</span><span>// full tokenization to precede parsing.</span></pre>
<pre><span class="lineno"><a href="#line_636" id="line_636">  636.</a></span><span class="count                ">    405</span><span></span></pre>
<pre><span class="lineno"><a href="#line_637" id="line_637">  637.</a></span><span class="count                ">    405</span><span>// If the source is not an array, then it is split into lines at the</span></pre>
<pre><span class="lineno"><a href="#line_638" id="line_638">  638.</a></span><span class="count                ">    405</span><span>// carriage return/linefeed.</span></pre>
<pre><span class="lineno"><a href="#line_639" id="line_639">  639.</a></span><span class="count                ">    405</span><span></span></pre>
<pre><span class="lineno"><a href="#line_640" id="line_640">  640.</a></span><span class="count                ">    405</span><span>    lines = (</span></pre>
<pre><span class="lineno"><a href="#line_641" id="line_641">  641.</a></span><span class="count                ">    405</span><span>        Array.isArray(source)</span></pre>
<pre><span class="lineno"><a href="#line_642" id="line_642">  642.</a></span><span class="count                ">      1</span><span>        ? source</span></pre>
<pre><span class="lineno"><a href="#line_643" id="line_643">  643.</a></span><span class="count                ">    404</span><span>        : source.split(rx_crlf)</span></pre>
<pre><span class="lineno"><a href="#line_644" id="line_644">  644.</a></span><span class="count                ">    405</span><span>    );</span></pre>
<pre><span class="lineno"><a href="#line_645" id="line_645">  645.</a></span><span class="count                ">    405</span><span>    tokens = [];</span></pre>
<pre><span class="lineno"><a href="#line_646" id="line_646">  646.</a></span><span class="count                ">    405</span><span></span></pre>
<pre><span class="lineno"><a href="#line_647" id="line_647">  647.</a></span><span class="count                ">    405</span><span>    let char;                   // a popular character</span></pre>
<pre><span class="lineno"><a href="#line_648" id="line_648">  648.</a></span><span class="count                ">    405</span><span>    let column = 0;             // the column number of the next character</span></pre>
<pre><span class="lineno"><a href="#line_649" id="line_649">  649.</a></span><span class="count                ">    405</span><span>    let first;                  // the first token</span></pre>
<pre><span class="lineno"><a href="#line_650" id="line_650">  650.</a></span><span class="count                ">    405</span><span>    let from;                   // the starting column number of the token</span></pre>
<pre><span class="lineno"><a href="#line_651" id="line_651">  651.</a></span><span class="count                ">    405</span><span>    let line = -1;              // the line number of the next character</span></pre>
<pre><span class="lineno"><a href="#line_652" id="line_652">  652.</a></span><span class="count                ">    405</span><span>    let nr = 0;                 // the next token number</span></pre>
<pre><span class="lineno"><a href="#line_653" id="line_653">  653.</a></span><span class="count                ">    405</span><span>    let previous = global;      // the previous token including comments</span></pre>
<pre><span class="lineno"><a href="#line_654" id="line_654">  654.</a></span><span class="count                ">    405</span><span>    let prior = global;         // the previous token excluding comments</span></pre>
<pre><span class="lineno"><a href="#line_655" id="line_655">  655.</a></span><span class="count                ">    405</span><span>    let mega_from;              // the starting column of megastring</span></pre>
<pre><span class="lineno"><a href="#line_656" id="line_656">  656.</a></span><span class="count                ">    405</span><span>    let mega_line;              // the starting line of megastring</span></pre>
<pre><span class="lineno"><a href="#line_657" id="line_657">  657.</a></span><span class="count                ">    405</span><span>    let regexp_seen;            // regular expression literal seen on this line</span></pre>
<pre><span class="lineno"><a href="#line_658" id="line_658">  658.</a></span><span class="count                ">    405</span><span>    let snippet = &quot;&quot;;           // a piece of string</span></pre>
<pre><span class="lineno"><a href="#line_659" id="line_659">  659.</a></span><span class="count                ">    405</span><span>    let source_line = &quot;&quot;;       // the remaining line source string</span></pre>
<pre><span class="lineno"><a href="#line_660" id="line_660">  660.</a></span><span class="count                ">    405</span><span>    let whole_line = &quot;&quot;;        // the whole line source string</span></pre>
<pre><span class="lineno"><a href="#line_661" id="line_661">  661.</a></span><span class="count                ">    405</span><span></span></pre>
<pre><span class="lineno"><a href="#line_662" id="line_662">  662.</a></span><span class="count                ">      3</span><span>    if (lines[0].startsWith(&quot;#!&quot;)) {</span></pre>
<pre><span class="lineno"><a href="#line_663" id="line_663">  663.</a></span><span class="count                ">      3</span><span>        line = 0;</span></pre>
<pre><span class="lineno"><a href="#line_664" id="line_664">  664.</a></span><span class="count                ">      3</span><span>        shebang = true;</span></pre>
<pre><span class="lineno"><a href="#line_665" id="line_665">  665.</a></span><span class="count                ">      3</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_666" id="line_666">  666.</a></span><span class="count                ">    405</span><span></span></pre>
<pre><span class="lineno"><a href="#line_667" id="line_667">  667.</a></span><span class="count                ">  16909</span><span>    function next_line() {</span></pre>
<pre><span class="lineno"><a href="#line_668" id="line_668">  668.</a></span><span class="count                ">  16909</span><span></span></pre>
<pre><span class="lineno"><a href="#line_669" id="line_669">  669.</a></span><span class="count                ">  16909</span><span>// Put the next line of source in source_line. If the line contains tabs,</span></pre>
<pre><span class="lineno"><a href="#line_670" id="line_670">  670.</a></span><span class="count                ">  16909</span><span>// replace them with spaces and give a warning. Also warn if the line contains</span></pre>
<pre><span class="lineno"><a href="#line_671" id="line_671">  671.</a></span><span class="count                ">  16909</span><span>// unsafe characters or is too damn long.</span></pre>
<pre><span class="lineno"><a href="#line_672" id="line_672">  672.</a></span><span class="count                ">  16909</span><span></span></pre>
<pre><span class="lineno"><a href="#line_673" id="line_673">  673.</a></span><span class="count                ">  16909</span><span>        let at;</span></pre>
<pre><span class="lineno"><a href="#line_674" id="line_674">  674.</a></span><span class="count                ">  16909</span><span>        if (</span></pre>
<pre><span class="lineno"><a href="#line_675" id="line_675">  675.</a></span><span class="count                ">  16909</span><span>            !option.long</span></pre>
<pre><span class="lineno"><a href="#line_676" id="line_676">  676.</a></span><span class="count                ">  16906</span><span>            &amp;&amp; whole_line.length &gt; 80</span></pre>
<pre><span class="lineno"><a href="#line_677" id="line_677">  677.</a></span><span class="count                ">      1</span><span>            &amp;&amp; !json_mode</span></pre>
<pre><span class="lineno"><a href="#line_678" id="line_678">  678.</a></span><span class="count                ">      1</span><span>            &amp;&amp; first</span></pre>
<pre><span class="lineno"><a href="#line_679" id="line_679">  679.</a></span><span class="count                ">      1</span><span>            &amp;&amp; !regexp_seen</span></pre>
<pre><span class="lineno"><a href="#line_680" id="line_680">  680.</a></span><span class="count                ">      1</span><span>        ) {</span></pre>
<pre><span class="lineno"><a href="#line_681" id="line_681">  681.</a></span><span class="count                ">      1</span><span>            warn_at(&quot;too_long&quot;, line, 80);</span></pre>
<pre><span class="lineno"><a href="#line_682" id="line_682">  682.</a></span><span class="count                ">      1</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_683" id="line_683">  683.</a></span><span class="count                ">  16909</span><span>        column = 0;</span></pre>
<pre><span class="lineno"><a href="#line_684" id="line_684">  684.</a></span><span class="count                ">  16909</span><span>        line += 1;</span></pre>
<pre><span class="lineno"><a href="#line_685" id="line_685">  685.</a></span><span class="count                ">  16909</span><span>        regexp_seen = false;</span></pre>
<pre><span class="lineno"><a href="#line_686" id="line_686">  686.</a></span><span class="count                ">  16909</span><span>        source_line = lines[line];</span></pre>
<pre><span class="lineno"><a href="#line_687" id="line_687">  687.</a></span><span class="count                ">   4363</span><span>        whole_line = source_line || &quot;&quot;;</span></pre>
<pre><span class="lineno"><a href="#line_688" id="line_688">  688.</a></span><span class="count                ">  16522</span><span>        if (source_line !== undefined) {</span></pre>
<pre><span class="lineno"><a href="#line_689" id="line_689">  689.</a></span><span class="count                ">  16522</span><span>            at = source_line.search(rx_tab);</span></pre>
<pre><span class="lineno"><a href="#line_690" id="line_690">  690.</a></span><span class="count                ">  16522</span><span>            if (at &gt;= 0) {</span></pre>
<pre><span class="lineno"><a href="#line_691" id="line_691">  691.</a></span><span class="count                ">  16522</span><span>                if (!option.white) {</span></pre>
<pre><span class="lineno"><a href="#line_692" id="line_692">  692.</a></span><span class="count                ">  16522</span><span></span></pre>
<pre><span class="lineno"><a href="#line_693" id="line_693">  693.</a></span><span class="count                ">  16522</span><span>// cause: &quot;\t&quot;</span></pre>
<pre><span class="lineno"><a href="#line_694" id="line_694">  694.</a></span><span class="count                ">  16522</span><span></span></pre>
<pre><span class="lineno"><a href="#line_695" id="line_695">  695.</a></span><span class="count                ">  16522</span><span>                    warn_at(&quot;use_spaces&quot;, line, at + 1);</span></pre>
<pre><span class="lineno"><a href="#line_696" id="line_696">  696.</a></span><span class="count                ">  16522</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_697" id="line_697">  697.</a></span><span class="count                ">  16522</span><span>                source_line = source_line.replace(rx_tab, &quot; &quot;);</span></pre>
<pre><span class="lineno"><a href="#line_698" id="line_698">  698.</a></span><span class="count                ">  16522</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_699" id="line_699">  699.</a></span><span class="count                ">  16522</span><span>            if (!option.white &amp;&amp; source_line.slice(-1) === &quot; &quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_700" id="line_700">  700.</a></span><span class="count                ">  16522</span><span>                warn_at(</span></pre>
<pre><span class="lineno"><a href="#line_701" id="line_701">  701.</a></span><span class="count                ">  16522</span><span>                    &quot;unexpected_trailing_space&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_702" id="line_702">  702.</a></span><span class="count                ">  16522</span><span>                    line,</span></pre>
<pre><span class="lineno"><a href="#line_703" id="line_703">  703.</a></span><span class="count                ">  16522</span><span>                    source_line.length - 1</span></pre>
<pre><span class="lineno"><a href="#line_704" id="line_704">  704.</a></span><span class="count                ">  16522</span><span>                );</span></pre>
<pre><span class="lineno"><a href="#line_705" id="line_705">  705.</a></span><span class="count                ">  16522</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_706" id="line_706">  706.</a></span><span class="count                ">  16522</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_707" id="line_707">  707.</a></span><span class="count                ">  16909</span><span>        return source_line;</span></pre>
<pre><span class="lineno"><a href="#line_708" id="line_708">  708.</a></span><span class="count                ">  16909</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_709" id="line_709">  709.</a></span><span class="count                ">    405</span><span></span></pre>
<pre><span class="lineno"><a href="#line_710" id="line_710">  710.</a></span><span class="count                ">    405</span><span>// Most tokens, including the identifiers, operators, and punctuators, can be</span></pre>
<pre><span class="lineno"><a href="#line_711" id="line_711">  711.</a></span><span class="count                ">    405</span><span>// found with a regular expression. Regular expressions cannot correctly match</span></pre>
<pre><span class="lineno"><a href="#line_712" id="line_712">  712.</a></span><span class="count                ">    405</span><span>// regular expression literals, so we will match those the hard way. String</span></pre>
<pre><span class="lineno"><a href="#line_713" id="line_713">  713.</a></span><span class="count                ">    405</span><span>// literals and number literals can be matched by regular expressions, but they</span></pre>
<pre><span class="lineno"><a href="#line_714" id="line_714">  714.</a></span><span class="count                ">    405</span><span>// don&apos;t provide good warnings. The functions snip, next_char, back_char,</span></pre>
<pre><span class="lineno"><a href="#line_715" id="line_715">  715.</a></span><span class="count                ">    405</span><span>// some_digits, and escape help in the parsing of literals.</span></pre>
<pre><span class="lineno"><a href="#line_716" id="line_716">  716.</a></span><span class="count                ">    405</span><span></span></pre>
<pre><span class="lineno"><a href="#line_717" id="line_717">  717.</a></span><span class="count                ">   5112</span><span>    function snip() {</span></pre>
<pre><span class="lineno"><a href="#line_718" id="line_718">  718.</a></span><span class="count                ">   5112</span><span></span></pre>
<pre><span class="lineno"><a href="#line_719" id="line_719">  719.</a></span><span class="count                ">   5112</span><span>// Remove the last character from snippet.</span></pre>
<pre><span class="lineno"><a href="#line_720" id="line_720">  720.</a></span><span class="count                ">   5112</span><span></span></pre>
<pre><span class="lineno"><a href="#line_721" id="line_721">  721.</a></span><span class="count                ">   5112</span><span>        snippet = snippet.slice(0, -1);</span></pre>
<pre><span class="lineno"><a href="#line_722" id="line_722">  722.</a></span><span class="count                ">   5112</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_723" id="line_723">  723.</a></span><span class="count                ">    405</span><span></span></pre>
<pre><span class="lineno"><a href="#line_724" id="line_724">  724.</a></span><span class="count                ">  36155</span><span>    function next_char(match) {</span></pre>
<pre><span class="lineno"><a href="#line_725" id="line_725">  725.</a></span><span class="count                ">  36155</span><span></span></pre>
<pre><span class="lineno"><a href="#line_726" id="line_726">  726.</a></span><span class="count                ">  36155</span><span>// Get the next character from the source line. Remove it from the source_line,</span></pre>
<pre><span class="lineno"><a href="#line_727" id="line_727">  727.</a></span><span class="count                ">  36155</span><span>// and append it to the snippet. Optionally check that the previous character</span></pre>
<pre><span class="lineno"><a href="#line_728" id="line_728">  728.</a></span><span class="count                ">  36155</span><span>// matched an expected value.</span></pre>
<pre><span class="lineno"><a href="#line_729" id="line_729">  729.</a></span><span class="count                ">  36155</span><span></span></pre>
<pre><span class="lineno"><a href="#line_730" id="line_730">  730.</a></span><span class="count                ">    773</span><span>        if (match !== undefined &amp;&amp; char !== match) {</span></pre>
<pre><span class="lineno"><a href="#line_731" id="line_731">  731.</a></span><span class="count                ">      3</span><span>            return stop_at(</span></pre>
<pre><span class="lineno"><a href="#line_732" id="line_732">  732.</a></span><span class="count                ">      3</span><span>                (</span></pre>
<pre><span class="lineno"><a href="#line_733" id="line_733">  733.</a></span><span class="count                ">      3</span><span>                    char === &quot;&quot;</span></pre>
<pre><span class="lineno"><a href="#line_734" id="line_734">  734.</a></span><span class="count                ">      3</span><span>                    ? &quot;expected_a&quot;</span></pre>
<pre><span class="lineno"><a href="#line_735" id="line_735">  735.</a></span><span class="count                ">      3</span><span>                    : &quot;expected_a_b&quot;</span></pre>
<pre><span class="lineno"><a href="#line_736" id="line_736">  736.</a></span><span class="count                ">      3</span><span>                ),</span></pre>
<pre><span class="lineno"><a href="#line_737" id="line_737">  737.</a></span><span class="count                ">      3</span><span>                line,</span></pre>
<pre><span class="lineno"><a href="#line_738" id="line_738">  738.</a></span><span class="count                ">      3</span><span>                column - 1,</span></pre>
<pre><span class="lineno"><a href="#line_739" id="line_739">  739.</a></span><span class="count                ">      3</span><span>                match,</span></pre>
<pre><span class="lineno"><a href="#line_740" id="line_740">  740.</a></span><span class="count                ">      3</span><span>                char</span></pre>
<pre><span class="lineno"><a href="#line_741" id="line_741">  741.</a></span><span class="count                ">      3</span><span>            );</span></pre>
<pre><span class="lineno"><a href="#line_742" id="line_742">  742.</a></span><span class="count                ">  36152</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_743" id="line_743">  743.</a></span><span class="count                ">  36152</span><span>        if (source_line) {</span></pre>
<pre><span class="lineno"><a href="#line_744" id="line_744">  744.</a></span><span class="count                ">  35995</span><span>            char = source_line[0];</span></pre>
<pre><span class="lineno"><a href="#line_745" id="line_745">  745.</a></span><span class="count                ">  35995</span><span>            source_line = source_line.slice(1);</span></pre>
<pre><span class="lineno"><a href="#line_746" id="line_746">  746.</a></span><span class="count                ">  35995</span><span>            snippet += char;</span></pre>
<pre><span class="lineno"><a href="#line_747" id="line_747">  747.</a></span><span class="count                ">  35995</span><span>        } else {</span></pre>
<pre><span class="lineno"><a href="#line_748" id="line_748">  748.</a></span><span class="count                ">    157</span><span>            char = &quot;&quot;;</span></pre>
<pre><span class="lineno"><a href="#line_749" id="line_749">  749.</a></span><span class="count                ">    157</span><span>            snippet += &quot; &quot;;</span></pre>
<pre><span class="lineno"><a href="#line_750" id="line_750">  750.</a></span><span class="count                ">  36152</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_751" id="line_751">  751.</a></span><span class="count                ">  36152</span><span>        column += 1;</span></pre>
<pre><span class="lineno"><a href="#line_752" id="line_752">  752.</a></span><span class="count                ">  36152</span><span>        return char;</span></pre>
<pre><span class="lineno"><a href="#line_753" id="line_753">  753.</a></span><span class="count                ">  36152</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_754" id="line_754">  754.</a></span><span class="count                ">    405</span><span></span></pre>
<pre><span class="lineno"><a href="#line_755" id="line_755">  755.</a></span><span class="count                ">   1189</span><span>    function back_char() {</span></pre>
<pre><span class="lineno"><a href="#line_756" id="line_756">  756.</a></span><span class="count                ">   1189</span><span></span></pre>
<pre><span class="lineno"><a href="#line_757" id="line_757">  757.</a></span><span class="count                ">   1189</span><span>// Back up one character by moving a character from the end of the snippet to</span></pre>
<pre><span class="lineno"><a href="#line_758" id="line_758">  758.</a></span><span class="count                ">   1189</span><span>// the front of the source_line.</span></pre>
<pre><span class="lineno"><a href="#line_759" id="line_759">  759.</a></span><span class="count                ">   1189</span><span></span></pre>
<pre><span class="lineno"><a href="#line_760" id="line_760">  760.</a></span><span class="count                ">   1189</span><span>        char = snippet.slice(-1);</span></pre>
<pre><span class="lineno"><a href="#line_761" id="line_761">  761.</a></span><span class="count                ">   1189</span><span>        source_line = char + source_line;</span></pre>
<pre><span class="lineno"><a href="#line_762" id="line_762">  762.</a></span><span class="count                ">   1189</span><span>        column -= char.length;</span></pre>
<pre><span class="lineno"><a href="#line_763" id="line_763">  763.</a></span><span class="count                ">   1189</span><span>        snip();</span></pre>
<pre><span class="lineno"><a href="#line_764" id="line_764">  764.</a></span><span class="count                ">   1189</span><span>        return char;</span></pre>
<pre><span class="lineno"><a href="#line_765" id="line_765">  765.</a></span><span class="count                ">   1189</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_766" id="line_766">  766.</a></span><span class="count                ">    405</span><span></span></pre>
<pre><span class="lineno"><a href="#line_767" id="line_767">  767.</a></span><span class="count                ">     53</span><span>    function some_digits(rx, quiet) {</span></pre>
<pre><span class="lineno"><a href="#line_768" id="line_768">  768.</a></span><span class="count                ">     53</span><span>        const digits = source_line.match(rx)[0];</span></pre>
<pre><span class="lineno"><a href="#line_769" id="line_769">  769.</a></span><span class="count                ">     53</span><span>        const length = digits.length;</span></pre>
<pre><span class="lineno"><a href="#line_770" id="line_770">  770.</a></span><span class="count                ">     17</span><span>        if (!quiet &amp;&amp; length === 0) {</span></pre>
<pre><span class="lineno"><a href="#line_771" id="line_771">  771.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_772" id="line_772">  772.</a></span><span class="count                ">      1</span><span>// cause: &quot;0x&quot;</span></pre>
<pre><span class="lineno"><a href="#line_773" id="line_773">  773.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_774" id="line_774">  774.</a></span><span class="count                ">      1</span><span>            warn_at(&quot;expected_digits_after_a&quot;, line, column, snippet);</span></pre>
<pre><span class="lineno"><a href="#line_775" id="line_775">  775.</a></span><span class="count                ">      1</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_776" id="line_776">  776.</a></span><span class="count                ">     53</span><span>        column += length;</span></pre>
<pre><span class="lineno"><a href="#line_777" id="line_777">  777.</a></span><span class="count                ">     53</span><span>        source_line = source_line.slice(length);</span></pre>
<pre><span class="lineno"><a href="#line_778" id="line_778">  778.</a></span><span class="count                ">     53</span><span>        snippet += digits;</span></pre>
<pre><span class="lineno"><a href="#line_779" id="line_779">  779.</a></span><span class="count                ">     53</span><span>        next_char();</span></pre>
<pre><span class="lineno"><a href="#line_780" id="line_780">  780.</a></span><span class="count                ">     53</span><span>        return length;</span></pre>
<pre><span class="lineno"><a href="#line_781" id="line_781">  781.</a></span><span class="count                ">     53</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_782" id="line_782">  782.</a></span><span class="count                ">    405</span><span></span></pre>
<pre><span class="lineno"><a href="#line_783" id="line_783">  783.</a></span><span class="count                ">    403</span><span>    function escape(extra) {</span></pre>
<pre><span class="lineno"><a href="#line_784" id="line_784">  784.</a></span><span class="count                ">    403</span><span>        next_char(&quot;\\&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_785" id="line_785">  785.</a></span><span class="count                ">    226</span><span>        if (escapeable[char] === true) {</span></pre>
<pre><span class="lineno"><a href="#line_786" id="line_786">  786.</a></span><span class="count                ">    226</span><span>            return next_char();</span></pre>
<pre><span class="lineno"><a href="#line_787" id="line_787">  787.</a></span><span class="count                ">    226</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_788" id="line_788">  788.</a></span><span class="count                ">    177</span><span>        if (char === &quot;&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_789" id="line_789">  789.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_790" id="line_790">  790.</a></span><span class="count                ">      1</span><span>// cause: &quot;\&quot;\\&quot;</span></pre>
<pre><span class="lineno"><a href="#line_791" id="line_791">  791.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_792" id="line_792">  792.</a></span><span class="count                ">      1</span><span>            return stop_at(&quot;unclosed_string&quot;, line, column);</span></pre>
<pre><span class="lineno"><a href="#line_793" id="line_793">  793.</a></span><span class="count                ">    176</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_794" id="line_794">  794.</a></span><span class="count                ">    176</span><span>        if (char === &quot;u&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_795" id="line_795">  795.</a></span><span class="count                ">     36</span><span>            if (next_char(&quot;u&quot;) === &quot;{&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_796" id="line_796">  796.</a></span><span class="count                ">     36</span><span>                if (json_mode) {</span></pre>
<pre><span class="lineno"><a href="#line_797" id="line_797">  797.</a></span><span class="count                ">     36</span><span></span></pre>
<pre><span class="lineno"><a href="#line_798" id="line_798">  798.</a></span><span class="count                ">     36</span><span>// cause: &quot;[\&quot;\\u{12345}\&quot;]&quot;</span></pre>
<pre><span class="lineno"><a href="#line_799" id="line_799">  799.</a></span><span class="count                ">     36</span><span></span></pre>
<pre><span class="lineno"><a href="#line_800" id="line_800">  800.</a></span><span class="count                ">     36</span><span>                    warn_at(&quot;unexpected_a&quot;, line, column - 1, char);</span></pre>
<pre><span class="lineno"><a href="#line_801" id="line_801">  801.</a></span><span class="count                ">     36</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_802" id="line_802">  802.</a></span><span class="count                ">     36</span><span>                if (some_digits(rx_hexs) &gt; 5) {</span></pre>
<pre><span class="lineno"><a href="#line_803" id="line_803">  803.</a></span><span class="count                ">     36</span><span></span></pre>
<pre><span class="lineno"><a href="#line_804" id="line_804">  804.</a></span><span class="count                ">     36</span><span>// cause: &quot;\&quot;\\u{123456}\&quot;&quot;</span></pre>
<pre><span class="lineno"><a href="#line_805" id="line_805">  805.</a></span><span class="count                ">     36</span><span></span></pre>
<pre><span class="lineno"><a href="#line_806" id="line_806">  806.</a></span><span class="count                ">     36</span><span>                    warn_at(&quot;too_many_digits&quot;, line, column - 1);</span></pre>
<pre><span class="lineno"><a href="#line_807" id="line_807">  807.</a></span><span class="count                ">     36</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_808" id="line_808">  808.</a></span><span class="count                ">     36</span><span>                if (char !== &quot;}&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_809" id="line_809">  809.</a></span><span class="count                ">     36</span><span></span></pre>
<pre><span class="lineno"><a href="#line_810" id="line_810">  810.</a></span><span class="count                ">     36</span><span>// cause: &quot;\&quot;\\u{12345\&quot;&quot;</span></pre>
<pre><span class="lineno"><a href="#line_811" id="line_811">  811.</a></span><span class="count                ">     36</span><span></span></pre>
<pre><span class="lineno"><a href="#line_812" id="line_812">  812.</a></span><span class="count                ">     36</span><span>                    stop_at(&quot;expected_a_before_b&quot;, line, column, &quot;}&quot;, char);</span></pre>
<pre><span class="lineno"><a href="#line_813" id="line_813">  813.</a></span><span class="count                ">     36</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_814" id="line_814">  814.</a></span><span class="count                ">     36</span><span>                return next_char();</span></pre>
<pre><span class="lineno"><a href="#line_815" id="line_815">  815.</a></span><span class="count                ">     36</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_816" id="line_816">  816.</a></span><span class="count                ">     36</span><span>            back_char();</span></pre>
<pre><span class="lineno"><a href="#line_817" id="line_817">  817.</a></span><span class="count                ">     36</span><span>            if (some_digits(rx_hexs, true) &lt; 4) {</span></pre>
<pre><span class="lineno"><a href="#line_818" id="line_818">  818.</a></span><span class="count                ">     36</span><span></span></pre>
<pre><span class="lineno"><a href="#line_819" id="line_819">  819.</a></span><span class="count                ">     36</span><span>// cause: &quot;\&quot;\\u0\&quot;&quot;</span></pre>
<pre><span class="lineno"><a href="#line_820" id="line_820">  820.</a></span><span class="count                ">     36</span><span></span></pre>
<pre><span class="lineno"><a href="#line_821" id="line_821">  821.</a></span><span class="count                ">     36</span><span>                warn_at(&quot;expected_four_digits&quot;, line, column - 1);</span></pre>
<pre><span class="lineno"><a href="#line_822" id="line_822">  822.</a></span><span class="count                ">     36</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_823" id="line_823">  823.</a></span><span class="count                ">     36</span><span>            return;</span></pre>
<pre><span class="lineno"><a href="#line_824" id="line_824">  824.</a></span><span class="count                ">    140</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_825" id="line_825">  825.</a></span><span class="count                ">    140</span><span>        if (extra &amp;&amp; extra.indexOf(char) &gt;= 0) {</span></pre>
<pre><span class="lineno"><a href="#line_826" id="line_826">  826.</a></span><span class="count                ">    139</span><span>            return next_char();</span></pre>
<pre><span class="lineno"><a href="#line_827" id="line_827">  827.</a></span><span class="count                ">    139</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_828" id="line_828">  828.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_829" id="line_829">  829.</a></span><span class="count                ">      1</span><span>// cause: &quot;\&quot;\\a\&quot;&quot;</span></pre>
<pre><span class="lineno"><a href="#line_830" id="line_830">  830.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_831" id="line_831">  831.</a></span><span class="count                ">      1</span><span>        warn_at(&quot;unexpected_a_before_b&quot;, line, column - 2, &quot;\\&quot;, char);</span></pre>
<pre><span class="lineno"><a href="#line_832" id="line_832">  832.</a></span><span class="count                ">      1</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_833" id="line_833">  833.</a></span><span class="count                ">    405</span><span></span></pre>
<pre><span class="lineno"><a href="#line_834" id="line_834">  834.</a></span><span class="count                ">  57310</span><span>    function make(id, value, identifier) {</span></pre>
<pre><span class="lineno"><a href="#line_835" id="line_835">  835.</a></span><span class="count                ">  57310</span><span></span></pre>
<pre><span class="lineno"><a href="#line_836" id="line_836">  836.</a></span><span class="count                ">  57310</span><span>// Make the token object and append it to the tokens list.</span></pre>
<pre><span class="lineno"><a href="#line_837" id="line_837">  837.</a></span><span class="count                ">  57310</span><span></span></pre>
<pre><span class="lineno"><a href="#line_838" id="line_838">  838.</a></span><span class="count                ">  57310</span><span>        const the_token = {</span></pre>
<pre><span class="lineno"><a href="#line_839" id="line_839">  839.</a></span><span class="count                ">  57310</span><span>            from,</span></pre>
<pre><span class="lineno"><a href="#line_840" id="line_840">  840.</a></span><span class="count                ">  57310</span><span>            id,</span></pre>
<pre><span class="lineno"><a href="#line_841" id="line_841">  841.</a></span><span class="count                ">  57310</span><span>            identifier: Boolean(identifier),</span></pre>
<pre><span class="lineno"><a href="#line_842" id="line_842">  842.</a></span><span class="count                ">  57310</span><span>            line,</span></pre>
<pre><span class="lineno"><a href="#line_843" id="line_843">  843.</a></span><span class="count                ">  57310</span><span>            nr,</span></pre>
<pre><span class="lineno"><a href="#line_844" id="line_844">  844.</a></span><span class="count                ">  57310</span><span>            thru: column</span></pre>
<pre><span class="lineno"><a href="#line_845" id="line_845">  845.</a></span><span class="count                ">  57310</span><span>        };</span></pre>
<pre><span class="lineno"><a href="#line_846" id="line_846">  846.</a></span><span class="count                ">  57310</span><span>        tokens[nr] = the_token;</span></pre>
<pre><span class="lineno"><a href="#line_847" id="line_847">  847.</a></span><span class="count                ">  57310</span><span>        nr += 1;</span></pre>
<pre><span class="lineno"><a href="#line_848" id="line_848">  848.</a></span><span class="count                ">  57310</span><span></span></pre>
<pre><span class="lineno"><a href="#line_849" id="line_849">  849.</a></span><span class="count                ">  57310</span><span>// Directives must appear before the first statement.</span></pre>
<pre><span class="lineno"><a href="#line_850" id="line_850">  850.</a></span><span class="count                ">  57310</span><span></span></pre>
<pre><span class="lineno"><a href="#line_851" id="line_851">  851.</a></span><span class="count                ">  55648</span><span>        if (id !== &quot;(comment)&quot; &amp;&amp; id !== &quot;;&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_852" id="line_852">  852.</a></span><span class="count                ">  51329</span><span>            directive_mode = false;</span></pre>
<pre><span class="lineno"><a href="#line_853" id="line_853">  853.</a></span><span class="count                ">  51329</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_854" id="line_854">  854.</a></span><span class="count                ">  57310</span><span></span></pre>
<pre><span class="lineno"><a href="#line_855" id="line_855">  855.</a></span><span class="count                ">  57310</span><span>// If the token is to have a value, give it one.</span></pre>
<pre><span class="lineno"><a href="#line_856" id="line_856">  856.</a></span><span class="count                ">  57310</span><span></span></pre>
<pre><span class="lineno"><a href="#line_857" id="line_857">  857.</a></span><span class="count                ">   6743</span><span>        if (value !== undefined) {</span></pre>
<pre><span class="lineno"><a href="#line_858" id="line_858">  858.</a></span><span class="count                ">   6743</span><span>            the_token.value = value;</span></pre>
<pre><span class="lineno"><a href="#line_859" id="line_859">  859.</a></span><span class="count                ">   6743</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_860" id="line_860">  860.</a></span><span class="count                ">  57310</span><span></span></pre>
<pre><span class="lineno"><a href="#line_861" id="line_861">  861.</a></span><span class="count                ">  57310</span><span>// If this token is an identifier that touches a preceding number, or</span></pre>
<pre><span class="lineno"><a href="#line_862" id="line_862">  862.</a></span><span class="count                ">  57310</span><span>// a &quot;/&quot;, comment, or regular expression literal that touches a preceding</span></pre>
<pre><span class="lineno"><a href="#line_863" id="line_863">  863.</a></span><span class="count                ">  57310</span><span>// comment or regular expression literal, then give a missing space warning.</span></pre>
<pre><span class="lineno"><a href="#line_864" id="line_864">  864.</a></span><span class="count                ">  57310</span><span>// This warning is not suppressed by option.white.</span></pre>
<pre><span class="lineno"><a href="#line_865" id="line_865">  865.</a></span><span class="count                ">  57310</span><span></span></pre>
<pre><span class="lineno"><a href="#line_866" id="line_866">  866.</a></span><span class="count                ">  57310</span><span>        if (</span></pre>
<pre><span class="lineno"><a href="#line_867" id="line_867">  867.</a></span><span class="count                ">  57310</span><span>            previous.line === line</span></pre>
<pre><span class="lineno"><a href="#line_868" id="line_868">  868.</a></span><span class="count                ">  45169</span><span>            &amp;&amp; previous.thru === from</span></pre>
<pre><span class="lineno"><a href="#line_869" id="line_869">  869.</a></span><span class="count                ">  28817</span><span>            &amp;&amp; (id === &quot;(comment)&quot; || id === &quot;(regexp)&quot; || id === &quot;/&quot;)</span></pre>
<pre><span class="lineno"><a href="#line_870" id="line_870">  870.</a></span><span class="count                ">     53</span><span>            &amp;&amp; (previous.id === &quot;(comment)&quot; || previous.id === &quot;(regexp)&quot;)</span></pre>
<pre><span class="lineno"><a href="#line_871" id="line_871">  871.</a></span><span class="count                ">      1</span><span>        ) {</span></pre>
<pre><span class="lineno"><a href="#line_872" id="line_872">  872.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_873" id="line_873">  873.</a></span><span class="count                ">      1</span><span>// cause: &quot;/**//**/&quot;</span></pre>
<pre><span class="lineno"><a href="#line_874" id="line_874">  874.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_875" id="line_875">  875.</a></span><span class="count                ">      1</span><span>            warn(</span></pre>
<pre><span class="lineno"><a href="#line_876" id="line_876">  876.</a></span><span class="count                ">      1</span><span>                &quot;expected_space_a_b&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_877" id="line_877">  877.</a></span><span class="count                ">      1</span><span>                the_token,</span></pre>
<pre><span class="lineno"><a href="#line_878" id="line_878">  878.</a></span><span class="count                ">      1</span><span>                artifact(previous),</span></pre>
<pre><span class="lineno"><a href="#line_879" id="line_879">  879.</a></span><span class="count                ">      1</span><span>                artifact(the_token)</span></pre>
<pre><span class="lineno"><a href="#line_880" id="line_880">  880.</a></span><span class="count                ">      1</span><span>            );</span></pre>
<pre><span class="lineno"><a href="#line_881" id="line_881">  881.</a></span><span class="count                ">      1</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_882" id="line_882">  882.</a></span><span class="count                ">   3334</span><span>        if (previous.id === &quot;.&quot; &amp;&amp; id === &quot;(number)&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_883" id="line_883">  883.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_884" id="line_884">  884.</a></span><span class="count                ">      2</span><span>// cause: &quot;.0&quot;</span></pre>
<pre><span class="lineno"><a href="#line_885" id="line_885">  885.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_886" id="line_886">  886.</a></span><span class="count                ">      2</span><span>            warn(&quot;expected_a_before_b&quot;, previous, &quot;0&quot;, &quot;.&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_887" id="line_887">  887.</a></span><span class="count                ">      2</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_888" id="line_888">  888.</a></span><span class="count                ">   3334</span><span>        if (prior.id === &quot;.&quot; &amp;&amp; the_token.identifier) {</span></pre>
<pre><span class="lineno"><a href="#line_889" id="line_889">  889.</a></span><span class="count                ">   3330</span><span>            the_token.dot = true;</span></pre>
<pre><span class="lineno"><a href="#line_890" id="line_890">  890.</a></span><span class="count                ">   3330</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_891" id="line_891">  891.</a></span><span class="count                ">  57310</span><span></span></pre>
<pre><span class="lineno"><a href="#line_892" id="line_892">  892.</a></span><span class="count                ">  57310</span><span>// The previous token is used to detect adjacency problems.</span></pre>
<pre><span class="lineno"><a href="#line_893" id="line_893">  893.</a></span><span class="count                ">  57310</span><span></span></pre>
<pre><span class="lineno"><a href="#line_894" id="line_894">  894.</a></span><span class="count                ">  57310</span><span>        previous = the_token;</span></pre>
<pre><span class="lineno"><a href="#line_895" id="line_895">  895.</a></span><span class="count                ">  57310</span><span></span></pre>
<pre><span class="lineno"><a href="#line_896" id="line_896">  896.</a></span><span class="count                ">  57310</span><span>// The prior token is a previous token that was not a comment. The prior token</span></pre>
<pre><span class="lineno"><a href="#line_897" id="line_897">  897.</a></span><span class="count                ">  57310</span><span>// is used to disambiguate &quot;/&quot;, which can mean division or regular expression</span></pre>
<pre><span class="lineno"><a href="#line_898" id="line_898">  898.</a></span><span class="count                ">  57310</span><span>// literal.</span></pre>
<pre><span class="lineno"><a href="#line_899" id="line_899">  899.</a></span><span class="count                ">  57310</span><span></span></pre>
<pre><span class="lineno"><a href="#line_900" id="line_900">  900.</a></span><span class="count                ">  55648</span><span>        if (previous.id !== &quot;(comment)&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_901" id="line_901">  901.</a></span><span class="count                ">  55648</span><span>            prior = previous;</span></pre>
<pre><span class="lineno"><a href="#line_902" id="line_902">  902.</a></span><span class="count                ">  55648</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_903" id="line_903">  903.</a></span><span class="count                ">  57310</span><span>        return the_token;</span></pre>
<pre><span class="lineno"><a href="#line_904" id="line_904">  904.</a></span><span class="count                ">  57310</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_905" id="line_905">  905.</a></span><span class="count                ">    405</span><span></span></pre>
<pre><span class="lineno"><a href="#line_906" id="line_906">  906.</a></span><span class="count                ">    603</span><span>    function parse_directive(the_comment, body) {</span></pre>
<pre><span class="lineno"><a href="#line_907" id="line_907">  907.</a></span><span class="count                ">    603</span><span></span></pre>
<pre><span class="lineno"><a href="#line_908" id="line_908">  908.</a></span><span class="count                ">    603</span><span>// JSLint recognizes three directives that can be encoded in comments. This</span></pre>
<pre><span class="lineno"><a href="#line_909" id="line_909">  909.</a></span><span class="count                ">    603</span><span>// function processes one item, and calls itself recursively to process the</span></pre>
<pre><span class="lineno"><a href="#line_910" id="line_910">  910.</a></span><span class="count                ">    603</span><span>// next one.</span></pre>
<pre><span class="lineno"><a href="#line_911" id="line_911">  911.</a></span><span class="count                ">    603</span><span></span></pre>
<pre><span class="lineno"><a href="#line_912" id="line_912">  912.</a></span><span class="count                ">    603</span><span>        const result = body.match(rx_directive_part);</span></pre>
<pre><span class="lineno"><a href="#line_913" id="line_913">  913.</a></span><span class="count                ">    570</span><span>        if (result) {</span></pre>
<pre><span class="lineno"><a href="#line_914" id="line_914">  914.</a></span><span class="count                ">    570</span><span>            let allowed;</span></pre>
<pre><span class="lineno"><a href="#line_915" id="line_915">  915.</a></span><span class="count                ">    570</span><span>            const name = result[1];</span></pre>
<pre><span class="lineno"><a href="#line_916" id="line_916">  916.</a></span><span class="count                ">    570</span><span>            const value = result[2];</span></pre>
<pre><span class="lineno"><a href="#line_917" id="line_917">  917.</a></span><span class="count                ">    570</span><span>            if (the_comment.directive === &quot;jslint&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_918" id="line_918">  918.</a></span><span class="count                ">    570</span><span>                allowed = allowed_option[name];</span></pre>
<pre><span class="lineno"><a href="#line_919" id="line_919">  919.</a></span><span class="count                ">    570</span><span>                if (</span></pre>
<pre><span class="lineno"><a href="#line_920" id="line_920">  920.</a></span><span class="count                ">    570</span><span>                    typeof allowed === &quot;boolean&quot;</span></pre>
<pre><span class="lineno"><a href="#line_921" id="line_921">  921.</a></span><span class="count                ">    570</span><span>                    || typeof allowed === &quot;object&quot;</span></pre>
<pre><span class="lineno"><a href="#line_922" id="line_922">  922.</a></span><span class="count                ">    570</span><span>                ) {</span></pre>
<pre><span class="lineno"><a href="#line_923" id="line_923">  923.</a></span><span class="count                ">    570</span><span>                    if (value === &quot;true&quot; || value === undefined) {</span></pre>
<pre><span class="lineno"><a href="#line_924" id="line_924">  924.</a></span><span class="count                ">    570</span><span>                        option[name] = true;</span></pre>
<pre><span class="lineno"><a href="#line_925" id="line_925">  925.</a></span><span class="count                ">    570</span><span>                        if (Array.isArray(allowed)) {</span></pre>
<pre><span class="lineno"><a href="#line_926" id="line_926">  926.</a></span><span class="count                ">    570</span><span>                            populate(allowed, declared_globals, false);</span></pre>
<pre><span class="lineno"><a href="#line_927" id="line_927">  927.</a></span><span class="count                ">    570</span><span>                        }</span></pre>
<pre><span class="lineno"><a href="#line_928" id="line_928">  928.</a></span><span class="count                ">    570</span><span>                    } else if (value === &quot;false&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_929" id="line_929">  929.</a></span><span class="count                ">    570</span><span>                        option[name] = false;</span></pre>
<pre><span class="lineno"><a href="#line_930" id="line_930">  930.</a></span><span class="count                ">    570</span><span>                    }</span></pre>
<pre><span class="lineno"><a href="#line_931" id="line_931">  931.</a></span><span class="count                ">    570</span><span>                } else {</span></pre>
<pre><span class="lineno"><a href="#line_932" id="line_932">  932.</a></span><span class="count                ">    570</span><span></span></pre>
<pre><span class="lineno"><a href="#line_933" id="line_933">  933.</a></span><span class="count                ">    570</span><span>// cause: &quot;/*jslint undefined*/&quot;</span></pre>
<pre><span class="lineno"><a href="#line_934" id="line_934">  934.</a></span><span class="count                ">    570</span><span></span></pre>
<pre><span class="lineno"><a href="#line_935" id="line_935">  935.</a></span><span class="count                ">    570</span><span>                    warn(&quot;bad_option_a&quot;, the_comment, name);</span></pre>
<pre><span class="lineno"><a href="#line_936" id="line_936">  936.</a></span><span class="count                ">    570</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_937" id="line_937">  937.</a></span><span class="count                ">    570</span><span>            } else if (the_comment.directive === &quot;property&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_938" id="line_938">  938.</a></span><span class="count                ">    570</span><span>                if (tenure === undefined) {</span></pre>
<pre><span class="lineno"><a href="#line_939" id="line_939">  939.</a></span><span class="count                ">    570</span><span>                    tenure = empty();</span></pre>
<pre><span class="lineno"><a href="#line_940" id="line_940">  940.</a></span><span class="count                ">    570</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_941" id="line_941">  941.</a></span><span class="count                ">    570</span><span>                tenure[name] = true;</span></pre>
<pre><span class="lineno"><a href="#line_942" id="line_942">  942.</a></span><span class="count                ">    570</span><span>            } else if (the_comment.directive === &quot;global&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_943" id="line_943">  943.</a></span><span class="count                ">    570</span><span>                if (value) {</span></pre>
<pre><span class="lineno"><a href="#line_944" id="line_944">  944.</a></span><span class="count                ">    570</span><span></span></pre>
<pre><span class="lineno"><a href="#line_945" id="line_945">  945.</a></span><span class="count                ">    570</span><span>// cause: &quot;/*global aa:false*/&quot;</span></pre>
<pre><span class="lineno"><a href="#line_946" id="line_946">  946.</a></span><span class="count                ">    570</span><span></span></pre>
<pre><span class="lineno"><a href="#line_947" id="line_947">  947.</a></span><span class="count                ">    570</span><span>                    warn(&quot;bad_option_a&quot;, the_comment, name + &quot;:&quot; + value);</span></pre>
<pre><span class="lineno"><a href="#line_948" id="line_948">  948.</a></span><span class="count                ">    570</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_949" id="line_949">  949.</a></span><span class="count                ">    570</span><span>                declared_globals[name] = false;</span></pre>
<pre><span class="lineno"><a href="#line_950" id="line_950">  950.</a></span><span class="count                ">    570</span><span>                module_mode = the_comment;</span></pre>
<pre><span class="lineno"><a href="#line_951" id="line_951">  951.</a></span><span class="count                ">    570</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_952" id="line_952">  952.</a></span><span class="count                ">    570</span><span>            return parse_directive(the_comment, result[3]);</span></pre>
<pre><span class="lineno"><a href="#line_953" id="line_953">  953.</a></span><span class="count                ">    570</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_954" id="line_954">  954.</a></span><span class="count                ">     33</span><span>        if (body) {</span></pre>
<pre><span class="lineno"><a href="#line_955" id="line_955">  955.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_956" id="line_956">  956.</a></span><span class="count                ">      1</span><span>// cause: &quot;/*jslint !*/&quot;</span></pre>
<pre><span class="lineno"><a href="#line_957" id="line_957">  957.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_958" id="line_958">  958.</a></span><span class="count                ">      1</span><span>            return stop(&quot;bad_directive_a&quot;, the_comment, body);</span></pre>
<pre><span class="lineno"><a href="#line_959" id="line_959">  959.</a></span><span class="count                ">      1</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_960" id="line_960">  960.</a></span><span class="count                ">    603</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_961" id="line_961">  961.</a></span><span class="count                ">    405</span><span></span></pre>
<pre><span class="lineno"><a href="#line_962" id="line_962">  962.</a></span><span class="count                ">   1662</span><span>    function comment(snippet) {</span></pre>
<pre><span class="lineno"><a href="#line_963" id="line_963">  963.</a></span><span class="count                ">   1662</span><span></span></pre>
<pre><span class="lineno"><a href="#line_964" id="line_964">  964.</a></span><span class="count                ">   1662</span><span>// Make a comment object. Comments are not allowed in JSON text. Comments can</span></pre>
<pre><span class="lineno"><a href="#line_965" id="line_965">  965.</a></span><span class="count                ">   1662</span><span>// include directives and notices of incompletion.</span></pre>
<pre><span class="lineno"><a href="#line_966" id="line_966">  966.</a></span><span class="count                ">   1662</span><span></span></pre>
<pre><span class="lineno"><a href="#line_967" id="line_967">  967.</a></span><span class="count                ">   1662</span><span>        const the_comment = make(&quot;(comment)&quot;, snippet);</span></pre>
<pre><span class="lineno"><a href="#line_968" id="line_968">  968.</a></span><span class="count                ">     51</span><span>        if (Array.isArray(snippet)) {</span></pre>
<pre><span class="lineno"><a href="#line_969" id="line_969">  969.</a></span><span class="count                ">     51</span><span>            snippet = snippet.join(&quot; &quot;);</span></pre>
<pre><span class="lineno"><a href="#line_970" id="line_970">  970.</a></span><span class="count                ">     51</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_971" id="line_971">  971.</a></span><span class="count                ">   1657</span><span>        if (!option.devel &amp;&amp; rx_todo.test(snippet)) {</span></pre>
<pre><span class="lineno"><a href="#line_972" id="line_972">  972.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_973" id="line_973">  973.</a></span><span class="count                ">      1</span><span>// cause: &quot;//\u0074odo&quot;</span></pre>
<pre><span class="lineno"><a href="#line_974" id="line_974">  974.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_975" id="line_975">  975.</a></span><span class="count                ">      1</span><span>            warn(&quot;todo_comment&quot;, the_comment);</span></pre>
<pre><span class="lineno"><a href="#line_976" id="line_976">  976.</a></span><span class="count                ">      1</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_977" id="line_977">  977.</a></span><span class="count                ">   1662</span><span>        const result = snippet.match(rx_directive);</span></pre>
<pre><span class="lineno"><a href="#line_978" id="line_978">  978.</a></span><span class="count                ">     34</span><span>        if (result) {</span></pre>
<pre><span class="lineno"><a href="#line_979" id="line_979">  979.</a></span><span class="count                ">     34</span><span>            if (!directive_mode) {</span></pre>
<pre><span class="lineno"><a href="#line_980" id="line_980">  980.</a></span><span class="count                ">     34</span><span></span></pre>
<pre><span class="lineno"><a href="#line_981" id="line_981">  981.</a></span><span class="count                ">     34</span><span>// cause: &quot;0\n/*global aa*/&quot;</span></pre>
<pre><span class="lineno"><a href="#line_982" id="line_982">  982.</a></span><span class="count                ">     34</span><span></span></pre>
<pre><span class="lineno"><a href="#line_983" id="line_983">  983.</a></span><span class="count                ">     34</span><span>                warn_at(&quot;misplaced_directive_a&quot;, line, from, result[1]);</span></pre>
<pre><span class="lineno"><a href="#line_984" id="line_984">  984.</a></span><span class="count                ">     34</span><span>            } else {</span></pre>
<pre><span class="lineno"><a href="#line_985" id="line_985">  985.</a></span><span class="count                ">     34</span><span>                the_comment.directive = result[1];</span></pre>
<pre><span class="lineno"><a href="#line_986" id="line_986">  986.</a></span><span class="count                ">     34</span><span>                parse_directive(the_comment, result[2]);</span></pre>
<pre><span class="lineno"><a href="#line_987" id="line_987">  987.</a></span><span class="count                ">     34</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_988" id="line_988">  988.</a></span><span class="count                ">     34</span><span>            directives.push(the_comment);</span></pre>
<pre><span class="lineno"><a href="#line_989" id="line_989">  989.</a></span><span class="count                ">   1661</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_990" id="line_990">  990.</a></span><span class="count                ">   1661</span><span>        return the_comment;</span></pre>
<pre><span class="lineno"><a href="#line_991" id="line_991">  991.</a></span><span class="count                ">   1661</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_992" id="line_992">  992.</a></span><span class="count                ">    405</span><span></span></pre>
<pre><span class="lineno"><a href="#line_993" id="line_993">  993.</a></span><span class="count                ">     97</span><span>    function regexp() {</span></pre>
<pre><span class="lineno"><a href="#line_994" id="line_994">  994.</a></span><span class="count                ">     97</span><span></span></pre>
<pre><span class="lineno"><a href="#line_995" id="line_995">  995.</a></span><span class="count                ">     97</span><span>// Parse a regular expression literal.</span></pre>
<pre><span class="lineno"><a href="#line_996" id="line_996">  996.</a></span><span class="count                ">     97</span><span></span></pre>
<pre><span class="lineno"><a href="#line_997" id="line_997">  997.</a></span><span class="count                ">     97</span><span>        let multi_mode = false;</span></pre>
<pre><span class="lineno"><a href="#line_998" id="line_998">  998.</a></span><span class="count                ">     97</span><span>        let result;</span></pre>
<pre><span class="lineno"><a href="#line_999" id="line_999">  999.</a></span><span class="count                ">     97</span><span>        let value;</span></pre>
<pre><span class="lineno"><a href="#line_1000" id="line_1000"> 1000.</a></span><span class="count                ">     97</span><span>        regexp_seen = true;</span></pre>
<pre><span class="lineno"><a href="#line_1001" id="line_1001"> 1001.</a></span><span class="count                ">     97</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1002" id="line_1002"> 1002.</a></span><span class="count                ">    546</span><span>        function quantifier() {</span></pre>
<pre><span class="lineno"><a href="#line_1003" id="line_1003"> 1003.</a></span><span class="count                ">    546</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1004" id="line_1004"> 1004.</a></span><span class="count                ">    546</span><span>// Match an optional quantifier.</span></pre>
<pre><span class="lineno"><a href="#line_1005" id="line_1005"> 1005.</a></span><span class="count                ">    546</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1006" id="line_1006"> 1006.</a></span><span class="count                ">    540</span><span>            if (char === &quot;?&quot; || char === &quot;*&quot; || char === &quot;+&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1007" id="line_1007"> 1007.</a></span><span class="count                ">     46</span><span>                next_char();</span></pre>
<pre><span class="lineno"><a href="#line_1008" id="line_1008"> 1008.</a></span><span class="count                ">    500</span><span>            } else if (char === &quot;{&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1009" id="line_1009"> 1009.</a></span><span class="count                ">    500</span><span>                if (some_digits(rx_digits, true) === 0) {</span></pre>
<pre><span class="lineno"><a href="#line_1010" id="line_1010"> 1010.</a></span><span class="count                ">    500</span><span>                    warn_at(&quot;expected_a_before_b&quot;, line, column, &quot;0&quot;, &quot;,&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_1011" id="line_1011"> 1011.</a></span><span class="count                ">    500</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_1012" id="line_1012"> 1012.</a></span><span class="count                ">    500</span><span>                if (char === &quot;,&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1013" id="line_1013"> 1013.</a></span><span class="count                ">    500</span><span>                    some_digits(rx_digits, true);</span></pre>
<pre><span class="lineno"><a href="#line_1014" id="line_1014"> 1014.</a></span><span class="count                ">    500</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_1015" id="line_1015"> 1015.</a></span><span class="count                ">    500</span><span>                next_char(&quot;}&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_1016" id="line_1016"> 1016.</a></span><span class="count                ">    500</span><span>            } else {</span></pre>
<pre><span class="lineno"><a href="#line_1017" id="line_1017"> 1017.</a></span><span class="count                ">    500</span><span>                return;</span></pre>
<pre><span class="lineno"><a href="#line_1018" id="line_1018"> 1018.</a></span><span class="count                ">    500</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_1019" id="line_1019"> 1019.</a></span><span class="count                ">     48</span><span>            if (char === &quot;?&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1020" id="line_1020"> 1020.</a></span><span class="count                ">     28</span><span>                next_char(&quot;?&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_1021" id="line_1021"> 1021.</a></span><span class="count                ">     28</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_1022" id="line_1022"> 1022.</a></span><span class="count                ">    546</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_1023" id="line_1023"> 1023.</a></span><span class="count                ">     97</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1024" id="line_1024"> 1024.</a></span><span class="count                ">    103</span><span>        function subklass() {</span></pre>
<pre><span class="lineno"><a href="#line_1025" id="line_1025"> 1025.</a></span><span class="count                ">    103</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1026" id="line_1026"> 1026.</a></span><span class="count                ">    103</span><span>// Match a character in a character class.</span></pre>
<pre><span class="lineno"><a href="#line_1027" id="line_1027"> 1027.</a></span><span class="count                ">    103</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1028" id="line_1028"> 1028.</a></span><span class="count                ">     23</span><span>            if (char === &quot;\\&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1029" id="line_1029"> 1029.</a></span><span class="count                ">     23</span><span>                escape(&quot;BbDdSsWw-[]^&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_1030" id="line_1030"> 1030.</a></span><span class="count                ">     23</span><span>                return true;</span></pre>
<pre><span class="lineno"><a href="#line_1031" id="line_1031"> 1031.</a></span><span class="count                ">     80</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_1032" id="line_1032"> 1032.</a></span><span class="count                ">     80</span><span>            if (</span></pre>
<pre><span class="lineno"><a href="#line_1033" id="line_1033"> 1033.</a></span><span class="count                ">     80</span><span>                char === &quot;&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1034" id="line_1034"> 1034.</a></span><span class="count                ">     80</span><span>                || char === &quot;[&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1035" id="line_1035"> 1035.</a></span><span class="count                ">     79</span><span>                || char === &quot;]&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1036" id="line_1036"> 1036.</a></span><span class="count                ">     48</span><span>                || char === &quot;/&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1037" id="line_1037"> 1037.</a></span><span class="count                ">     47</span><span>                || char === &quot;^&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1038" id="line_1038"> 1038.</a></span><span class="count                ">     47</span><span>                || char === &quot;-&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1039" id="line_1039"> 1039.</a></span><span class="count                ">     33</span><span>            ) {</span></pre>
<pre><span class="lineno"><a href="#line_1040" id="line_1040"> 1040.</a></span><span class="count                ">     33</span><span>                return false;</span></pre>
<pre><span class="lineno"><a href="#line_1041" id="line_1041"> 1041.</a></span><span class="count                ">     47</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_1042" id="line_1042"> 1042.</a></span><span class="count                ">     47</span><span>            if (char === &quot; &quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1043" id="line_1043"> 1043.</a></span><span class="count                ">      1</span><span>                warn_at(&quot;expected_a_b&quot;, line, column, &quot;\\u0020&quot;, &quot; &quot;);</span></pre>
<pre><span class="lineno"><a href="#line_1044" id="line_1044"> 1044.</a></span><span class="count                ">     46</span><span>            } else if (char === &quot;`&quot; &amp;&amp; mega_mode) {</span></pre>
<pre><span class="lineno"><a href="#line_1045" id="line_1045"> 1045.</a></span><span class="count                ">     46</span><span>                warn_at(&quot;unexpected_a&quot;, line, column, &quot;`&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_1046" id="line_1046"> 1046.</a></span><span class="count                ">     47</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_1047" id="line_1047"> 1047.</a></span><span class="count                ">     47</span><span>            next_char();</span></pre>
<pre><span class="lineno"><a href="#line_1048" id="line_1048"> 1048.</a></span><span class="count                ">     47</span><span>            return true;</span></pre>
<pre><span class="lineno"><a href="#line_1049" id="line_1049"> 1049.</a></span><span class="count                ">     47</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_1050" id="line_1050"> 1050.</a></span><span class="count                ">     97</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1051" id="line_1051"> 1051.</a></span><span class="count                ">     90</span><span>        function ranges() {</span></pre>
<pre><span class="lineno"><a href="#line_1052" id="line_1052"> 1052.</a></span><span class="count                ">     90</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1053" id="line_1053"> 1053.</a></span><span class="count                ">     90</span><span>// Match a range of subclasses.</span></pre>
<pre><span class="lineno"><a href="#line_1054" id="line_1054"> 1054.</a></span><span class="count                ">     90</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1055" id="line_1055"> 1055.</a></span><span class="count                ">     58</span><span>            if (subklass()) {</span></pre>
<pre><span class="lineno"><a href="#line_1056" id="line_1056"> 1056.</a></span><span class="count                ">     58</span><span>                if (char === &quot;-&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1057" id="line_1057"> 1057.</a></span><span class="count                ">     58</span><span>                    next_char(&quot;-&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_1058" id="line_1058"> 1058.</a></span><span class="count                ">     58</span><span>                    if (!subklass()) {</span></pre>
<pre><span class="lineno"><a href="#line_1059" id="line_1059"> 1059.</a></span><span class="count                ">     58</span><span>                        return stop_at(</span></pre>
<pre><span class="lineno"><a href="#line_1060" id="line_1060"> 1060.</a></span><span class="count                ">     58</span><span>                            &quot;unexpected_a&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_1061" id="line_1061"> 1061.</a></span><span class="count                ">     58</span><span>                            line,</span></pre>
<pre><span class="lineno"><a href="#line_1062" id="line_1062"> 1062.</a></span><span class="count                ">     58</span><span>                            column - 1,</span></pre>
<pre><span class="lineno"><a href="#line_1063" id="line_1063"> 1063.</a></span><span class="count                ">     58</span><span>                            &quot;-&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1064" id="line_1064"> 1064.</a></span><span class="count                ">     58</span><span>                        );</span></pre>
<pre><span class="lineno"><a href="#line_1065" id="line_1065"> 1065.</a></span><span class="count                ">     58</span><span>                    }</span></pre>
<pre><span class="lineno"><a href="#line_1066" id="line_1066"> 1066.</a></span><span class="count                ">     58</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_1067" id="line_1067"> 1067.</a></span><span class="count                ">     58</span><span>                return ranges();</span></pre>
<pre><span class="lineno"><a href="#line_1068" id="line_1068"> 1068.</a></span><span class="count                ">     58</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_1069" id="line_1069"> 1069.</a></span><span class="count                ">     90</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_1070" id="line_1070"> 1070.</a></span><span class="count                ">     97</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1071" id="line_1071"> 1071.</a></span><span class="count                ">     32</span><span>        function klass() {</span></pre>
<pre><span class="lineno"><a href="#line_1072" id="line_1072"> 1072.</a></span><span class="count                ">     32</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1073" id="line_1073"> 1073.</a></span><span class="count                ">     32</span><span>// Match a class.</span></pre>
<pre><span class="lineno"><a href="#line_1074" id="line_1074"> 1074.</a></span><span class="count                ">     32</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1075" id="line_1075"> 1075.</a></span><span class="count                ">     32</span><span>            next_char(&quot;[&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_1076" id="line_1076"> 1076.</a></span><span class="count                ">      3</span><span>            if (char === &quot;^&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1077" id="line_1077"> 1077.</a></span><span class="count                ">      3</span><span>                next_char(&quot;^&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_1078" id="line_1078"> 1078.</a></span><span class="count                ">      3</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_1079" id="line_1079"> 1079.</a></span><span class="count                ">     33</span><span>            (function classy() {</span></pre>
<pre><span class="lineno"><a href="#line_1080" id="line_1080"> 1080.</a></span><span class="count                ">     33</span><span>                ranges();</span></pre>
<pre><span class="lineno"><a href="#line_1081" id="line_1081"> 1081.</a></span><span class="count                ">      2</span><span>                if (char !== &quot;]&quot; &amp;&amp; char !== &quot;&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1082" id="line_1082"> 1082.</a></span><span class="count                ">      1</span><span>                    warn_at(</span></pre>
<pre><span class="lineno"><a href="#line_1083" id="line_1083"> 1083.</a></span><span class="count                ">      1</span><span>                        &quot;expected_a_before_b&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_1084" id="line_1084"> 1084.</a></span><span class="count                ">      1</span><span>                        line,</span></pre>
<pre><span class="lineno"><a href="#line_1085" id="line_1085"> 1085.</a></span><span class="count                ">      1</span><span>                        column,</span></pre>
<pre><span class="lineno"><a href="#line_1086" id="line_1086"> 1086.</a></span><span class="count                ">      1</span><span>                        &quot;\\&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_1087" id="line_1087"> 1087.</a></span><span class="count                ">      1</span><span>                        char</span></pre>
<pre><span class="lineno"><a href="#line_1088" id="line_1088"> 1088.</a></span><span class="count                ">      1</span><span>                    );</span></pre>
<pre><span class="lineno"><a href="#line_1089" id="line_1089"> 1089.</a></span><span class="count                ">      1</span><span>                    next_char();</span></pre>
<pre><span class="lineno"><a href="#line_1090" id="line_1090"> 1090.</a></span><span class="count                ">      1</span><span>                    return classy();</span></pre>
<pre><span class="lineno"><a href="#line_1091" id="line_1091"> 1091.</a></span><span class="count                ">      1</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_1092" id="line_1092"> 1092.</a></span><span class="count                ">     33</span><span>            }());</span></pre>
<pre><span class="lineno"><a href="#line_1093" id="line_1093"> 1093.</a></span><span class="count                ">     32</span><span>            next_char(&quot;]&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_1094" id="line_1094"> 1094.</a></span><span class="count                ">     32</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_1095" id="line_1095"> 1095.</a></span><span class="count                ">     97</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1096" id="line_1096"> 1096.</a></span><span class="count                ">    120</span><span>        function choice() {</span></pre>
<pre><span class="lineno"><a href="#line_1097" id="line_1097"> 1097.</a></span><span class="count                ">    120</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1098" id="line_1098"> 1098.</a></span><span class="count                ">     23</span><span>            function group() {</span></pre>
<pre><span class="lineno"><a href="#line_1099" id="line_1099"> 1099.</a></span><span class="count                ">     23</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1100" id="line_1100"> 1100.</a></span><span class="count                ">     23</span><span>// Match a group that starts with left paren.</span></pre>
<pre><span class="lineno"><a href="#line_1101" id="line_1101"> 1101.</a></span><span class="count                ">     23</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1102" id="line_1102"> 1102.</a></span><span class="count                ">     23</span><span>                next_char(&quot;(&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_1103" id="line_1103"> 1103.</a></span><span class="count                ">      7</span><span>                if (char === &quot;?&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1104" id="line_1104"> 1104.</a></span><span class="count                ">      7</span><span>                    next_char(&quot;?&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_1105" id="line_1105"> 1105.</a></span><span class="count                ">      7</span><span>                    if (char === &quot;=&quot; || char === &quot;!&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1106" id="line_1106"> 1106.</a></span><span class="count                ">      7</span><span>                        next_char();</span></pre>
<pre><span class="lineno"><a href="#line_1107" id="line_1107"> 1107.</a></span><span class="count                ">      7</span><span>                    } else {</span></pre>
<pre><span class="lineno"><a href="#line_1108" id="line_1108"> 1108.</a></span><span class="count                ">      7</span><span>                        next_char(&quot;:&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_1109" id="line_1109"> 1109.</a></span><span class="count                ">      7</span><span>                    }</span></pre>
<pre><span class="lineno"><a href="#line_1110" id="line_1110"> 1110.</a></span><span class="count                ">     16</span><span>                } else if (char === &quot;:&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1111" id="line_1111"> 1111.</a></span><span class="count                ">     16</span><span>                    warn_at(&quot;expected_a_before_b&quot;, line, column, &quot;?&quot;, &quot;:&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_1112" id="line_1112"> 1112.</a></span><span class="count                ">     16</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_1113" id="line_1113"> 1113.</a></span><span class="count                ">     23</span><span>                choice();</span></pre>
<pre><span class="lineno"><a href="#line_1114" id="line_1114"> 1114.</a></span><span class="count                ">     23</span><span>                next_char(&quot;)&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_1115" id="line_1115"> 1115.</a></span><span class="count                ">     23</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_1116" id="line_1116"> 1116.</a></span><span class="count                ">    120</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1117" id="line_1117"> 1117.</a></span><span class="count                ">    665</span><span>            function factor() {</span></pre>
<pre><span class="lineno"><a href="#line_1118" id="line_1118"> 1118.</a></span><span class="count                ">    665</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1119" id="line_1119"> 1119.</a></span><span class="count                ">    665</span><span>// Parse current character in regexp.</span></pre>
<pre><span class="lineno"><a href="#line_1120" id="line_1120"> 1120.</a></span><span class="count                ">    665</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1121" id="line_1121"> 1121.</a></span><span class="count                ">    665</span><span>                if (</span></pre>
<pre><span class="lineno"><a href="#line_1122" id="line_1122"> 1122.</a></span><span class="count                ">    665</span><span>                    char === &quot;&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1123" id="line_1123"> 1123.</a></span><span class="count                ">    664</span><span>                    || char === &quot;/&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1124" id="line_1124"> 1124.</a></span><span class="count                ">    571</span><span>                    || char === &quot;]&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1125" id="line_1125"> 1125.</a></span><span class="count                ">    571</span><span>                    || char === &quot;)&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1126" id="line_1126"> 1126.</a></span><span class="count                ">    117</span><span>                ) {</span></pre>
<pre><span class="lineno"><a href="#line_1127" id="line_1127"> 1127.</a></span><span class="count                ">    117</span><span>                    return false;</span></pre>
<pre><span class="lineno"><a href="#line_1128" id="line_1128"> 1128.</a></span><span class="count                ">    548</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_1129" id="line_1129"> 1129.</a></span><span class="count                ">    548</span><span>                if (char === &quot;(&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1130" id="line_1130"> 1130.</a></span><span class="count                ">     23</span><span>                    group();</span></pre>
<pre><span class="lineno"><a href="#line_1131" id="line_1131"> 1131.</a></span><span class="count                ">     23</span><span>                    return true;</span></pre>
<pre><span class="lineno"><a href="#line_1132" id="line_1132"> 1132.</a></span><span class="count                ">    525</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_1133" id="line_1133"> 1133.</a></span><span class="count                ">    525</span><span>                if (char === &quot;[&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1134" id="line_1134"> 1134.</a></span><span class="count                ">     32</span><span>                    klass();</span></pre>
<pre><span class="lineno"><a href="#line_1135" id="line_1135"> 1135.</a></span><span class="count                ">     32</span><span>                    return true;</span></pre>
<pre><span class="lineno"><a href="#line_1136" id="line_1136"> 1136.</a></span><span class="count                ">    493</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_1137" id="line_1137"> 1137.</a></span><span class="count                ">    493</span><span>                if (char === &quot;\\&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1138" id="line_1138"> 1138.</a></span><span class="count                ">    100</span><span>                    escape(&quot;BbDdSsWw^${}[]():=!.|*+?&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_1139" id="line_1139"> 1139.</a></span><span class="count                ">    100</span><span>                    return true;</span></pre>
<pre><span class="lineno"><a href="#line_1140" id="line_1140"> 1140.</a></span><span class="count                ">    393</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_1141" id="line_1141"> 1141.</a></span><span class="count                ">    393</span><span>                if (</span></pre>
<pre><span class="lineno"><a href="#line_1142" id="line_1142"> 1142.</a></span><span class="count                ">    393</span><span>                    char === &quot;?&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1143" id="line_1143"> 1143.</a></span><span class="count                ">    393</span><span>                    || char === &quot;+&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1144" id="line_1144"> 1144.</a></span><span class="count                ">    392</span><span>                    || char === &quot;*&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1145" id="line_1145"> 1145.</a></span><span class="count                ">    392</span><span>                    || char === &quot;}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1146" id="line_1146"> 1146.</a></span><span class="count                ">    392</span><span>                    || char === &quot;{&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1147" id="line_1147"> 1147.</a></span><span class="count                ">      1</span><span>                ) {</span></pre>
<pre><span class="lineno"><a href="#line_1148" id="line_1148"> 1148.</a></span><span class="count                ">      1</span><span>                    warn_at(</span></pre>
<pre><span class="lineno"><a href="#line_1149" id="line_1149"> 1149.</a></span><span class="count                ">      1</span><span>                        &quot;expected_a_before_b&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_1150" id="line_1150"> 1150.</a></span><span class="count                ">      1</span><span>                        line,</span></pre>
<pre><span class="lineno"><a href="#line_1151" id="line_1151"> 1151.</a></span><span class="count                ">      1</span><span>                        column - 1,</span></pre>
<pre><span class="lineno"><a href="#line_1152" id="line_1152"> 1152.</a></span><span class="count                ">      1</span><span>                        &quot;\\&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_1153" id="line_1153"> 1153.</a></span><span class="count                ">      1</span><span>                        char</span></pre>
<pre><span class="lineno"><a href="#line_1154" id="line_1154"> 1154.</a></span><span class="count                ">      1</span><span>                    );</span></pre>
<pre><span class="lineno"><a href="#line_1155" id="line_1155"> 1155.</a></span><span class="count                ">    392</span><span>                } else if (char === &quot;`&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1156" id="line_1156"> 1156.</a></span><span class="count                ">    392</span><span>                    if (mega_mode) {</span></pre>
<pre><span class="lineno"><a href="#line_1157" id="line_1157"> 1157.</a></span><span class="count                ">    392</span><span>                        warn_at(&quot;unexpected_a&quot;, line, column - 1, &quot;`&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_1158" id="line_1158"> 1158.</a></span><span class="count                ">    392</span><span>                    }</span></pre>
<pre><span class="lineno"><a href="#line_1159" id="line_1159"> 1159.</a></span><span class="count                ">    392</span><span>                } else if (char === &quot; &quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1160" id="line_1160"> 1160.</a></span><span class="count                ">    392</span><span>                    warn_at(</span></pre>
<pre><span class="lineno"><a href="#line_1161" id="line_1161"> 1161.</a></span><span class="count                ">    392</span><span>                        &quot;expected_a_b&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_1162" id="line_1162"> 1162.</a></span><span class="count                ">    392</span><span>                        line,</span></pre>
<pre><span class="lineno"><a href="#line_1163" id="line_1163"> 1163.</a></span><span class="count                ">    392</span><span>                        column - 1,</span></pre>
<pre><span class="lineno"><a href="#line_1164" id="line_1164"> 1164.</a></span><span class="count                ">    392</span><span>                        &quot;\\s&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_1165" id="line_1165"> 1165.</a></span><span class="count                ">    392</span><span>                        &quot; &quot;</span></pre>
<pre><span class="lineno"><a href="#line_1166" id="line_1166"> 1166.</a></span><span class="count                ">    392</span><span>                    );</span></pre>
<pre><span class="lineno"><a href="#line_1167" id="line_1167"> 1167.</a></span><span class="count                ">    392</span><span>                } else if (char === &quot;$&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1168" id="line_1168"> 1168.</a></span><span class="count                ">    392</span><span>                    if (source_line[0] !== &quot;/&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1169" id="line_1169"> 1169.</a></span><span class="count                ">    392</span><span>                        multi_mode = true;</span></pre>
<pre><span class="lineno"><a href="#line_1170" id="line_1170"> 1170.</a></span><span class="count                ">    392</span><span>                    }</span></pre>
<pre><span class="lineno"><a href="#line_1171" id="line_1171"> 1171.</a></span><span class="count                ">    392</span><span>                } else if (char === &quot;^&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1172" id="line_1172"> 1172.</a></span><span class="count                ">    392</span><span>                    if (snippet !== &quot;^&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1173" id="line_1173"> 1173.</a></span><span class="count                ">    392</span><span>                        multi_mode = true;</span></pre>
<pre><span class="lineno"><a href="#line_1174" id="line_1174"> 1174.</a></span><span class="count                ">    392</span><span>                    }</span></pre>
<pre><span class="lineno"><a href="#line_1175" id="line_1175"> 1175.</a></span><span class="count                ">    393</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_1176" id="line_1176"> 1176.</a></span><span class="count                ">    393</span><span>                next_char();</span></pre>
<pre><span class="lineno"><a href="#line_1177" id="line_1177"> 1177.</a></span><span class="count                ">    393</span><span>                return true;</span></pre>
<pre><span class="lineno"><a href="#line_1178" id="line_1178"> 1178.</a></span><span class="count                ">    393</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_1179" id="line_1179"> 1179.</a></span><span class="count                ">    120</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1180" id="line_1180"> 1180.</a></span><span class="count                ">    665</span><span>            function sequence(follow) {</span></pre>
<pre><span class="lineno"><a href="#line_1181" id="line_1181"> 1181.</a></span><span class="count                ">    546</span><span>                if (factor()) {</span></pre>
<pre><span class="lineno"><a href="#line_1182" id="line_1182"> 1182.</a></span><span class="count                ">    546</span><span>                    quantifier();</span></pre>
<pre><span class="lineno"><a href="#line_1183" id="line_1183"> 1183.</a></span><span class="count                ">    546</span><span>                    return sequence(true);</span></pre>
<pre><span class="lineno"><a href="#line_1184" id="line_1184"> 1184.</a></span><span class="count                ">    546</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_1185" id="line_1185"> 1185.</a></span><span class="count                ">    117</span><span>                if (!follow) {</span></pre>
<pre><span class="lineno"><a href="#line_1186" id="line_1186"> 1186.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1187" id="line_1187"> 1187.</a></span><span class="count                ">      1</span><span>// cause: &quot;/ /&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1188" id="line_1188"> 1188.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1189" id="line_1189"> 1189.</a></span><span class="count                ">      1</span><span>                    warn_at(&quot;expected_regexp_factor_a&quot;, line, column, char);</span></pre>
<pre><span class="lineno"><a href="#line_1190" id="line_1190"> 1190.</a></span><span class="count                ">      1</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_1191" id="line_1191"> 1191.</a></span><span class="count                ">    665</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_1192" id="line_1192"> 1192.</a></span><span class="count                ">    120</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1193" id="line_1193"> 1193.</a></span><span class="count                ">    120</span><span>// Match a choice (a sequence that can be followed by | and another choice).</span></pre>
<pre><span class="lineno"><a href="#line_1194" id="line_1194"> 1194.</a></span><span class="count                ">    120</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1195" id="line_1195"> 1195.</a></span><span class="count                ">    120</span><span>            sequence();</span></pre>
<pre><span class="lineno"><a href="#line_1196" id="line_1196"> 1196.</a></span><span class="count                uncovered">      0</span><span>            if (char === &quot;|&quot;) </span><span class="uncovered">{</span></pre>
<pre><span class="lineno"><a href="#line_1197" id="line_1197"> 1197.</a></span><span class="count                uncovered">      0</span><span></span><span class="uncovered">                next_char(&quot;|&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_1198" id="line_1198"> 1198.</a></span><span class="count                uncovered">      0</span><span></span><span class="uncovered">                return choice();</span></pre>
<pre><span class="lineno"><a href="#line_1199" id="line_1199"> 1199.</a></span><span class="count                uncovered">      0</span><span></span><span class="uncovered">            }</span></pre>
<pre><span class="lineno"><a href="#line_1200" id="line_1200"> 1200.</a></span><span class="count                ">    120</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_1201" id="line_1201"> 1201.</a></span><span class="count                ">     97</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1202" id="line_1202"> 1202.</a></span><span class="count                ">     97</span><span>// Scan the regexp literal. Give a warning if the first character is = because</span></pre>
<pre><span class="lineno"><a href="#line_1203" id="line_1203"> 1203.</a></span><span class="count                ">     97</span><span>// /= looks like a division assignment operator.</span></pre>
<pre><span class="lineno"><a href="#line_1204" id="line_1204"> 1204.</a></span><span class="count                ">     97</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1205" id="line_1205"> 1205.</a></span><span class="count                ">     97</span><span>        snippet = &quot;&quot;;</span></pre>
<pre><span class="lineno"><a href="#line_1206" id="line_1206"> 1206.</a></span><span class="count                ">     97</span><span>        next_char();</span></pre>
<pre><span class="lineno"><a href="#line_1207" id="line_1207"> 1207.</a></span><span class="count                ">      1</span><span>        if (char === &quot;=&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1208" id="line_1208"> 1208.</a></span><span class="count                ">      1</span><span>            warn_at(&quot;expected_a_before_b&quot;, line, column, &quot;\\&quot;, &quot;=&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_1209" id="line_1209"> 1209.</a></span><span class="count                ">      1</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_1210" id="line_1210"> 1210.</a></span><span class="count                ">     97</span><span>        choice();</span></pre>
<pre><span class="lineno"><a href="#line_1211" id="line_1211"> 1211.</a></span><span class="count                ">     97</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1212" id="line_1212"> 1212.</a></span><span class="count                ">     97</span><span>// Make sure there is a closing slash.</span></pre>
<pre><span class="lineno"><a href="#line_1213" id="line_1213"> 1213.</a></span><span class="count                ">     97</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1214" id="line_1214"> 1214.</a></span><span class="count                ">     97</span><span>        snip();</span></pre>
<pre><span class="lineno"><a href="#line_1215" id="line_1215"> 1215.</a></span><span class="count                ">     97</span><span>        value = snippet;</span></pre>
<pre><span class="lineno"><a href="#line_1216" id="line_1216"> 1216.</a></span><span class="count                ">     97</span><span>        next_char(&quot;/&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_1217" id="line_1217"> 1217.</a></span><span class="count                ">     97</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1218" id="line_1218"> 1218.</a></span><span class="count                ">     97</span><span>// Process dangling flag letters.</span></pre>
<pre><span class="lineno"><a href="#line_1219" id="line_1219"> 1219.</a></span><span class="count                ">     97</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1220" id="line_1220"> 1220.</a></span><span class="count                ">     97</span><span>        const allowed = {</span></pre>
<pre><span class="lineno"><a href="#line_1221" id="line_1221"> 1221.</a></span><span class="count                ">     97</span><span>            g: true,</span></pre>
<pre><span class="lineno"><a href="#line_1222" id="line_1222"> 1222.</a></span><span class="count                ">     97</span><span>            i: true,</span></pre>
<pre><span class="lineno"><a href="#line_1223" id="line_1223"> 1223.</a></span><span class="count                ">     97</span><span>            m: true,</span></pre>
<pre><span class="lineno"><a href="#line_1224" id="line_1224"> 1224.</a></span><span class="count                ">     97</span><span>            u: true,</span></pre>
<pre><span class="lineno"><a href="#line_1225" id="line_1225"> 1225.</a></span><span class="count                ">     97</span><span>            y: true</span></pre>
<pre><span class="lineno"><a href="#line_1226" id="line_1226"> 1226.</a></span><span class="count                ">     97</span><span>        };</span></pre>
<pre><span class="lineno"><a href="#line_1227" id="line_1227"> 1227.</a></span><span class="count                ">     97</span><span>        const flag = empty();</span></pre>
<pre><span class="lineno"><a href="#line_1228" id="line_1228"> 1228.</a></span><span class="count                ">    167</span><span>        (function make_flag() {</span></pre>
<pre><span class="lineno"><a href="#line_1229" id="line_1229"> 1229.</a></span><span class="count                ">     74</span><span>            if (is_letter(char)) {</span></pre>
<pre><span class="lineno"><a href="#line_1230" id="line_1230"> 1230.</a></span><span class="count                ">     74</span><span>                if (allowed[char] !== true) {</span></pre>
<pre><span class="lineno"><a href="#line_1231" id="line_1231"> 1231.</a></span><span class="count                ">     74</span><span>                    warn_at(&quot;unexpected_a&quot;, line, column, char);</span></pre>
<pre><span class="lineno"><a href="#line_1232" id="line_1232"> 1232.</a></span><span class="count                ">     74</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_1233" id="line_1233"> 1233.</a></span><span class="count                ">     74</span><span>                allowed[char] = false;</span></pre>
<pre><span class="lineno"><a href="#line_1234" id="line_1234"> 1234.</a></span><span class="count                ">     74</span><span>                flag[char] = true;</span></pre>
<pre><span class="lineno"><a href="#line_1235" id="line_1235"> 1235.</a></span><span class="count                ">     74</span><span>                next_char();</span></pre>
<pre><span class="lineno"><a href="#line_1236" id="line_1236"> 1236.</a></span><span class="count                ">     74</span><span>                return make_flag();</span></pre>
<pre><span class="lineno"><a href="#line_1237" id="line_1237"> 1237.</a></span><span class="count                ">     74</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_1238" id="line_1238"> 1238.</a></span><span class="count                ">    167</span><span>        }());</span></pre>
<pre><span class="lineno"><a href="#line_1239" id="line_1239"> 1239.</a></span><span class="count                ">     97</span><span>        back_char();</span></pre>
<pre><span class="lineno"><a href="#line_1240" id="line_1240"> 1240.</a></span><span class="count                ">     92</span><span>        if (char === &quot;/&quot; || char === &quot;*&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1241" id="line_1241"> 1241.</a></span><span class="count                ">      1</span><span>            return stop_at(&quot;unexpected_a&quot;, line, from, char);</span></pre>
<pre><span class="lineno"><a href="#line_1242" id="line_1242"> 1242.</a></span><span class="count                ">     92</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_1243" id="line_1243"> 1243.</a></span><span class="count                ">     92</span><span>        result = make(&quot;(regexp)&quot;, char);</span></pre>
<pre><span class="lineno"><a href="#line_1244" id="line_1244"> 1244.</a></span><span class="count                ">     92</span><span>        result.flag = flag;</span></pre>
<pre><span class="lineno"><a href="#line_1245" id="line_1245"> 1245.</a></span><span class="count                ">     92</span><span>        result.value = value;</span></pre>
<pre><span class="lineno"><a href="#line_1246" id="line_1246"> 1246.</a></span><span class="count                ">     92</span><span>        if (multi_mode &amp;&amp; !flag.m) {</span></pre>
<pre><span class="lineno"><a href="#line_1247" id="line_1247"> 1247.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1248" id="line_1248"> 1248.</a></span><span class="count                ">      1</span><span>// cause: &quot;aa=/$^/&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1249" id="line_1249"> 1249.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1250" id="line_1250"> 1250.</a></span><span class="count                ">      1</span><span>            warn_at(&quot;missing_m&quot;, line, column);</span></pre>
<pre><span class="lineno"><a href="#line_1251" id="line_1251"> 1251.</a></span><span class="count                ">     92</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_1252" id="line_1252"> 1252.</a></span><span class="count                ">     92</span><span>        return result;</span></pre>
<pre><span class="lineno"><a href="#line_1253" id="line_1253"> 1253.</a></span><span class="count                ">     92</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_1254" id="line_1254"> 1254.</a></span><span class="count                ">    405</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1255" id="line_1255"> 1255.</a></span><span class="count                ">   3832</span><span>    function string(quote) {</span></pre>
<pre><span class="lineno"><a href="#line_1256" id="line_1256"> 1256.</a></span><span class="count                ">   3832</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1257" id="line_1257"> 1257.</a></span><span class="count                ">   3832</span><span>// Make a string token.</span></pre>
<pre><span class="lineno"><a href="#line_1258" id="line_1258"> 1258.</a></span><span class="count                ">   3832</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1259" id="line_1259"> 1259.</a></span><span class="count                ">   3832</span><span>        let the_token;</span></pre>
<pre><span class="lineno"><a href="#line_1260" id="line_1260"> 1260.</a></span><span class="count                ">   3832</span><span>        snippet = &quot;&quot;;</span></pre>
<pre><span class="lineno"><a href="#line_1261" id="line_1261"> 1261.</a></span><span class="count                ">   3832</span><span>        next_char();</span></pre>
<pre><span class="lineno"><a href="#line_1262" id="line_1262"> 1262.</a></span><span class="count                ">   3832</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1263" id="line_1263"> 1263.</a></span><span class="count                ">  33586</span><span>        return (function next() {</span></pre>
<pre><span class="lineno"><a href="#line_1264" id="line_1264"> 1264.</a></span><span class="count                ">   3829</span><span>            if (char === quote) {</span></pre>
<pre><span class="lineno"><a href="#line_1265" id="line_1265"> 1265.</a></span><span class="count                ">   3829</span><span>                snip();</span></pre>
<pre><span class="lineno"><a href="#line_1266" id="line_1266"> 1266.</a></span><span class="count                ">   3829</span><span>                the_token = make(&quot;(string)&quot;, snippet);</span></pre>
<pre><span class="lineno"><a href="#line_1267" id="line_1267"> 1267.</a></span><span class="count                ">   3829</span><span>                the_token.quote = quote;</span></pre>
<pre><span class="lineno"><a href="#line_1268" id="line_1268"> 1268.</a></span><span class="count                ">   3829</span><span>                return the_token;</span></pre>
<pre><span class="lineno"><a href="#line_1269" id="line_1269"> 1269.</a></span><span class="count                ">  29757</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_1270" id="line_1270"> 1270.</a></span><span class="count                ">  29757</span><span>            if (char === &quot;&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1271" id="line_1271"> 1271.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1272" id="line_1272"> 1272.</a></span><span class="count                ">      1</span><span>// cause: &quot;\&quot;&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1273" id="line_1273"> 1273.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1274" id="line_1274"> 1274.</a></span><span class="count                ">      1</span><span>                return stop_at(&quot;unclosed_string&quot;, line, column);</span></pre>
<pre><span class="lineno"><a href="#line_1275" id="line_1275"> 1275.</a></span><span class="count                ">  29756</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_1276" id="line_1276"> 1276.</a></span><span class="count                ">  29756</span><span>            if (char === &quot;\\&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1277" id="line_1277"> 1277.</a></span><span class="count                ">    280</span><span>                escape(quote);</span></pre>
<pre><span class="lineno"><a href="#line_1278" id="line_1278"> 1278.</a></span><span class="count                ">  29476</span><span>            } else if (char === &quot;`&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1279" id="line_1279"> 1279.</a></span><span class="count                ">  29476</span><span>                if (mega_mode) {</span></pre>
<pre><span class="lineno"><a href="#line_1280" id="line_1280"> 1280.</a></span><span class="count                ">  29476</span><span>                    warn_at(&quot;unexpected_a&quot;, line, column, &quot;`&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_1281" id="line_1281"> 1281.</a></span><span class="count                ">  29476</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_1282" id="line_1282"> 1282.</a></span><span class="count                ">  29476</span><span>                next_char(&quot;`&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_1283" id="line_1283"> 1283.</a></span><span class="count                ">  29476</span><span>            } else {</span></pre>
<pre><span class="lineno"><a href="#line_1284" id="line_1284"> 1284.</a></span><span class="count                ">  29476</span><span>                next_char();</span></pre>
<pre><span class="lineno"><a href="#line_1285" id="line_1285"> 1285.</a></span><span class="count                ">  29754</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_1286" id="line_1286"> 1286.</a></span><span class="count                ">  29754</span><span>            return next();</span></pre>
<pre><span class="lineno"><a href="#line_1287" id="line_1287"> 1287.</a></span><span class="count                ">  29754</span><span>        }());</span></pre>
<pre><span class="lineno"><a href="#line_1288" id="line_1288"> 1288.</a></span><span class="count                ">   3832</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_1289" id="line_1289"> 1289.</a></span><span class="count                ">    405</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1290" id="line_1290"> 1290.</a></span><span class="count                ">    469</span><span>    function frack() {</span></pre>
<pre><span class="lineno"><a href="#line_1291" id="line_1291"> 1291.</a></span><span class="count                ">      6</span><span>        if (char === &quot;.&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1292" id="line_1292"> 1292.</a></span><span class="count                ">      6</span><span>            some_digits(rx_digits);</span></pre>
<pre><span class="lineno"><a href="#line_1293" id="line_1293"> 1293.</a></span><span class="count                ">      6</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_1294" id="line_1294"> 1294.</a></span><span class="count                ">      1</span><span>        if (char === &quot;E&quot; || char === &quot;e&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1295" id="line_1295"> 1295.</a></span><span class="count                ">      1</span><span>            next_char();</span></pre>
<pre><span class="lineno"><a href="#line_1296" id="line_1296"> 1296.</a></span><span class="count                ">      1</span><span>            if (char !== &quot;+&quot; &amp;&amp; char !== &quot;-&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1297" id="line_1297"> 1297.</a></span><span class="count                ">      1</span><span>                back_char();</span></pre>
<pre><span class="lineno"><a href="#line_1298" id="line_1298"> 1298.</a></span><span class="count                ">      1</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_1299" id="line_1299"> 1299.</a></span><span class="count                ">      1</span><span>            some_digits(rx_digits);</span></pre>
<pre><span class="lineno"><a href="#line_1300" id="line_1300"> 1300.</a></span><span class="count                ">      1</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_1301" id="line_1301"> 1301.</a></span><span class="count                ">    469</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_1302" id="line_1302"> 1302.</a></span><span class="count                ">    405</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1303" id="line_1303"> 1303.</a></span><span class="count                ">   1064</span><span>    function number() {</span></pre>
<pre><span class="lineno"><a href="#line_1304" id="line_1304"> 1304.</a></span><span class="count                ">    599</span><span>        if (snippet === &quot;0&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1305" id="line_1305"> 1305.</a></span><span class="count                ">    599</span><span>            next_char();</span></pre>
<pre><span class="lineno"><a href="#line_1306" id="line_1306"> 1306.</a></span><span class="count                ">    599</span><span>            if (char === &quot;.&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1307" id="line_1307"> 1307.</a></span><span class="count                ">    599</span><span>                frack();</span></pre>
<pre><span class="lineno"><a href="#line_1308" id="line_1308"> 1308.</a></span><span class="count                ">    599</span><span>            } else if (char === &quot;b&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1309" id="line_1309"> 1309.</a></span><span class="count                ">    599</span><span>                some_digits(rx_bits);</span></pre>
<pre><span class="lineno"><a href="#line_1310" id="line_1310"> 1310.</a></span><span class="count                ">    599</span><span>            } else if (char === &quot;o&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1311" id="line_1311"> 1311.</a></span><span class="count                ">    599</span><span>                some_digits(rx_octals);</span></pre>
<pre><span class="lineno"><a href="#line_1312" id="line_1312"> 1312.</a></span><span class="count                ">    599</span><span>            } else if (char === &quot;x&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1313" id="line_1313"> 1313.</a></span><span class="count                ">    599</span><span>                some_digits(rx_hexs);</span></pre>
<pre><span class="lineno"><a href="#line_1314" id="line_1314"> 1314.</a></span><span class="count                ">    599</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_1315" id="line_1315"> 1315.</a></span><span class="count                ">    599</span><span>        } else {</span></pre>
<pre><span class="lineno"><a href="#line_1316" id="line_1316"> 1316.</a></span><span class="count                ">    465</span><span>            next_char();</span></pre>
<pre><span class="lineno"><a href="#line_1317" id="line_1317"> 1317.</a></span><span class="count                ">    465</span><span>            frack();</span></pre>
<pre><span class="lineno"><a href="#line_1318" id="line_1318"> 1318.</a></span><span class="count                ">    465</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_1319" id="line_1319"> 1319.</a></span><span class="count                ">   1064</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1320" id="line_1320"> 1320.</a></span><span class="count                ">   1064</span><span>// If the next character after a number is a digit or letter, then something</span></pre>
<pre><span class="lineno"><a href="#line_1321" id="line_1321"> 1321.</a></span><span class="count                ">   1064</span><span>// unexpected is going on.</span></pre>
<pre><span class="lineno"><a href="#line_1322" id="line_1322"> 1322.</a></span><span class="count                ">   1064</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1323" id="line_1323"> 1323.</a></span><span class="count                ">   1064</span><span>        if (</span></pre>
<pre><span class="lineno"><a href="#line_1324" id="line_1324"> 1324.</a></span><span class="count                ">    478</span><span>            (char &gt;= &quot;0&quot; &amp;&amp; char &lt;= &quot;9&quot;)</span></pre>
<pre><span class="lineno"><a href="#line_1325" id="line_1325"> 1325.</a></span><span class="count                ">     24</span><span>            || (char &gt;= &quot;a&quot; &amp;&amp; char &lt;= &quot;z&quot;)</span></pre>
<pre><span class="lineno"><a href="#line_1326" id="line_1326"> 1326.</a></span><span class="count                ">   1063</span><span>            || (char &gt;= &quot;A&quot; &amp;&amp; char &lt;= &quot;Z&quot;)</span></pre>
<pre><span class="lineno"><a href="#line_1327" id="line_1327"> 1327.</a></span><span class="count                ">      1</span><span>        ) {</span></pre>
<pre><span class="lineno"><a href="#line_1328" id="line_1328"> 1328.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1329" id="line_1329"> 1329.</a></span><span class="count                ">      1</span><span>// cause: &quot;0a&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1330" id="line_1330"> 1330.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1331" id="line_1331"> 1331.</a></span><span class="count                ">      1</span><span>            return stop_at(</span></pre>
<pre><span class="lineno"><a href="#line_1332" id="line_1332"> 1332.</a></span><span class="count                ">      1</span><span>                &quot;unexpected_a_after_b&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_1333" id="line_1333"> 1333.</a></span><span class="count                ">      1</span><span>                line,</span></pre>
<pre><span class="lineno"><a href="#line_1334" id="line_1334"> 1334.</a></span><span class="count                ">      1</span><span>                column - 1,</span></pre>
<pre><span class="lineno"><a href="#line_1335" id="line_1335"> 1335.</a></span><span class="count                ">      1</span><span>                snippet.slice(-1),</span></pre>
<pre><span class="lineno"><a href="#line_1336" id="line_1336"> 1336.</a></span><span class="count                ">      1</span><span>                snippet.slice(0, -1)</span></pre>
<pre><span class="lineno"><a href="#line_1337" id="line_1337"> 1337.</a></span><span class="count                ">      1</span><span>            );</span></pre>
<pre><span class="lineno"><a href="#line_1338" id="line_1338"> 1338.</a></span><span class="count                ">   1063</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_1339" id="line_1339"> 1339.</a></span><span class="count                ">   1063</span><span>        back_char();</span></pre>
<pre><span class="lineno"><a href="#line_1340" id="line_1340"> 1340.</a></span><span class="count                ">   1063</span><span>        return make(&quot;(number)&quot;, snippet);</span></pre>
<pre><span class="lineno"><a href="#line_1341" id="line_1341"> 1341.</a></span><span class="count                ">   1063</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_1342" id="line_1342"> 1342.</a></span><span class="count                ">    405</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1343" id="line_1343"> 1343.</a></span><span class="count                ">  82733</span><span>    function lex() {</span></pre>
<pre><span class="lineno"><a href="#line_1344" id="line_1344"> 1344.</a></span><span class="count                ">  82733</span><span>        let array;</span></pre>
<pre><span class="lineno"><a href="#line_1345" id="line_1345"> 1345.</a></span><span class="count                ">  82733</span><span>        let i = 0;</span></pre>
<pre><span class="lineno"><a href="#line_1346" id="line_1346"> 1346.</a></span><span class="count                ">  82733</span><span>        let j = 0;</span></pre>
<pre><span class="lineno"><a href="#line_1347" id="line_1347"> 1347.</a></span><span class="count                ">  82733</span><span>        let last;</span></pre>
<pre><span class="lineno"><a href="#line_1348" id="line_1348"> 1348.</a></span><span class="count                ">  82733</span><span>        let result;</span></pre>
<pre><span class="lineno"><a href="#line_1349" id="line_1349"> 1349.</a></span><span class="count                ">  82733</span><span>        let the_token;</span></pre>
<pre><span class="lineno"><a href="#line_1350" id="line_1350"> 1350.</a></span><span class="count                ">  82733</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1351" id="line_1351"> 1351.</a></span><span class="count                ">  82733</span><span>// This should properly be a tail recursive function, but sadly, conformant</span></pre>
<pre><span class="lineno"><a href="#line_1352" id="line_1352"> 1352.</a></span><span class="count                ">  82733</span><span>// implementations of ES6 are still rare. This is the ideal code:</span></pre>
<pre><span class="lineno"><a href="#line_1353" id="line_1353"> 1353.</a></span><span class="count                ">  82733</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1354" id="line_1354"> 1354.</a></span><span class="count                ">  82733</span><span>//      if (!source_line) {</span></pre>
<pre><span class="lineno"><a href="#line_1355" id="line_1355"> 1355.</a></span><span class="count                ">  82733</span><span>//          source_line = next_line();</span></pre>
<pre><span class="lineno"><a href="#line_1356" id="line_1356"> 1356.</a></span><span class="count                ">  82733</span><span>//          from = 0;</span></pre>
<pre><span class="lineno"><a href="#line_1357" id="line_1357"> 1357.</a></span><span class="count                ">  82733</span><span>//          return (</span></pre>
<pre><span class="lineno"><a href="#line_1358" id="line_1358"> 1358.</a></span><span class="count                ">  82733</span><span>//              source_line === undefined</span></pre>
<pre><span class="lineno"><a href="#line_1359" id="line_1359"> 1359.</a></span><span class="count                ">  82733</span><span>//              ? (</span></pre>
<pre><span class="lineno"><a href="#line_1360" id="line_1360"> 1360.</a></span><span class="count                ">  82733</span><span>//                  mega_mode</span></pre>
<pre><span class="lineno"><a href="#line_1361" id="line_1361"> 1361.</a></span><span class="count                ">  82733</span><span>//                  ? stop_at(&quot;unclosed_mega&quot;, mega_line, mega_from)</span></pre>
<pre><span class="lineno"><a href="#line_1362" id="line_1362"> 1362.</a></span><span class="count                ">  82733</span><span>//                  : make(&quot;(end)&quot;)</span></pre>
<pre><span class="lineno"><a href="#line_1363" id="line_1363"> 1363.</a></span><span class="count                ">  82733</span><span>//              )</span></pre>
<pre><span class="lineno"><a href="#line_1364" id="line_1364"> 1364.</a></span><span class="count                ">  82733</span><span>//              : lex()</span></pre>
<pre><span class="lineno"><a href="#line_1365" id="line_1365"> 1365.</a></span><span class="count                ">  82733</span><span>//          );</span></pre>
<pre><span class="lineno"><a href="#line_1366" id="line_1366"> 1366.</a></span><span class="count                ">  82733</span><span>//      }</span></pre>
<pre><span class="lineno"><a href="#line_1367" id="line_1367"> 1367.</a></span><span class="count                ">  82733</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1368" id="line_1368"> 1368.</a></span><span class="count                ">  82733</span><span>// Unfortunately, incompetent JavaScript engines will sometimes fail to execute</span></pre>
<pre><span class="lineno"><a href="#line_1369" id="line_1369"> 1369.</a></span><span class="count                ">  82733</span><span>// it correctly. So for now, we do it the old fashioned way.</span></pre>
<pre><span class="lineno"><a href="#line_1370" id="line_1370"> 1370.</a></span><span class="count                ">  82733</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1371" id="line_1371"> 1371.</a></span><span class="count                ">  16470</span><span>        while (!source_line) {</span></pre>
<pre><span class="lineno"><a href="#line_1372" id="line_1372"> 1372.</a></span><span class="count                ">  16470</span><span>            source_line = next_line();</span></pre>
<pre><span class="lineno"><a href="#line_1373" id="line_1373"> 1373.</a></span><span class="count                ">  16470</span><span>            from = 0;</span></pre>
<pre><span class="lineno"><a href="#line_1374" id="line_1374"> 1374.</a></span><span class="count                ">  16470</span><span>            if (source_line === undefined) {</span></pre>
<pre><span class="lineno"><a href="#line_1375" id="line_1375"> 1375.</a></span><span class="count                ">  16470</span><span>                return (</span></pre>
<pre><span class="lineno"><a href="#line_1376" id="line_1376"> 1376.</a></span><span class="count                ">  16470</span><span>                    mega_mode</span></pre>
<pre><span class="lineno"><a href="#line_1377" id="line_1377"> 1377.</a></span><span class="count                ">  16470</span><span>                    ? stop_at(&quot;unclosed_mega&quot;, mega_line, mega_from)</span></pre>
<pre><span class="lineno"><a href="#line_1378" id="line_1378"> 1378.</a></span><span class="count                ">  16470</span><span>                    : make(&quot;(end)&quot;)</span></pre>
<pre><span class="lineno"><a href="#line_1379" id="line_1379"> 1379.</a></span><span class="count                ">  16470</span><span>                );</span></pre>
<pre><span class="lineno"><a href="#line_1380" id="line_1380"> 1380.</a></span><span class="count                ">  16470</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_1381" id="line_1381"> 1381.</a></span><span class="count                ">  82350</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_1382" id="line_1382"> 1382.</a></span><span class="count                ">  82350</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1383" id="line_1383"> 1383.</a></span><span class="count                ">  82350</span><span>        from = column;</span></pre>
<pre><span class="lineno"><a href="#line_1384" id="line_1384"> 1384.</a></span><span class="count                ">  82350</span><span>        result = source_line.match(rx_token);</span></pre>
<pre><span class="lineno"><a href="#line_1385" id="line_1385"> 1385.</a></span><span class="count                ">  82350</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1386" id="line_1386"> 1386.</a></span><span class="count                ">  82350</span><span>// result[1] token</span></pre>
<pre><span class="lineno"><a href="#line_1387" id="line_1387"> 1387.</a></span><span class="count                ">  82350</span><span>// result[2] whitespace</span></pre>
<pre><span class="lineno"><a href="#line_1388" id="line_1388"> 1388.</a></span><span class="count                ">  82350</span><span>// result[3] identifier</span></pre>
<pre><span class="lineno"><a href="#line_1389" id="line_1389"> 1389.</a></span><span class="count                ">  82350</span><span>// result[4] number</span></pre>
<pre><span class="lineno"><a href="#line_1390" id="line_1390"> 1390.</a></span><span class="count                ">  82350</span><span>// result[5] rest</span></pre>
<pre><span class="lineno"><a href="#line_1391" id="line_1391"> 1391.</a></span><span class="count                ">  82350</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1392" id="line_1392"> 1392.</a></span><span class="count                ">  82350</span><span>        if (!result) {</span></pre>
<pre><span class="lineno"><a href="#line_1393" id="line_1393"> 1393.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1394" id="line_1394"> 1394.</a></span><span class="count                ">      1</span><span>// cause: &quot;#&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1395" id="line_1395"> 1395.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1396" id="line_1396"> 1396.</a></span><span class="count                ">      1</span><span>            return stop_at(</span></pre>
<pre><span class="lineno"><a href="#line_1397" id="line_1397"> 1397.</a></span><span class="count                ">      1</span><span>                &quot;unexpected_char_a&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_1398" id="line_1398"> 1398.</a></span><span class="count                ">      1</span><span>                line,</span></pre>
<pre><span class="lineno"><a href="#line_1399" id="line_1399"> 1399.</a></span><span class="count                ">      1</span><span>                column,</span></pre>
<pre><span class="lineno"><a href="#line_1400" id="line_1400"> 1400.</a></span><span class="count                ">      1</span><span>                source_line[0]</span></pre>
<pre><span class="lineno"><a href="#line_1401" id="line_1401"> 1401.</a></span><span class="count                ">      1</span><span>            );</span></pre>
<pre><span class="lineno"><a href="#line_1402" id="line_1402"> 1402.</a></span><span class="count                ">  82349</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_1403" id="line_1403"> 1403.</a></span><span class="count                ">  82349</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1404" id="line_1404"> 1404.</a></span><span class="count                ">  82349</span><span>        snippet = result[1];</span></pre>
<pre><span class="lineno"><a href="#line_1405" id="line_1405"> 1405.</a></span><span class="count                ">  82349</span><span>        column += snippet.length;</span></pre>
<pre><span class="lineno"><a href="#line_1406" id="line_1406"> 1406.</a></span><span class="count                ">  82349</span><span>        source_line = result[5];</span></pre>
<pre><span class="lineno"><a href="#line_1407" id="line_1407"> 1407.</a></span><span class="count                ">  82349</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1408" id="line_1408"> 1408.</a></span><span class="count                ">  82349</span><span>// Whitespace was matched. Call lex again to get more.</span></pre>
<pre><span class="lineno"><a href="#line_1409" id="line_1409"> 1409.</a></span><span class="count                ">  82349</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1410" id="line_1410"> 1410.</a></span><span class="count                ">  82349</span><span>        if (result[2]) {</span></pre>
<pre><span class="lineno"><a href="#line_1411" id="line_1411"> 1411.</a></span><span class="count                ">  25602</span><span>            return lex();</span></pre>
<pre><span class="lineno"><a href="#line_1412" id="line_1412"> 1412.</a></span><span class="count                ">  56747</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_1413" id="line_1413"> 1413.</a></span><span class="count                ">  56747</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1414" id="line_1414"> 1414.</a></span><span class="count                ">  56747</span><span>// The token is an identifier.</span></pre>
<pre><span class="lineno"><a href="#line_1415" id="line_1415"> 1415.</a></span><span class="count                ">  56747</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1416" id="line_1416"> 1416.</a></span><span class="count                ">  56747</span><span>        if (result[3]) {</span></pre>
<pre><span class="lineno"><a href="#line_1417" id="line_1417"> 1417.</a></span><span class="count                ">  18519</span><span>            return make(snippet, undefined, true);</span></pre>
<pre><span class="lineno"><a href="#line_1418" id="line_1418"> 1418.</a></span><span class="count                ">  38228</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_1419" id="line_1419"> 1419.</a></span><span class="count                ">  38228</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1420" id="line_1420"> 1420.</a></span><span class="count                ">  38228</span><span>// The token is a number.</span></pre>
<pre><span class="lineno"><a href="#line_1421" id="line_1421"> 1421.</a></span><span class="count                ">  38228</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1422" id="line_1422"> 1422.</a></span><span class="count                ">  38228</span><span>        if (result[4]) {</span></pre>
<pre><span class="lineno"><a href="#line_1423" id="line_1423"> 1423.</a></span><span class="count                ">   1064</span><span>            return number(snippet);</span></pre>
<pre><span class="lineno"><a href="#line_1424" id="line_1424"> 1424.</a></span><span class="count                ">  37164</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_1425" id="line_1425"> 1425.</a></span><span class="count                ">  37164</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1426" id="line_1426"> 1426.</a></span><span class="count                ">  37164</span><span>// The token is a string.</span></pre>
<pre><span class="lineno"><a href="#line_1427" id="line_1427"> 1427.</a></span><span class="count                ">  37164</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1428" id="line_1428"> 1428.</a></span><span class="count                ">  37164</span><span>        if (snippet === &quot;\&quot;&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1429" id="line_1429"> 1429.</a></span><span class="count                ">   3830</span><span>            return string(snippet);</span></pre>
<pre><span class="lineno"><a href="#line_1430" id="line_1430"> 1430.</a></span><span class="count                ">  33334</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_1431" id="line_1431"> 1431.</a></span><span class="count                ">  33334</span><span>        if (snippet === &quot;&apos;&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1432" id="line_1432"> 1432.</a></span><span class="count                ">      2</span><span>            if (!option.single) {</span></pre>
<pre><span class="lineno"><a href="#line_1433" id="line_1433"> 1433.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1434" id="line_1434"> 1434.</a></span><span class="count                ">      2</span><span>// cause: &quot;&apos;&apos;&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1435" id="line_1435"> 1435.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1436" id="line_1436"> 1436.</a></span><span class="count                ">      2</span><span>                warn_at(&quot;use_double&quot;, line, column);</span></pre>
<pre><span class="lineno"><a href="#line_1437" id="line_1437"> 1437.</a></span><span class="count                ">      2</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_1438" id="line_1438"> 1438.</a></span><span class="count                ">      2</span><span>            return string(snippet);</span></pre>
<pre><span class="lineno"><a href="#line_1439" id="line_1439"> 1439.</a></span><span class="count                ">  33332</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_1440" id="line_1440"> 1440.</a></span><span class="count                ">  33332</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1441" id="line_1441"> 1441.</a></span><span class="count                ">  33332</span><span>// The token is a megastring. We don&apos;t allow any kind of mega nesting.</span></pre>
<pre><span class="lineno"><a href="#line_1442" id="line_1442"> 1442.</a></span><span class="count                ">  33332</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1443" id="line_1443"> 1443.</a></span><span class="count                ">  33332</span><span>        if (snippet === &quot;`&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1444" id="line_1444"> 1444.</a></span><span class="count                ">     63</span><span>            if (mega_mode) {</span></pre>
<pre><span class="lineno"><a href="#line_1445" id="line_1445"> 1445.</a></span><span class="count                ">     63</span><span>                return stop_at(&quot;expected_a_b&quot;, line, column, &quot;}&quot;, &quot;`&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_1446" id="line_1446"> 1446.</a></span><span class="count                ">     63</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_1447" id="line_1447"> 1447.</a></span><span class="count                ">     63</span><span>            snippet = &quot;&quot;;</span></pre>
<pre><span class="lineno"><a href="#line_1448" id="line_1448"> 1448.</a></span><span class="count                ">     63</span><span>            mega_from = from;</span></pre>
<pre><span class="lineno"><a href="#line_1449" id="line_1449"> 1449.</a></span><span class="count                ">     63</span><span>            mega_line = line;</span></pre>
<pre><span class="lineno"><a href="#line_1450" id="line_1450"> 1450.</a></span><span class="count                ">     63</span><span>            mega_mode = true;</span></pre>
<pre><span class="lineno"><a href="#line_1451" id="line_1451"> 1451.</a></span><span class="count                ">     63</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1452" id="line_1452"> 1452.</a></span><span class="count                ">     63</span><span>// Parsing a mega literal is tricky. First make a ` token.</span></pre>
<pre><span class="lineno"><a href="#line_1453" id="line_1453"> 1453.</a></span><span class="count                ">     63</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1454" id="line_1454"> 1454.</a></span><span class="count                ">     63</span><span>            make(&quot;`&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_1455" id="line_1455"> 1455.</a></span><span class="count                ">     63</span><span>            from += 1;</span></pre>
<pre><span class="lineno"><a href="#line_1456" id="line_1456"> 1456.</a></span><span class="count                ">     63</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1457" id="line_1457"> 1457.</a></span><span class="count                ">     63</span><span>// Then loop, building up a string, possibly from many lines, until seeing</span></pre>
<pre><span class="lineno"><a href="#line_1458" id="line_1458"> 1458.</a></span><span class="count                ">     63</span><span>// the end of file, a closing `, or a ${ indicting an expression within the</span></pre>
<pre><span class="lineno"><a href="#line_1459" id="line_1459"> 1459.</a></span><span class="count                ">     63</span><span>// string.</span></pre>
<pre><span class="lineno"><a href="#line_1460" id="line_1460"> 1460.</a></span><span class="count                ">     63</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1461" id="line_1461"> 1461.</a></span><span class="count                ">    485</span><span>            (function part() {</span></pre>
<pre><span class="lineno"><a href="#line_1462" id="line_1462"> 1462.</a></span><span class="count                ">    485</span><span>                const at = source_line.search(rx_mega);</span></pre>
<pre><span class="lineno"><a href="#line_1463" id="line_1463"> 1463.</a></span><span class="count                ">    485</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1464" id="line_1464"> 1464.</a></span><span class="count                ">    485</span><span>// If neither ` nor ${ is seen, then the whole line joins the snippet.</span></pre>
<pre><span class="lineno"><a href="#line_1465" id="line_1465"> 1465.</a></span><span class="count                ">    485</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1466" id="line_1466"> 1466.</a></span><span class="count                ">    312</span><span>                if (at &lt; 0) {</span></pre>
<pre><span class="lineno"><a href="#line_1467" id="line_1467"> 1467.</a></span><span class="count                ">    312</span><span>                    snippet += source_line + &quot;\n&quot;;</span></pre>
<pre><span class="lineno"><a href="#line_1468" id="line_1468"> 1468.</a></span><span class="count                ">    312</span><span>                    return (</span></pre>
<pre><span class="lineno"><a href="#line_1469" id="line_1469"> 1469.</a></span><span class="count                ">    312</span><span>                        next_line() === undefined</span></pre>
<pre><span class="lineno"><a href="#line_1470" id="line_1470"> 1470.</a></span><span class="count                ">    312</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1471" id="line_1471"> 1471.</a></span><span class="count                ">    312</span><span>// cause: &quot;`&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1472" id="line_1472"> 1472.</a></span><span class="count                ">    312</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1473" id="line_1473"> 1473.</a></span><span class="count                ">    312</span><span>                        ? stop_at(&quot;unclosed_mega&quot;, mega_line, mega_from)</span></pre>
<pre><span class="lineno"><a href="#line_1474" id="line_1474"> 1474.</a></span><span class="count                ">    312</span><span>                        : part()</span></pre>
<pre><span class="lineno"><a href="#line_1475" id="line_1475"> 1475.</a></span><span class="count                ">    312</span><span>                    );</span></pre>
<pre><span class="lineno"><a href="#line_1476" id="line_1476"> 1476.</a></span><span class="count                ">    312</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_1477" id="line_1477"> 1477.</a></span><span class="count                ">    173</span><span>                snippet += source_line.slice(0, at);</span></pre>
<pre><span class="lineno"><a href="#line_1478" id="line_1478"> 1478.</a></span><span class="count                ">    173</span><span>                column += at;</span></pre>
<pre><span class="lineno"><a href="#line_1479" id="line_1479"> 1479.</a></span><span class="count                ">    173</span><span>                source_line = source_line.slice(at);</span></pre>
<pre><span class="lineno"><a href="#line_1480" id="line_1480"> 1480.</a></span><span class="count                ">    173</span><span>                if (source_line[0] === &quot;\\&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1481" id="line_1481"> 1481.</a></span><span class="count                ">     76</span><span>                    snippet += source_line.slice(0, 2);</span></pre>
<pre><span class="lineno"><a href="#line_1482" id="line_1482"> 1482.</a></span><span class="count                ">     76</span><span>                    source_line = source_line.slice(2);</span></pre>
<pre><span class="lineno"><a href="#line_1483" id="line_1483"> 1483.</a></span><span class="count                ">     76</span><span>                    column += 2;</span></pre>
<pre><span class="lineno"><a href="#line_1484" id="line_1484"> 1484.</a></span><span class="count                ">     76</span><span>                    return part();</span></pre>
<pre><span class="lineno"><a href="#line_1485" id="line_1485"> 1485.</a></span><span class="count                ">     97</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_1486" id="line_1486"> 1486.</a></span><span class="count                ">     97</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1487" id="line_1487"> 1487.</a></span><span class="count                ">     97</span><span>// if either ` or ${ was found, then the preceding joins the snippet to become</span></pre>
<pre><span class="lineno"><a href="#line_1488" id="line_1488"> 1488.</a></span><span class="count                ">     97</span><span>// a string token.</span></pre>
<pre><span class="lineno"><a href="#line_1489" id="line_1489"> 1489.</a></span><span class="count                ">     97</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1490" id="line_1490"> 1490.</a></span><span class="count                ">     97</span><span>                make(&quot;(string)&quot;, snippet).quote = &quot;`&quot;;</span></pre>
<pre><span class="lineno"><a href="#line_1491" id="line_1491"> 1491.</a></span><span class="count                ">     97</span><span>                snippet = &quot;&quot;;</span></pre>
<pre><span class="lineno"><a href="#line_1492" id="line_1492"> 1492.</a></span><span class="count                ">     97</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1493" id="line_1493"> 1493.</a></span><span class="count                ">     97</span><span>// If ${, then make tokens that will become part of an expression until</span></pre>
<pre><span class="lineno"><a href="#line_1494" id="line_1494"> 1494.</a></span><span class="count                ">     97</span><span>// a } token is made.</span></pre>
<pre><span class="lineno"><a href="#line_1495" id="line_1495"> 1495.</a></span><span class="count                ">     97</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1496" id="line_1496"> 1496.</a></span><span class="count                ">     97</span><span>                if (source_line[0] === &quot;$&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1497" id="line_1497"> 1497.</a></span><span class="count                ">     63</span><span>                    column += 2;</span></pre>
<pre><span class="lineno"><a href="#line_1498" id="line_1498"> 1498.</a></span><span class="count                ">     63</span><span>                    make(&quot;${&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_1499" id="line_1499"> 1499.</a></span><span class="count                ">     63</span><span>                    source_line = source_line.slice(2);</span></pre>
<pre><span class="lineno"><a href="#line_1500" id="line_1500"> 1500.</a></span><span class="count                ">    156</span><span>                    (function expr() {</span></pre>
<pre><span class="lineno"><a href="#line_1501" id="line_1501"> 1501.</a></span><span class="count                ">    156</span><span>                        const id = lex().id;</span></pre>
<pre><span class="lineno"><a href="#line_1502" id="line_1502"> 1502.</a></span><span class="count                ">     63</span><span>                        if (id === &quot;{&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1503" id="line_1503"> 1503.</a></span><span class="count                ">     63</span><span>                            return stop_at(</span></pre>
<pre><span class="lineno"><a href="#line_1504" id="line_1504"> 1504.</a></span><span class="count                ">     63</span><span>                                &quot;expected_a_b&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_1505" id="line_1505"> 1505.</a></span><span class="count                ">     63</span><span>                                line,</span></pre>
<pre><span class="lineno"><a href="#line_1506" id="line_1506"> 1506.</a></span><span class="count                ">     63</span><span>                                column,</span></pre>
<pre><span class="lineno"><a href="#line_1507" id="line_1507"> 1507.</a></span><span class="count                ">     63</span><span>                                &quot;}&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_1508" id="line_1508"> 1508.</a></span><span class="count                ">     63</span><span>                                &quot;{&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1509" id="line_1509"> 1509.</a></span><span class="count                ">     63</span><span>                            );</span></pre>
<pre><span class="lineno"><a href="#line_1510" id="line_1510"> 1510.</a></span><span class="count                ">    153</span><span>                        }</span></pre>
<pre><span class="lineno"><a href="#line_1511" id="line_1511"> 1511.</a></span><span class="count                ">    153</span><span>                        if (id !== &quot;}&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1512" id="line_1512"> 1512.</a></span><span class="count                ">    117</span><span>                            return expr();</span></pre>
<pre><span class="lineno"><a href="#line_1513" id="line_1513"> 1513.</a></span><span class="count                ">    117</span><span>                        }</span></pre>
<pre><span class="lineno"><a href="#line_1514" id="line_1514"> 1514.</a></span><span class="count                ">    156</span><span>                    }());</span></pre>
<pre><span class="lineno"><a href="#line_1515" id="line_1515"> 1515.</a></span><span class="count                ">     63</span><span>                    return part();</span></pre>
<pre><span class="lineno"><a href="#line_1516" id="line_1516"> 1516.</a></span><span class="count                ">     63</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_1517" id="line_1517"> 1517.</a></span><span class="count                ">    485</span><span>            }());</span></pre>
<pre><span class="lineno"><a href="#line_1518" id="line_1518"> 1518.</a></span><span class="count                ">     63</span><span>            source_line = source_line.slice(1);</span></pre>
<pre><span class="lineno"><a href="#line_1519" id="line_1519"> 1519.</a></span><span class="count                ">     63</span><span>            column += 1;</span></pre>
<pre><span class="lineno"><a href="#line_1520" id="line_1520"> 1520.</a></span><span class="count                ">     63</span><span>            mega_mode = false;</span></pre>
<pre><span class="lineno"><a href="#line_1521" id="line_1521"> 1521.</a></span><span class="count                ">     63</span><span>            return make(&quot;`&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_1522" id="line_1522"> 1522.</a></span><span class="count                ">  33269</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_1523" id="line_1523"> 1523.</a></span><span class="count                ">  33269</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1524" id="line_1524"> 1524.</a></span><span class="count                ">  33269</span><span>// The token is a // comment.</span></pre>
<pre><span class="lineno"><a href="#line_1525" id="line_1525"> 1525.</a></span><span class="count                ">  33269</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1526" id="line_1526"> 1526.</a></span><span class="count                ">  33269</span><span>        if (snippet === &quot;//&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1527" id="line_1527"> 1527.</a></span><span class="count                ">   1611</span><span>            snippet = source_line;</span></pre>
<pre><span class="lineno"><a href="#line_1528" id="line_1528"> 1528.</a></span><span class="count                ">   1611</span><span>            source_line = &quot;&quot;;</span></pre>
<pre><span class="lineno"><a href="#line_1529" id="line_1529"> 1529.</a></span><span class="count                ">   1611</span><span>            the_token = comment(snippet);</span></pre>
<pre><span class="lineno"><a href="#line_1530" id="line_1530"> 1530.</a></span><span class="count                ">   1611</span><span>            if (mega_mode) {</span></pre>
<pre><span class="lineno"><a href="#line_1531" id="line_1531"> 1531.</a></span><span class="count                ">   1611</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1532" id="line_1532"> 1532.</a></span><span class="count                ">   1611</span><span>// cause: &quot;`${//}`&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1533" id="line_1533"> 1533.</a></span><span class="count                ">   1611</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1534" id="line_1534"> 1534.</a></span><span class="count                ">   1611</span><span>                warn(&quot;unexpected_comment&quot;, the_token, &quot;`&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_1535" id="line_1535"> 1535.</a></span><span class="count                ">   1611</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_1536" id="line_1536"> 1536.</a></span><span class="count                ">   1611</span><span>            return the_token;</span></pre>
<pre><span class="lineno"><a href="#line_1537" id="line_1537"> 1537.</a></span><span class="count                ">  31658</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_1538" id="line_1538"> 1538.</a></span><span class="count                ">  31658</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1539" id="line_1539"> 1539.</a></span><span class="count                ">  31658</span><span>// The token is a /* comment.</span></pre>
<pre><span class="lineno"><a href="#line_1540" id="line_1540"> 1540.</a></span><span class="count                ">  31658</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1541" id="line_1541"> 1541.</a></span><span class="count                ">  31658</span><span>        if (snippet === &quot;/*&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1542" id="line_1542"> 1542.</a></span><span class="count                ">     54</span><span>            array = [];</span></pre>
<pre><span class="lineno"><a href="#line_1543" id="line_1543"> 1543.</a></span><span class="count                ">     54</span><span>            if (source_line[0] === &quot;/&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1544" id="line_1544"> 1544.</a></span><span class="count                ">     54</span><span>                warn_at(&quot;unexpected_a&quot;, line, column + i, &quot;/&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_1545" id="line_1545"> 1545.</a></span><span class="count                ">     54</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_1546" id="line_1546"> 1546.</a></span><span class="count                ">    178</span><span>            (function next() {</span></pre>
<pre><span class="lineno"><a href="#line_1547" id="line_1547"> 1547.</a></span><span class="count                ">    163</span><span>                if (source_line &gt; &quot;&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1548" id="line_1548"> 1548.</a></span><span class="count                ">    163</span><span>                    i = source_line.search(rx_star_slash);</span></pre>
<pre><span class="lineno"><a href="#line_1549" id="line_1549"> 1549.</a></span><span class="count                ">    163</span><span>                    if (i &gt;= 0) {</span></pre>
<pre><span class="lineno"><a href="#line_1550" id="line_1550"> 1550.</a></span><span class="count                ">    163</span><span>                        return;</span></pre>
<pre><span class="lineno"><a href="#line_1551" id="line_1551"> 1551.</a></span><span class="count                ">    163</span><span>                    }</span></pre>
<pre><span class="lineno"><a href="#line_1552" id="line_1552"> 1552.</a></span><span class="count                ">    163</span><span>                    j = source_line.search(rx_slash_star);</span></pre>
<pre><span class="lineno"><a href="#line_1553" id="line_1553"> 1553.</a></span><span class="count                ">    163</span><span>                    if (j &gt;= 0) {</span></pre>
<pre><span class="lineno"><a href="#line_1554" id="line_1554"> 1554.</a></span><span class="count                ">    163</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1555" id="line_1555"> 1555.</a></span><span class="count                ">    163</span><span>// cause: &quot;/*/*&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1556" id="line_1556"> 1556.</a></span><span class="count                ">    163</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1557" id="line_1557"> 1557.</a></span><span class="count                ">    163</span><span>                        warn_at(&quot;nested_comment&quot;, line, column + j);</span></pre>
<pre><span class="lineno"><a href="#line_1558" id="line_1558"> 1558.</a></span><span class="count                ">    163</span><span>                    }</span></pre>
<pre><span class="lineno"><a href="#line_1559" id="line_1559"> 1559.</a></span><span class="count                ">    163</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_1560" id="line_1560"> 1560.</a></span><span class="count                ">    127</span><span>                array.push(source_line);</span></pre>
<pre><span class="lineno"><a href="#line_1561" id="line_1561"> 1561.</a></span><span class="count                ">    127</span><span>                source_line = next_line();</span></pre>
<pre><span class="lineno"><a href="#line_1562" id="line_1562"> 1562.</a></span><span class="count                ">    127</span><span>                if (source_line === undefined) {</span></pre>
<pre><span class="lineno"><a href="#line_1563" id="line_1563"> 1563.</a></span><span class="count                ">     54</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1564" id="line_1564"> 1564.</a></span><span class="count                ">     54</span><span>// cause: &quot;/*&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1565" id="line_1565"> 1565.</a></span><span class="count                ">     54</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1566" id="line_1566"> 1566.</a></span><span class="count                ">     54</span><span>                    return stop_at(&quot;unclosed_comment&quot;, line, column);</span></pre>
<pre><span class="lineno"><a href="#line_1567" id="line_1567"> 1567.</a></span><span class="count                ">    124</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_1568" id="line_1568"> 1568.</a></span><span class="count                ">    124</span><span>                return next();</span></pre>
<pre><span class="lineno"><a href="#line_1569" id="line_1569"> 1569.</a></span><span class="count                ">    124</span><span>            }());</span></pre>
<pre><span class="lineno"><a href="#line_1570" id="line_1570"> 1570.</a></span><span class="count                ">     54</span><span>            snippet = source_line.slice(0, i);</span></pre>
<pre><span class="lineno"><a href="#line_1571" id="line_1571"> 1571.</a></span><span class="count                ">     54</span><span>            j = snippet.search(rx_slash_star_or_slash);</span></pre>
<pre><span class="lineno"><a href="#line_1572" id="line_1572"> 1572.</a></span><span class="count                ">     54</span><span>            if (j &gt;= 0) {</span></pre>
<pre><span class="lineno"><a href="#line_1573" id="line_1573"> 1573.</a></span><span class="count                ">     54</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1574" id="line_1574"> 1574.</a></span><span class="count                ">     54</span><span>// cause: &quot;/*/**/&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1575" id="line_1575"> 1575.</a></span><span class="count                ">     54</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1576" id="line_1576"> 1576.</a></span><span class="count                ">     54</span><span>                warn_at(&quot;nested_comment&quot;, line, column + j);</span></pre>
<pre><span class="lineno"><a href="#line_1577" id="line_1577"> 1577.</a></span><span class="count                ">     54</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_1578" id="line_1578"> 1578.</a></span><span class="count                ">     54</span><span>            array.push(snippet);</span></pre>
<pre><span class="lineno"><a href="#line_1579" id="line_1579"> 1579.</a></span><span class="count                ">     54</span><span>            column += i + 2;</span></pre>
<pre><span class="lineno"><a href="#line_1580" id="line_1580"> 1580.</a></span><span class="count                ">     54</span><span>            source_line = source_line.slice(i + 2);</span></pre>
<pre><span class="lineno"><a href="#line_1581" id="line_1581"> 1581.</a></span><span class="count                ">     54</span><span>            return comment(array);</span></pre>
<pre><span class="lineno"><a href="#line_1582" id="line_1582"> 1582.</a></span><span class="count                ">  31604</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_1583" id="line_1583"> 1583.</a></span><span class="count                ">  31604</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1584" id="line_1584"> 1584.</a></span><span class="count                ">  31604</span><span>// The token is a slash.</span></pre>
<pre><span class="lineno"><a href="#line_1585" id="line_1585"> 1585.</a></span><span class="count                ">  31604</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1586" id="line_1586"> 1586.</a></span><span class="count                ">  31604</span><span>        if (snippet === &quot;/&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1587" id="line_1587"> 1587.</a></span><span class="count                ">    107</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1588" id="line_1588"> 1588.</a></span><span class="count                ">    107</span><span>// The / can be a division operator or the beginning of a regular expression</span></pre>
<pre><span class="lineno"><a href="#line_1589" id="line_1589"> 1589.</a></span><span class="count                ">    107</span><span>// literal. It is not possible to know which without doing a complete parse.</span></pre>
<pre><span class="lineno"><a href="#line_1590" id="line_1590"> 1590.</a></span><span class="count                ">    107</span><span>// We want to complete the tokenization before we begin to parse, so we will</span></pre>
<pre><span class="lineno"><a href="#line_1591" id="line_1591"> 1591.</a></span><span class="count                ">    107</span><span>// estimate. This estimator can fail in some cases. For example, it cannot</span></pre>
<pre><span class="lineno"><a href="#line_1592" id="line_1592"> 1592.</a></span><span class="count                ">    107</span><span>// know if &quot;}&quot; is ending a block or ending an object literal, so it can</span></pre>
<pre><span class="lineno"><a href="#line_1593" id="line_1593"> 1593.</a></span><span class="count                ">    107</span><span>// behave incorrectly in that case; it is not meaningful to divide an</span></pre>
<pre><span class="lineno"><a href="#line_1594" id="line_1594"> 1594.</a></span><span class="count                ">    107</span><span>// object, so it is likely that we can get away with it. We avoided the worst</span></pre>
<pre><span class="lineno"><a href="#line_1595" id="line_1595"> 1595.</a></span><span class="count                ">    107</span><span>// cases by eliminating automatic semicolon insertion.</span></pre>
<pre><span class="lineno"><a href="#line_1596" id="line_1596"> 1596.</a></span><span class="count                ">    107</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1597" id="line_1597"> 1597.</a></span><span class="count                ">    107</span><span>            if (prior.identifier) {</span></pre>
<pre><span class="lineno"><a href="#line_1598" id="line_1598"> 1598.</a></span><span class="count                ">    107</span><span>                if (!prior.dot) {</span></pre>
<pre><span class="lineno"><a href="#line_1599" id="line_1599"> 1599.</a></span><span class="count                ">    107</span><span>                    if (prior.id === &quot;return&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1600" id="line_1600"> 1600.</a></span><span class="count                ">    107</span><span>                        return regexp();</span></pre>
<pre><span class="lineno"><a href="#line_1601" id="line_1601"> 1601.</a></span><span class="count                ">    107</span><span>                    }</span></pre>
<pre><span class="lineno"><a href="#line_1602" id="line_1602"> 1602.</a></span><span class="count                ">    107</span><span>                    if (</span></pre>
<pre><span class="lineno"><a href="#line_1603" id="line_1603"> 1603.</a></span><span class="count                ">    107</span><span>                        prior.id === &quot;(begin)&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1604" id="line_1604"> 1604.</a></span><span class="count                ">    107</span><span>                        || prior.id === &quot;case&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1605" id="line_1605"> 1605.</a></span><span class="count                ">    107</span><span>                        || prior.id === &quot;delete&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1606" id="line_1606"> 1606.</a></span><span class="count                ">    107</span><span>                        || prior.id === &quot;in&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1607" id="line_1607"> 1607.</a></span><span class="count                ">    107</span><span>                        || prior.id === &quot;instanceof&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1608" id="line_1608"> 1608.</a></span><span class="count                ">    107</span><span>                        || prior.id === &quot;new&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1609" id="line_1609"> 1609.</a></span><span class="count                ">    107</span><span>                        || prior.id === &quot;typeof&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1610" id="line_1610"> 1610.</a></span><span class="count                ">    107</span><span>                        || prior.id === &quot;void&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1611" id="line_1611"> 1611.</a></span><span class="count                ">    107</span><span>                        || prior.id === &quot;yield&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1612" id="line_1612"> 1612.</a></span><span class="count                ">    107</span><span>                    ) {</span></pre>
<pre><span class="lineno"><a href="#line_1613" id="line_1613"> 1613.</a></span><span class="count                ">    107</span><span>                        the_token = regexp();</span></pre>
<pre><span class="lineno"><a href="#line_1614" id="line_1614"> 1614.</a></span><span class="count                ">    107</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1615" id="line_1615"> 1615.</a></span><span class="count                ">    107</span><span>// cause: &quot;/./&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1616" id="line_1616"> 1616.</a></span><span class="count                ">    107</span><span>// cause: &quot;case /./&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1617" id="line_1617"> 1617.</a></span><span class="count                ">    107</span><span>// cause: &quot;delete /./&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1618" id="line_1618"> 1618.</a></span><span class="count                ">    107</span><span>// cause: &quot;in /./&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1619" id="line_1619"> 1619.</a></span><span class="count                ">    107</span><span>// cause: &quot;instanceof /./&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1620" id="line_1620"> 1620.</a></span><span class="count                ">    107</span><span>// cause: &quot;new /./&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1621" id="line_1621"> 1621.</a></span><span class="count                ">    107</span><span>// cause: &quot;typeof /./&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1622" id="line_1622"> 1622.</a></span><span class="count                ">    107</span><span>// cause: &quot;void /./&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1623" id="line_1623"> 1623.</a></span><span class="count                ">    107</span><span>// cause: &quot;yield /./&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1624" id="line_1624"> 1624.</a></span><span class="count                ">    107</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1625" id="line_1625"> 1625.</a></span><span class="count                ">    107</span><span>                        return stop(&quot;unexpected_a&quot;, the_token);</span></pre>
<pre><span class="lineno"><a href="#line_1626" id="line_1626"> 1626.</a></span><span class="count                ">    107</span><span>                    }</span></pre>
<pre><span class="lineno"><a href="#line_1627" id="line_1627"> 1627.</a></span><span class="count                ">    107</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_1628" id="line_1628"> 1628.</a></span><span class="count                ">    107</span><span>            } else {</span></pre>
<pre><span class="lineno"><a href="#line_1629" id="line_1629"> 1629.</a></span><span class="count                ">    107</span><span>                last = prior.id[prior.id.length - 1];</span></pre>
<pre><span class="lineno"><a href="#line_1630" id="line_1630"> 1630.</a></span><span class="count                ">    107</span><span>                if (&quot;(,=:?[&quot;.indexOf(last) &gt;= 0) {</span></pre>
<pre><span class="lineno"><a href="#line_1631" id="line_1631"> 1631.</a></span><span class="count                ">    107</span><span>                    return regexp();</span></pre>
<pre><span class="lineno"><a href="#line_1632" id="line_1632"> 1632.</a></span><span class="count                ">    107</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_1633" id="line_1633"> 1633.</a></span><span class="count                ">    107</span><span>                if (&quot;!&amp;|{};~+-*%/^&lt;&gt;&quot;.indexOf(last) &gt;= 0) {</span></pre>
<pre><span class="lineno"><a href="#line_1634" id="line_1634"> 1634.</a></span><span class="count                ">    107</span><span>                    the_token = regexp();</span></pre>
<pre><span class="lineno"><a href="#line_1635" id="line_1635"> 1635.</a></span><span class="count                ">    107</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1636" id="line_1636"> 1636.</a></span><span class="count                ">    107</span><span>// cause: &quot;!/./&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1637" id="line_1637"> 1637.</a></span><span class="count                ">    107</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1638" id="line_1638"> 1638.</a></span><span class="count                ">    107</span><span>                    warn(&quot;wrap_regexp&quot;, the_token);</span></pre>
<pre><span class="lineno"><a href="#line_1639" id="line_1639"> 1639.</a></span><span class="count                ">    107</span><span>                    return the_token;</span></pre>
<pre><span class="lineno"><a href="#line_1640" id="line_1640"> 1640.</a></span><span class="count                ">    107</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_1641" id="line_1641"> 1641.</a></span><span class="count                ">    107</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_1642" id="line_1642"> 1642.</a></span><span class="count                ">    107</span><span>            if (source_line[0] === &quot;=&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1643" id="line_1643"> 1643.</a></span><span class="count                ">    107</span><span>                column += 1;</span></pre>
<pre><span class="lineno"><a href="#line_1644" id="line_1644"> 1644.</a></span><span class="count                ">    107</span><span>                source_line = source_line.slice(1);</span></pre>
<pre><span class="lineno"><a href="#line_1645" id="line_1645"> 1645.</a></span><span class="count                ">    107</span><span>                snippet = &quot;/=&quot;;</span></pre>
<pre><span class="lineno"><a href="#line_1646" id="line_1646"> 1646.</a></span><span class="count                ">    107</span><span>                warn_at(&quot;unexpected_a&quot;, line, column, &quot;/=&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_1647" id="line_1647"> 1647.</a></span><span class="count                ">    107</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_1648" id="line_1648"> 1648.</a></span><span class="count                ">  31507</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_1649" id="line_1649"> 1649.</a></span><span class="count                ">  31507</span><span>        return make(snippet);</span></pre>
<pre><span class="lineno"><a href="#line_1650" id="line_1650"> 1650.</a></span><span class="count                ">  31507</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_1651" id="line_1651"> 1651.</a></span><span class="count                ">    405</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1652" id="line_1652"> 1652.</a></span><span class="count                ">    405</span><span>    first = lex();</span></pre>
<pre><span class="lineno"><a href="#line_1653" id="line_1653"> 1653.</a></span><span class="count                ">    377</span><span>    json_mode = first.id === &quot;{&quot; || first.id === &quot;[&quot;;</span></pre>
<pre><span class="lineno"><a href="#line_1654" id="line_1654"> 1654.</a></span><span class="count                ">    405</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1655" id="line_1655"> 1655.</a></span><span class="count                ">    405</span><span>// This loop will be replaced with a recursive call to lex when ES6 has been</span></pre>
<pre><span class="lineno"><a href="#line_1656" id="line_1656"> 1656.</a></span><span class="count                ">    405</span><span>// finished and widely deployed and adopted.</span></pre>
<pre><span class="lineno"><a href="#line_1657" id="line_1657"> 1657.</a></span><span class="count                ">    405</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1658" id="line_1658"> 1658.</a></span><span class="count                ">  56570</span><span>    while (true) {</span></pre>
<pre><span class="lineno"><a href="#line_1659" id="line_1659"> 1659.</a></span><span class="count                ">  56570</span><span>        if (lex().id === &quot;(end)&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1660" id="line_1660"> 1660.</a></span><span class="count                ">  56570</span><span>            break;</span></pre>
<pre><span class="lineno"><a href="#line_1661" id="line_1661"> 1661.</a></span><span class="count                ">  56570</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_1662" id="line_1662"> 1662.</a></span><span class="count                ">  56570</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_1663" id="line_1663"> 1663.</a></span><span class="count                ">    405</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_1664" id="line_1664"> 1664.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1665" id="line_1665"> 1665.</a></span><span class="count                ">      1</span><span>// Parsing:</span></pre>
<pre><span class="lineno"><a href="#line_1666" id="line_1666"> 1666.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1667" id="line_1667"> 1667.</a></span><span class="count                ">      1</span><span>// Parsing weaves the tokens into an abstract syntax tree. During that process,</span></pre>
<pre><span class="lineno"><a href="#line_1668" id="line_1668"> 1668.</a></span><span class="count                ">      1</span><span>// a token may be given any of these properties:</span></pre>
<pre><span class="lineno"><a href="#line_1669" id="line_1669"> 1669.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1670" id="line_1670"> 1670.</a></span><span class="count                ">      1</span><span>//      arity       string</span></pre>
<pre><span class="lineno"><a href="#line_1671" id="line_1671"> 1671.</a></span><span class="count                ">      1</span><span>//      label       identifier</span></pre>
<pre><span class="lineno"><a href="#line_1672" id="line_1672"> 1672.</a></span><span class="count                ">      1</span><span>//      name        identifier</span></pre>
<pre><span class="lineno"><a href="#line_1673" id="line_1673"> 1673.</a></span><span class="count                ">      1</span><span>//      expression  expressions</span></pre>
<pre><span class="lineno"><a href="#line_1674" id="line_1674"> 1674.</a></span><span class="count                ">      1</span><span>//      block       statements</span></pre>
<pre><span class="lineno"><a href="#line_1675" id="line_1675"> 1675.</a></span><span class="count                ">      1</span><span>//      else        statements (else, default, catch)</span></pre>
<pre><span class="lineno"><a href="#line_1676" id="line_1676"> 1676.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1677" id="line_1677"> 1677.</a></span><span class="count                ">      1</span><span>// Specialized tokens may have additional properties.</span></pre>
<pre><span class="lineno"><a href="#line_1678" id="line_1678"> 1678.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1679" id="line_1679"> 1679.</a></span><span class="count                ">   3901</span><span>function survey(name) {</span></pre>
<pre><span class="lineno"><a href="#line_1680" id="line_1680"> 1680.</a></span><span class="count                ">   3901</span><span>    let id = name.id;</span></pre>
<pre><span class="lineno"><a href="#line_1681" id="line_1681"> 1681.</a></span><span class="count                ">   3901</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1682" id="line_1682"> 1682.</a></span><span class="count                ">   3901</span><span>// Tally the property name. If it is a string, only tally strings that conform</span></pre>
<pre><span class="lineno"><a href="#line_1683" id="line_1683"> 1683.</a></span><span class="count                ">   3901</span><span>// to the identifier rules.</span></pre>
<pre><span class="lineno"><a href="#line_1684" id="line_1684"> 1684.</a></span><span class="count                ">   3901</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1685" id="line_1685"> 1685.</a></span><span class="count                ">     10</span><span>    if (id === &quot;(string)&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1686" id="line_1686"> 1686.</a></span><span class="count                ">     10</span><span>        id = name.value;</span></pre>
<pre><span class="lineno"><a href="#line_1687" id="line_1687"> 1687.</a></span><span class="count                ">     10</span><span>        if (!rx_identifier.test(id)) {</span></pre>
<pre><span class="lineno"><a href="#line_1688" id="line_1688"> 1688.</a></span><span class="count                ">     10</span><span>            return id;</span></pre>
<pre><span class="lineno"><a href="#line_1689" id="line_1689"> 1689.</a></span><span class="count                ">     10</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_1690" id="line_1690"> 1690.</a></span><span class="count                ">   3891</span><span>    } else if (id === &quot;`&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1691" id="line_1691"> 1691.</a></span><span class="count                ">   3891</span><span>        if (name.value.length === 1) {</span></pre>
<pre><span class="lineno"><a href="#line_1692" id="line_1692"> 1692.</a></span><span class="count                ">   3891</span><span>            id = name.value[0].value;</span></pre>
<pre><span class="lineno"><a href="#line_1693" id="line_1693"> 1693.</a></span><span class="count                ">   3891</span><span>            if (!rx_identifier.test(id)) {</span></pre>
<pre><span class="lineno"><a href="#line_1694" id="line_1694"> 1694.</a></span><span class="count                ">   3891</span><span>                return id;</span></pre>
<pre><span class="lineno"><a href="#line_1695" id="line_1695"> 1695.</a></span><span class="count                ">   3891</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_1696" id="line_1696"> 1696.</a></span><span class="count                ">   3891</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_1697" id="line_1697"> 1697.</a></span><span class="count                ">   3891</span><span>    } else if (!name.identifier) {</span></pre>
<pre><span class="lineno"><a href="#line_1698" id="line_1698"> 1698.</a></span><span class="count                ">   3891</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1699" id="line_1699"> 1699.</a></span><span class="count                ">   3891</span><span>// cause: &quot;let aa={0:0}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1700" id="line_1700"> 1700.</a></span><span class="count                ">   3891</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1701" id="line_1701"> 1701.</a></span><span class="count                ">   3891</span><span>        return stop(&quot;expected_identifier_a&quot;, name);</span></pre>
<pre><span class="lineno"><a href="#line_1702" id="line_1702"> 1702.</a></span><span class="count                ">   3891</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_1703" id="line_1703"> 1703.</a></span><span class="count                ">   3889</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1704" id="line_1704"> 1704.</a></span><span class="count                ">   3889</span><span>// If we have seen this name before, increment its count.</span></pre>
<pre><span class="lineno"><a href="#line_1705" id="line_1705"> 1705.</a></span><span class="count                ">   3889</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1706" id="line_1706"> 1706.</a></span><span class="count                ">   3889</span><span>    if (typeof property[id] === &quot;number&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1707" id="line_1707"> 1707.</a></span><span class="count                ">   3083</span><span>        property[id] += 1;</span></pre>
<pre><span class="lineno"><a href="#line_1708" id="line_1708"> 1708.</a></span><span class="count                ">   3083</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1709" id="line_1709"> 1709.</a></span><span class="count                ">   3083</span><span>// If this is the first time seeing this property name, and if there is a</span></pre>
<pre><span class="lineno"><a href="#line_1710" id="line_1710"> 1710.</a></span><span class="count                ">   3083</span><span>// tenure list, then it must be on the list. Otherwise, it must conform to</span></pre>
<pre><span class="lineno"><a href="#line_1711" id="line_1711"> 1711.</a></span><span class="count                ">   3083</span><span>// the rules for good property names.</span></pre>
<pre><span class="lineno"><a href="#line_1712" id="line_1712"> 1712.</a></span><span class="count                ">   3083</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1713" id="line_1713"> 1713.</a></span><span class="count                ">   3083</span><span>    } else {</span></pre>
<pre><span class="lineno"><a href="#line_1714" id="line_1714"> 1714.</a></span><span class="count                ">    806</span><span>        if (tenure !== undefined) {</span></pre>
<pre><span class="lineno"><a href="#line_1715" id="line_1715"> 1715.</a></span><span class="count                ">    806</span><span>            if (tenure[id] !== true) {</span></pre>
<pre><span class="lineno"><a href="#line_1716" id="line_1716"> 1716.</a></span><span class="count                ">    806</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1717" id="line_1717"> 1717.</a></span><span class="count                ">    806</span><span>// cause: &quot;/*property aa*/\naa.bb&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1718" id="line_1718"> 1718.</a></span><span class="count                ">    806</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1719" id="line_1719"> 1719.</a></span><span class="count                ">    806</span><span>                warn(&quot;unregistered_property_a&quot;, name);</span></pre>
<pre><span class="lineno"><a href="#line_1720" id="line_1720"> 1720.</a></span><span class="count                ">    806</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_1721" id="line_1721"> 1721.</a></span><span class="count                ">    806</span><span>        } else {</span></pre>
<pre><span class="lineno"><a href="#line_1722" id="line_1722"> 1722.</a></span><span class="count                ">    806</span><span>            if (name.identifier &amp;&amp; rx_bad_property.test(id)) {</span></pre>
<pre><span class="lineno"><a href="#line_1723" id="line_1723"> 1723.</a></span><span class="count                ">    806</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1724" id="line_1724"> 1724.</a></span><span class="count                ">    806</span><span>// cause: &quot;aa._&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1725" id="line_1725"> 1725.</a></span><span class="count                ">    806</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1726" id="line_1726"> 1726.</a></span><span class="count                ">    806</span><span>                warn(&quot;bad_property_a&quot;, name);</span></pre>
<pre><span class="lineno"><a href="#line_1727" id="line_1727"> 1727.</a></span><span class="count                ">    806</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_1728" id="line_1728"> 1728.</a></span><span class="count                ">    806</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_1729" id="line_1729"> 1729.</a></span><span class="count                ">    806</span><span>        property[id] = 1;</span></pre>
<pre><span class="lineno"><a href="#line_1730" id="line_1730"> 1730.</a></span><span class="count                ">   3889</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_1731" id="line_1731"> 1731.</a></span><span class="count                ">   3889</span><span>    return id;</span></pre>
<pre><span class="lineno"><a href="#line_1732" id="line_1732"> 1732.</a></span><span class="count                ">   3889</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_1733" id="line_1733"> 1733.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1734" id="line_1734"> 1734.</a></span><span class="count                ">  57828</span><span>function dispense() {</span></pre>
<pre><span class="lineno"><a href="#line_1735" id="line_1735"> 1735.</a></span><span class="count                ">  57828</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1736" id="line_1736"> 1736.</a></span><span class="count                ">  57828</span><span>// Deliver the next token, skipping the comments.</span></pre>
<pre><span class="lineno"><a href="#line_1737" id="line_1737"> 1737.</a></span><span class="count                ">  57828</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1738" id="line_1738"> 1738.</a></span><span class="count                ">  57828</span><span>    const cadet = tokens[token_nr];</span></pre>
<pre><span class="lineno"><a href="#line_1739" id="line_1739"> 1739.</a></span><span class="count                ">  57828</span><span>    token_nr += 1;</span></pre>
<pre><span class="lineno"><a href="#line_1740" id="line_1740"> 1740.</a></span><span class="count                ">   1660</span><span>    if (cadet.id === &quot;(comment)&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1741" id="line_1741"> 1741.</a></span><span class="count                ">   1660</span><span>        if (json_mode) {</span></pre>
<pre><span class="lineno"><a href="#line_1742" id="line_1742"> 1742.</a></span><span class="count                ">   1660</span><span>            warn(&quot;unexpected_a&quot;, cadet);</span></pre>
<pre><span class="lineno"><a href="#line_1743" id="line_1743"> 1743.</a></span><span class="count                ">   1660</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_1744" id="line_1744"> 1744.</a></span><span class="count                ">   1660</span><span>        return dispense();</span></pre>
<pre><span class="lineno"><a href="#line_1745" id="line_1745"> 1745.</a></span><span class="count                ">  56168</span><span>    } else {</span></pre>
<pre><span class="lineno"><a href="#line_1746" id="line_1746"> 1746.</a></span><span class="count                ">  56168</span><span>        return cadet;</span></pre>
<pre><span class="lineno"><a href="#line_1747" id="line_1747"> 1747.</a></span><span class="count                ">  56168</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_1748" id="line_1748"> 1748.</a></span><span class="count                ">  57828</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_1749" id="line_1749"> 1749.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1750" id="line_1750"> 1750.</a></span><span class="count                ">    395</span><span>function lookahead() {</span></pre>
<pre><span class="lineno"><a href="#line_1751" id="line_1751"> 1751.</a></span><span class="count                ">    395</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1752" id="line_1752"> 1752.</a></span><span class="count                ">    395</span><span>// Look ahead one token without advancing.</span></pre>
<pre><span class="lineno"><a href="#line_1753" id="line_1753"> 1753.</a></span><span class="count                ">    395</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1754" id="line_1754"> 1754.</a></span><span class="count                ">    395</span><span>    const old_token_nr = token_nr;</span></pre>
<pre><span class="lineno"><a href="#line_1755" id="line_1755"> 1755.</a></span><span class="count                ">    395</span><span>    const cadet = dispense(true);</span></pre>
<pre><span class="lineno"><a href="#line_1756" id="line_1756"> 1756.</a></span><span class="count                ">    395</span><span>    token_nr = old_token_nr;</span></pre>
<pre><span class="lineno"><a href="#line_1757" id="line_1757"> 1757.</a></span><span class="count                ">    395</span><span>    return cadet;</span></pre>
<pre><span class="lineno"><a href="#line_1758" id="line_1758"> 1758.</a></span><span class="count                ">    395</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_1759" id="line_1759"> 1759.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1760" id="line_1760"> 1760.</a></span><span class="count                ">  55794</span><span>function advance(id, match) {</span></pre>
<pre><span class="lineno"><a href="#line_1761" id="line_1761"> 1761.</a></span><span class="count                ">  55794</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1762" id="line_1762"> 1762.</a></span><span class="count                ">  55794</span><span>// Produce the next token.</span></pre>
<pre><span class="lineno"><a href="#line_1763" id="line_1763"> 1763.</a></span><span class="count                ">  55794</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1764" id="line_1764"> 1764.</a></span><span class="count                ">  55794</span><span>// Attempt to give helpful names to anonymous functions.</span></pre>
<pre><span class="lineno"><a href="#line_1765" id="line_1765"> 1765.</a></span><span class="count                ">  55794</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1766" id="line_1766"> 1766.</a></span><span class="count                ">  18487</span><span>    if (token.identifier &amp;&amp; token.id !== &quot;function&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1767" id="line_1767"> 1767.</a></span><span class="count                ">  17901</span><span>        anon = token.id;</span></pre>
<pre><span class="lineno"><a href="#line_1768" id="line_1768"> 1768.</a></span><span class="count                ">  37893</span><span>    } else if (token.id === &quot;(string)&quot; &amp;&amp; rx_identifier.test(token.value)) {</span></pre>
<pre><span class="lineno"><a href="#line_1769" id="line_1769"> 1769.</a></span><span class="count                ">  37893</span><span>        anon = token.value;</span></pre>
<pre><span class="lineno"><a href="#line_1770" id="line_1770"> 1770.</a></span><span class="count                ">  37893</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_1771" id="line_1771"> 1771.</a></span><span class="count                ">  55794</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1772" id="line_1772"> 1772.</a></span><span class="count                ">  55794</span><span>// Attempt to match next_token with an expected id.</span></pre>
<pre><span class="lineno"><a href="#line_1773" id="line_1773"> 1773.</a></span><span class="count                ">  55794</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1774" id="line_1774"> 1774.</a></span><span class="count                ">  20808</span><span>    if (id !== undefined &amp;&amp; next_token.id !== id) {</span></pre>
<pre><span class="lineno"><a href="#line_1775" id="line_1775"> 1775.</a></span><span class="count                ">     21</span><span>        return (</span></pre>
<pre><span class="lineno"><a href="#line_1776" id="line_1776"> 1776.</a></span><span class="count                ">     21</span><span>            match === undefined</span></pre>
<pre><span class="lineno"><a href="#line_1777" id="line_1777"> 1777.</a></span><span class="count                ">     21</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1778" id="line_1778"> 1778.</a></span><span class="count                ">     21</span><span>// cause: &quot;()&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1779" id="line_1779"> 1779.</a></span><span class="count                ">     21</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1780" id="line_1780"> 1780.</a></span><span class="count                ">     21</span><span>            ? stop(&quot;expected_a_b&quot;, next_token, id, artifact())</span></pre>
<pre><span class="lineno"><a href="#line_1781" id="line_1781"> 1781.</a></span><span class="count                ">     21</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1782" id="line_1782"> 1782.</a></span><span class="count                ">     21</span><span>// cause: &quot;{\&quot;aa\&quot;:0&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1783" id="line_1783"> 1783.</a></span><span class="count                ">     21</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1784" id="line_1784"> 1784.</a></span><span class="count                ">     21</span><span>            : stop(</span></pre>
<pre><span class="lineno"><a href="#line_1785" id="line_1785"> 1785.</a></span><span class="count                ">     21</span><span>                &quot;expected_a_b_from_c_d&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_1786" id="line_1786"> 1786.</a></span><span class="count                ">     21</span><span>                next_token,</span></pre>
<pre><span class="lineno"><a href="#line_1787" id="line_1787"> 1787.</a></span><span class="count                ">     21</span><span>                id,</span></pre>
<pre><span class="lineno"><a href="#line_1788" id="line_1788"> 1788.</a></span><span class="count                ">     21</span><span>                artifact(match),</span></pre>
<pre><span class="lineno"><a href="#line_1789" id="line_1789"> 1789.</a></span><span class="count                ">     21</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1790" id="line_1790"> 1790.</a></span><span class="count                ">     21</span><span>// Return the fudged line number of an artifact.</span></pre>
<pre><span class="lineno"><a href="#line_1791" id="line_1791"> 1791.</a></span><span class="count                ">     21</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1792" id="line_1792"> 1792.</a></span><span class="count                ">     21</span><span>                match.line + fudge,</span></pre>
<pre><span class="lineno"><a href="#line_1793" id="line_1793"> 1793.</a></span><span class="count                ">     21</span><span>                artifact(next_token)</span></pre>
<pre><span class="lineno"><a href="#line_1794" id="line_1794"> 1794.</a></span><span class="count                ">     21</span><span>            )</span></pre>
<pre><span class="lineno"><a href="#line_1795" id="line_1795"> 1795.</a></span><span class="count                ">     21</span><span>        );</span></pre>
<pre><span class="lineno"><a href="#line_1796" id="line_1796"> 1796.</a></span><span class="count                ">  55773</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_1797" id="line_1797"> 1797.</a></span><span class="count                ">  55773</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1798" id="line_1798"> 1798.</a></span><span class="count                ">  55773</span><span>// Promote the tokens, skipping comments.</span></pre>
<pre><span class="lineno"><a href="#line_1799" id="line_1799"> 1799.</a></span><span class="count                ">  55773</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1800" id="line_1800"> 1800.</a></span><span class="count                ">  55773</span><span>    token = next_token;</span></pre>
<pre><span class="lineno"><a href="#line_1801" id="line_1801"> 1801.</a></span><span class="count                ">  55773</span><span>    next_token = dispense();</span></pre>
<pre><span class="lineno"><a href="#line_1802" id="line_1802"> 1802.</a></span><span class="count                ">  55773</span><span>    if (next_token.id === &quot;(end)&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1803" id="line_1803"> 1803.</a></span><span class="count                ">    630</span><span>        token_nr -= 1;</span></pre>
<pre><span class="lineno"><a href="#line_1804" id="line_1804"> 1804.</a></span><span class="count                ">    630</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_1805" id="line_1805"> 1805.</a></span><span class="count                ">  55794</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_1806" id="line_1806"> 1806.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1807" id="line_1807"> 1807.</a></span><span class="count                ">      1</span><span>// Parsing of JSON is simple:</span></pre>
<pre><span class="lineno"><a href="#line_1808" id="line_1808"> 1808.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1809" id="line_1809"> 1809.</a></span><span class="count                ">     43</span><span>function json_value() {</span></pre>
<pre><span class="lineno"><a href="#line_1810" id="line_1810"> 1810.</a></span><span class="count                ">     43</span><span>    let negative;</span></pre>
<pre><span class="lineno"><a href="#line_1811" id="line_1811"> 1811.</a></span><span class="count                ">     15</span><span>    if (next_token.id === &quot;{&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1812" id="line_1812"> 1812.</a></span><span class="count                ">     15</span><span>        return (function json_object() {</span></pre>
<pre><span class="lineno"><a href="#line_1813" id="line_1813"> 1813.</a></span><span class="count                ">     15</span><span>            const brace = next_token;</span></pre>
<pre><span class="lineno"><a href="#line_1814" id="line_1814"> 1814.</a></span><span class="count                ">     15</span><span>            const object = empty();</span></pre>
<pre><span class="lineno"><a href="#line_1815" id="line_1815"> 1815.</a></span><span class="count                ">     15</span><span>            const properties = [];</span></pre>
<pre><span class="lineno"><a href="#line_1816" id="line_1816"> 1816.</a></span><span class="count                ">     15</span><span>            brace.expression = properties;</span></pre>
<pre><span class="lineno"><a href="#line_1817" id="line_1817"> 1817.</a></span><span class="count                ">     15</span><span>            advance(&quot;{&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_1818" id="line_1818"> 1818.</a></span><span class="count                ">     15</span><span>            if (next_token.id !== &quot;}&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1819" id="line_1819"> 1819.</a></span><span class="count                ">     15</span><span>                (function next() {</span></pre>
<pre><span class="lineno"><a href="#line_1820" id="line_1820"> 1820.</a></span><span class="count                ">     15</span><span>                    let name;</span></pre>
<pre><span class="lineno"><a href="#line_1821" id="line_1821"> 1821.</a></span><span class="count                ">     15</span><span>                    let value;</span></pre>
<pre><span class="lineno"><a href="#line_1822" id="line_1822"> 1822.</a></span><span class="count                ">     15</span><span>                    if (next_token.quote !== &quot;\&quot;&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1823" id="line_1823"> 1823.</a></span><span class="count                ">     15</span><span>                        warn(</span></pre>
<pre><span class="lineno"><a href="#line_1824" id="line_1824"> 1824.</a></span><span class="count                ">     15</span><span>                            &quot;unexpected_a&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_1825" id="line_1825"> 1825.</a></span><span class="count                ">     15</span><span>                            next_token,</span></pre>
<pre><span class="lineno"><a href="#line_1826" id="line_1826"> 1826.</a></span><span class="count                ">     15</span><span>                            next_token.quote</span></pre>
<pre><span class="lineno"><a href="#line_1827" id="line_1827"> 1827.</a></span><span class="count                ">     15</span><span>                        );</span></pre>
<pre><span class="lineno"><a href="#line_1828" id="line_1828"> 1828.</a></span><span class="count                ">     15</span><span>                    }</span></pre>
<pre><span class="lineno"><a href="#line_1829" id="line_1829"> 1829.</a></span><span class="count                ">     15</span><span>                    name = next_token;</span></pre>
<pre><span class="lineno"><a href="#line_1830" id="line_1830"> 1830.</a></span><span class="count                ">     15</span><span>                    advance(&quot;(string)&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_1831" id="line_1831"> 1831.</a></span><span class="count                ">     15</span><span>                    if (object[token.value] !== undefined) {</span></pre>
<pre><span class="lineno"><a href="#line_1832" id="line_1832"> 1832.</a></span><span class="count                ">     15</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1833" id="line_1833"> 1833.</a></span><span class="count                ">     15</span><span>// cause: &quot;{\&quot;aa\&quot;:0,\&quot;aa\&quot;:0}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1834" id="line_1834"> 1834.</a></span><span class="count                ">     15</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1835" id="line_1835"> 1835.</a></span><span class="count                ">     15</span><span>                        warn(&quot;duplicate_a&quot;, token);</span></pre>
<pre><span class="lineno"><a href="#line_1836" id="line_1836"> 1836.</a></span><span class="count                ">     15</span><span>                    } else if (token.value === &quot;__proto__&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1837" id="line_1837"> 1837.</a></span><span class="count                ">     15</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1838" id="line_1838"> 1838.</a></span><span class="count                ">     15</span><span>// cause: &quot;{\&quot;__proto__\&quot;:0}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1839" id="line_1839"> 1839.</a></span><span class="count                ">     15</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1840" id="line_1840"> 1840.</a></span><span class="count                ">     15</span><span>                        warn(&quot;bad_property_a&quot;, token);</span></pre>
<pre><span class="lineno"><a href="#line_1841" id="line_1841"> 1841.</a></span><span class="count                ">     15</span><span>                    } else {</span></pre>
<pre><span class="lineno"><a href="#line_1842" id="line_1842"> 1842.</a></span><span class="count                ">     15</span><span>                        object[token.value] = token;</span></pre>
<pre><span class="lineno"><a href="#line_1843" id="line_1843"> 1843.</a></span><span class="count                ">     15</span><span>                    }</span></pre>
<pre><span class="lineno"><a href="#line_1844" id="line_1844"> 1844.</a></span><span class="count                ">     15</span><span>                    advance(&quot;:&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_1845" id="line_1845"> 1845.</a></span><span class="count                ">     15</span><span>                    value = json_value();</span></pre>
<pre><span class="lineno"><a href="#line_1846" id="line_1846"> 1846.</a></span><span class="count                ">     15</span><span>                    value.label = name;</span></pre>
<pre><span class="lineno"><a href="#line_1847" id="line_1847"> 1847.</a></span><span class="count                ">     15</span><span>                    properties.push(value);</span></pre>
<pre><span class="lineno"><a href="#line_1848" id="line_1848"> 1848.</a></span><span class="count                ">     15</span><span>                    if (next_token.id === &quot;,&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1849" id="line_1849"> 1849.</a></span><span class="count                ">     15</span><span>                        advance(&quot;,&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_1850" id="line_1850"> 1850.</a></span><span class="count                ">     15</span><span>                        return next();</span></pre>
<pre><span class="lineno"><a href="#line_1851" id="line_1851"> 1851.</a></span><span class="count                ">     15</span><span>                    }</span></pre>
<pre><span class="lineno"><a href="#line_1852" id="line_1852"> 1852.</a></span><span class="count                ">     15</span><span>                }());</span></pre>
<pre><span class="lineno"><a href="#line_1853" id="line_1853"> 1853.</a></span><span class="count                ">     15</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_1854" id="line_1854"> 1854.</a></span><span class="count                ">     15</span><span>            advance(&quot;}&quot;, brace);</span></pre>
<pre><span class="lineno"><a href="#line_1855" id="line_1855"> 1855.</a></span><span class="count                ">     15</span><span>            return brace;</span></pre>
<pre><span class="lineno"><a href="#line_1856" id="line_1856"> 1856.</a></span><span class="count                ">     15</span><span>        }());</span></pre>
<pre><span class="lineno"><a href="#line_1857" id="line_1857"> 1857.</a></span><span class="count                ">     28</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_1858" id="line_1858"> 1858.</a></span><span class="count                ">     28</span><span>    if (next_token.id === &quot;[&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1859" id="line_1859"> 1859.</a></span><span class="count                ">     10</span><span>        return (function json_array() {</span></pre>
<pre><span class="lineno"><a href="#line_1860" id="line_1860"> 1860.</a></span><span class="count                ">     10</span><span>            const bracket = next_token;</span></pre>
<pre><span class="lineno"><a href="#line_1861" id="line_1861"> 1861.</a></span><span class="count                ">     10</span><span>            const elements = [];</span></pre>
<pre><span class="lineno"><a href="#line_1862" id="line_1862"> 1862.</a></span><span class="count                ">     10</span><span>            bracket.expression = elements;</span></pre>
<pre><span class="lineno"><a href="#line_1863" id="line_1863"> 1863.</a></span><span class="count                ">     10</span><span>            advance(&quot;[&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_1864" id="line_1864"> 1864.</a></span><span class="count                ">     10</span><span>            if (next_token.id !== &quot;]&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1865" id="line_1865"> 1865.</a></span><span class="count                ">     10</span><span>                (function next() {</span></pre>
<pre><span class="lineno"><a href="#line_1866" id="line_1866"> 1866.</a></span><span class="count                ">     10</span><span>                    elements.push(json_value());</span></pre>
<pre><span class="lineno"><a href="#line_1867" id="line_1867"> 1867.</a></span><span class="count                ">     10</span><span>                    if (next_token.id === &quot;,&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1868" id="line_1868"> 1868.</a></span><span class="count                ">     10</span><span>                        advance(&quot;,&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_1869" id="line_1869"> 1869.</a></span><span class="count                ">     10</span><span>                        return next();</span></pre>
<pre><span class="lineno"><a href="#line_1870" id="line_1870"> 1870.</a></span><span class="count                ">     10</span><span>                    }</span></pre>
<pre><span class="lineno"><a href="#line_1871" id="line_1871"> 1871.</a></span><span class="count                ">     10</span><span>                }());</span></pre>
<pre><span class="lineno"><a href="#line_1872" id="line_1872"> 1872.</a></span><span class="count                ">     10</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_1873" id="line_1873"> 1873.</a></span><span class="count                ">     10</span><span>            advance(&quot;]&quot;, bracket);</span></pre>
<pre><span class="lineno"><a href="#line_1874" id="line_1874"> 1874.</a></span><span class="count                ">     10</span><span>            return bracket;</span></pre>
<pre><span class="lineno"><a href="#line_1875" id="line_1875"> 1875.</a></span><span class="count                ">     10</span><span>        }());</span></pre>
<pre><span class="lineno"><a href="#line_1876" id="line_1876"> 1876.</a></span><span class="count                ">     18</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_1877" id="line_1877"> 1877.</a></span><span class="count                ">     18</span><span>    if (</span></pre>
<pre><span class="lineno"><a href="#line_1878" id="line_1878"> 1878.</a></span><span class="count                ">     18</span><span>        next_token.id === &quot;true&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1879" id="line_1879"> 1879.</a></span><span class="count                ">     18</span><span>        || next_token.id === &quot;false&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1880" id="line_1880"> 1880.</a></span><span class="count                ">     18</span><span>        || next_token.id === &quot;null&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1881" id="line_1881"> 1881.</a></span><span class="count                ">      1</span><span>    ) {</span></pre>
<pre><span class="lineno"><a href="#line_1882" id="line_1882"> 1882.</a></span><span class="count                ">      1</span><span>        advance();</span></pre>
<pre><span class="lineno"><a href="#line_1883" id="line_1883"> 1883.</a></span><span class="count                ">      1</span><span>        return token;</span></pre>
<pre><span class="lineno"><a href="#line_1884" id="line_1884"> 1884.</a></span><span class="count                ">     17</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_1885" id="line_1885"> 1885.</a></span><span class="count                ">     17</span><span>    if (next_token.id === &quot;(number)&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1886" id="line_1886"> 1886.</a></span><span class="count                ">      9</span><span>        if (!rx_JSON_number.test(next_token.value)) {</span></pre>
<pre><span class="lineno"><a href="#line_1887" id="line_1887"> 1887.</a></span><span class="count                ">      9</span><span>            warn(&quot;unexpected_a&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_1888" id="line_1888"> 1888.</a></span><span class="count                ">      9</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_1889" id="line_1889"> 1889.</a></span><span class="count                ">      9</span><span>        advance();</span></pre>
<pre><span class="lineno"><a href="#line_1890" id="line_1890"> 1890.</a></span><span class="count                ">      9</span><span>        return token;</span></pre>
<pre><span class="lineno"><a href="#line_1891" id="line_1891"> 1891.</a></span><span class="count                ">      9</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_1892" id="line_1892"> 1892.</a></span><span class="count                ">      8</span><span>    if (next_token.id === &quot;(string)&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1893" id="line_1893"> 1893.</a></span><span class="count                ">      4</span><span>        if (next_token.quote !== &quot;\&quot;&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1894" id="line_1894"> 1894.</a></span><span class="count                ">      4</span><span>            warn(&quot;unexpected_a&quot;, next_token, next_token.quote);</span></pre>
<pre><span class="lineno"><a href="#line_1895" id="line_1895"> 1895.</a></span><span class="count                ">      4</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_1896" id="line_1896"> 1896.</a></span><span class="count                ">      4</span><span>        advance();</span></pre>
<pre><span class="lineno"><a href="#line_1897" id="line_1897"> 1897.</a></span><span class="count                ">      4</span><span>        return token;</span></pre>
<pre><span class="lineno"><a href="#line_1898" id="line_1898"> 1898.</a></span><span class="count                ">      4</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_1899" id="line_1899"> 1899.</a></span><span class="count                ">      4</span><span>    if (next_token.id === &quot;-&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1900" id="line_1900"> 1900.</a></span><span class="count                ">      2</span><span>        negative = next_token;</span></pre>
<pre><span class="lineno"><a href="#line_1901" id="line_1901"> 1901.</a></span><span class="count                ">      2</span><span>        negative.arity = &quot;unary&quot;;</span></pre>
<pre><span class="lineno"><a href="#line_1902" id="line_1902"> 1902.</a></span><span class="count                ">      2</span><span>        advance(&quot;-&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_1903" id="line_1903"> 1903.</a></span><span class="count                ">      2</span><span>        advance(&quot;(number)&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_1904" id="line_1904"> 1904.</a></span><span class="count                ">      2</span><span>        if (!rx_JSON_number.test(token.value)) {</span></pre>
<pre><span class="lineno"><a href="#line_1905" id="line_1905"> 1905.</a></span><span class="count                ">      2</span><span>            warn(&quot;unexpected_a&quot;, token);</span></pre>
<pre><span class="lineno"><a href="#line_1906" id="line_1906"> 1906.</a></span><span class="count                ">      2</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_1907" id="line_1907"> 1907.</a></span><span class="count                ">      2</span><span>        negative.expression = token;</span></pre>
<pre><span class="lineno"><a href="#line_1908" id="line_1908"> 1908.</a></span><span class="count                ">      2</span><span>        return negative;</span></pre>
<pre><span class="lineno"><a href="#line_1909" id="line_1909"> 1909.</a></span><span class="count                ">      2</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_1910" id="line_1910"> 1910.</a></span><span class="count                ">      2</span><span>    stop(&quot;unexpected_a&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_1911" id="line_1911"> 1911.</a></span><span class="count                ">      2</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_1912" id="line_1912"> 1912.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1913" id="line_1913"> 1913.</a></span><span class="count                ">      1</span><span>// Now we parse JavaScript.</span></pre>
<pre><span class="lineno"><a href="#line_1914" id="line_1914"> 1914.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1915" id="line_1915"> 1915.</a></span><span class="count                ">   1576</span><span>function enroll(name, role, readonly) {</span></pre>
<pre><span class="lineno"><a href="#line_1916" id="line_1916"> 1916.</a></span><span class="count                ">   1576</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1917" id="line_1917"> 1917.</a></span><span class="count                ">   1576</span><span>// Enroll a name into the current function context. The role can be exception,</span></pre>
<pre><span class="lineno"><a href="#line_1918" id="line_1918"> 1918.</a></span><span class="count                ">   1576</span><span>// function, label, parameter, or variable. We look for variable redefinition</span></pre>
<pre><span class="lineno"><a href="#line_1919" id="line_1919"> 1919.</a></span><span class="count                ">   1576</span><span>// because it causes confusion.</span></pre>
<pre><span class="lineno"><a href="#line_1920" id="line_1920"> 1920.</a></span><span class="count                ">   1576</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1921" id="line_1921"> 1921.</a></span><span class="count                ">   1576</span><span>    const id = name.id;</span></pre>
<pre><span class="lineno"><a href="#line_1922" id="line_1922"> 1922.</a></span><span class="count                ">   1576</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1923" id="line_1923"> 1923.</a></span><span class="count                ">   1576</span><span>// Reserved words may not be enrolled.</span></pre>
<pre><span class="lineno"><a href="#line_1924" id="line_1924"> 1924.</a></span><span class="count                ">   1576</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1925" id="line_1925"> 1925.</a></span><span class="count                ">     22</span><span>    if (syntax[id] !== undefined &amp;&amp; id !== &quot;ignore&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1926" id="line_1926"> 1926.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1927" id="line_1927"> 1927.</a></span><span class="count                ">      1</span><span>// cause: &quot;let undefined&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1928" id="line_1928"> 1928.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1929" id="line_1929"> 1929.</a></span><span class="count                ">      1</span><span>        warn(&quot;reserved_a&quot;, name);</span></pre>
<pre><span class="lineno"><a href="#line_1930" id="line_1930"> 1930.</a></span><span class="count                ">   1575</span><span>    } else {</span></pre>
<pre><span class="lineno"><a href="#line_1931" id="line_1931"> 1931.</a></span><span class="count                ">   1575</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1932" id="line_1932"> 1932.</a></span><span class="count                ">   1575</span><span>// Has the name been enrolled in this context?</span></pre>
<pre><span class="lineno"><a href="#line_1933" id="line_1933"> 1933.</a></span><span class="count                ">   1575</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1934" id="line_1934"> 1934.</a></span><span class="count                ">   1575</span><span>        let earlier = functionage.context[id];</span></pre>
<pre><span class="lineno"><a href="#line_1935" id="line_1935"> 1935.</a></span><span class="count                ">   1575</span><span>        if (earlier) {</span></pre>
<pre><span class="lineno"><a href="#line_1936" id="line_1936"> 1936.</a></span><span class="count                ">   1575</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1937" id="line_1937"> 1937.</a></span><span class="count                ">   1575</span><span>// cause: &quot;let aa;let aa&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1938" id="line_1938"> 1938.</a></span><span class="count                ">   1575</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1939" id="line_1939"> 1939.</a></span><span class="count                ">   1575</span><span>            warn(</span></pre>
<pre><span class="lineno"><a href="#line_1940" id="line_1940"> 1940.</a></span><span class="count                ">   1575</span><span>                &quot;redefinition_a_b&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_1941" id="line_1941"> 1941.</a></span><span class="count                ">   1575</span><span>                name,</span></pre>
<pre><span class="lineno"><a href="#line_1942" id="line_1942"> 1942.</a></span><span class="count                ">   1575</span><span>                name.id,</span></pre>
<pre><span class="lineno"><a href="#line_1943" id="line_1943"> 1943.</a></span><span class="count                ">   1575</span><span>                earlier.line + fudge</span></pre>
<pre><span class="lineno"><a href="#line_1944" id="line_1944"> 1944.</a></span><span class="count                ">   1575</span><span>            );</span></pre>
<pre><span class="lineno"><a href="#line_1945" id="line_1945"> 1945.</a></span><span class="count                ">   1575</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1946" id="line_1946"> 1946.</a></span><span class="count                ">   1575</span><span>// Has the name been enrolled in an outer context?</span></pre>
<pre><span class="lineno"><a href="#line_1947" id="line_1947"> 1947.</a></span><span class="count                ">   1575</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1948" id="line_1948"> 1948.</a></span><span class="count                ">   1575</span><span>        } else {</span></pre>
<pre><span class="lineno"><a href="#line_1949" id="line_1949"> 1949.</a></span><span class="count                ">   1857</span><span>            stack.forEach(function (value) {</span></pre>
<pre><span class="lineno"><a href="#line_1950" id="line_1950"> 1950.</a></span><span class="count                ">   1857</span><span>                const item = value.context[id];</span></pre>
<pre><span class="lineno"><a href="#line_1951" id="line_1951"> 1951.</a></span><span class="count                ">   1575</span><span>                if (item !== undefined) {</span></pre>
<pre><span class="lineno"><a href="#line_1952" id="line_1952"> 1952.</a></span><span class="count                ">   1575</span><span>                    earlier = item;</span></pre>
<pre><span class="lineno"><a href="#line_1953" id="line_1953"> 1953.</a></span><span class="count                ">   1575</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_1954" id="line_1954"> 1954.</a></span><span class="count                ">   1857</span><span>            });</span></pre>
<pre><span class="lineno"><a href="#line_1955" id="line_1955"> 1955.</a></span><span class="count                ">   1575</span><span>            if (earlier) {</span></pre>
<pre><span class="lineno"><a href="#line_1956" id="line_1956"> 1956.</a></span><span class="count                ">   1575</span><span>                if (id === &quot;ignore&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1957" id="line_1957"> 1957.</a></span><span class="count                ">   1575</span><span>                    if (earlier.role === &quot;variable&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_1958" id="line_1958"> 1958.</a></span><span class="count                ">   1575</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1959" id="line_1959"> 1959.</a></span><span class="count                ">   1575</span><span>// cause: &quot;let ignore;function aa(ignore) {}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1960" id="line_1960"> 1960.</a></span><span class="count                ">   1575</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1961" id="line_1961"> 1961.</a></span><span class="count                ">   1575</span><span>                        warn(&quot;unexpected_a&quot;, name);</span></pre>
<pre><span class="lineno"><a href="#line_1962" id="line_1962"> 1962.</a></span><span class="count                ">   1575</span><span>                    }</span></pre>
<pre><span class="lineno"><a href="#line_1963" id="line_1963"> 1963.</a></span><span class="count                ">   1575</span><span>                } else {</span></pre>
<pre><span class="lineno"><a href="#line_1964" id="line_1964"> 1964.</a></span><span class="count                ">   1575</span><span>                    if (</span></pre>
<pre><span class="lineno"><a href="#line_1965" id="line_1965"> 1965.</a></span><span class="count                ">   1575</span><span>                        (</span></pre>
<pre><span class="lineno"><a href="#line_1966" id="line_1966"> 1966.</a></span><span class="count                ">   1575</span><span>                            role !== &quot;exception&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1967" id="line_1967"> 1967.</a></span><span class="count                ">   1575</span><span>                            || earlier.role !== &quot;exception&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1968" id="line_1968"> 1968.</a></span><span class="count                ">   1575</span><span>                        )</span></pre>
<pre><span class="lineno"><a href="#line_1969" id="line_1969"> 1969.</a></span><span class="count                ">   1575</span><span>                        &amp;&amp; role !== &quot;parameter&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1970" id="line_1970"> 1970.</a></span><span class="count                ">   1575</span><span>                        &amp;&amp; role !== &quot;function&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1971" id="line_1971"> 1971.</a></span><span class="count                ">   1575</span><span>                    ) {</span></pre>
<pre><span class="lineno"><a href="#line_1972" id="line_1972"> 1972.</a></span><span class="count                ">   1575</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1973" id="line_1973"> 1973.</a></span><span class="count                ">   1575</span><span>// cause: &quot;function aa(){var aa;}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1974" id="line_1974"> 1974.</a></span><span class="count                ">   1575</span><span>// cause: &quot;function aa(){try{aa();}catch(aa){aa();}}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_1975" id="line_1975"> 1975.</a></span><span class="count                ">   1575</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1976" id="line_1976"> 1976.</a></span><span class="count                ">   1575</span><span>                        warn(</span></pre>
<pre><span class="lineno"><a href="#line_1977" id="line_1977"> 1977.</a></span><span class="count                ">   1575</span><span>                            &quot;redefinition_a_b&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_1978" id="line_1978"> 1978.</a></span><span class="count                ">   1575</span><span>                            name,</span></pre>
<pre><span class="lineno"><a href="#line_1979" id="line_1979"> 1979.</a></span><span class="count                ">   1575</span><span>                            name.id,</span></pre>
<pre><span class="lineno"><a href="#line_1980" id="line_1980"> 1980.</a></span><span class="count                ">   1575</span><span>                            earlier.line + fudge</span></pre>
<pre><span class="lineno"><a href="#line_1981" id="line_1981"> 1981.</a></span><span class="count                ">   1575</span><span>                        );</span></pre>
<pre><span class="lineno"><a href="#line_1982" id="line_1982"> 1982.</a></span><span class="count                ">   1575</span><span>                    }</span></pre>
<pre><span class="lineno"><a href="#line_1983" id="line_1983"> 1983.</a></span><span class="count                ">   1575</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_1984" id="line_1984"> 1984.</a></span><span class="count                ">   1575</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_1985" id="line_1985"> 1985.</a></span><span class="count                ">   1575</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1986" id="line_1986"> 1986.</a></span><span class="count                ">   1575</span><span>// Enroll it.</span></pre>
<pre><span class="lineno"><a href="#line_1987" id="line_1987"> 1987.</a></span><span class="count                ">   1575</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1988" id="line_1988"> 1988.</a></span><span class="count                ">   1575</span><span>            functionage.context[id] = name;</span></pre>
<pre><span class="lineno"><a href="#line_1989" id="line_1989"> 1989.</a></span><span class="count                ">   1575</span><span>            name.dead = true;</span></pre>
<pre><span class="lineno"><a href="#line_1990" id="line_1990"> 1990.</a></span><span class="count                ">   1575</span><span>            name.parent = functionage;</span></pre>
<pre><span class="lineno"><a href="#line_1991" id="line_1991"> 1991.</a></span><span class="count                ">   1575</span><span>            name.init = false;</span></pre>
<pre><span class="lineno"><a href="#line_1992" id="line_1992"> 1992.</a></span><span class="count                ">   1575</span><span>            name.role = role;</span></pre>
<pre><span class="lineno"><a href="#line_1993" id="line_1993"> 1993.</a></span><span class="count                ">   1575</span><span>            name.used = 0;</span></pre>
<pre><span class="lineno"><a href="#line_1994" id="line_1994"> 1994.</a></span><span class="count                ">   1575</span><span>            name.writable = !readonly;</span></pre>
<pre><span class="lineno"><a href="#line_1995" id="line_1995"> 1995.</a></span><span class="count                ">   1575</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_1996" id="line_1996"> 1996.</a></span><span class="count                ">   1575</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_1997" id="line_1997"> 1997.</a></span><span class="count                ">   1576</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_1998" id="line_1998"> 1998.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_1999" id="line_1999"> 1999.</a></span><span class="count                ">  15679</span><span>function expression(rbp, initial) {</span></pre>
<pre><span class="lineno"><a href="#line_2000" id="line_2000"> 2000.</a></span><span class="count                ">  15679</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2001" id="line_2001"> 2001.</a></span><span class="count                ">  15679</span><span>// This is the heart of the Pratt parser. I retained Pratt&apos;s nomenclature.</span></pre>
<pre><span class="lineno"><a href="#line_2002" id="line_2002"> 2002.</a></span><span class="count                ">  15679</span><span>// They are elements of the parsing method called Top Down Operator Precedence.</span></pre>
<pre><span class="lineno"><a href="#line_2003" id="line_2003"> 2003.</a></span><span class="count                ">  15679</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2004" id="line_2004"> 2004.</a></span><span class="count                ">  15679</span><span>// nud     Null denotation</span></pre>
<pre><span class="lineno"><a href="#line_2005" id="line_2005"> 2005.</a></span><span class="count                ">  15679</span><span>// led     Left denotation</span></pre>
<pre><span class="lineno"><a href="#line_2006" id="line_2006"> 2006.</a></span><span class="count                ">  15679</span><span>// lbp     Left binding power</span></pre>
<pre><span class="lineno"><a href="#line_2007" id="line_2007"> 2007.</a></span><span class="count                ">  15679</span><span>// rbp     Right binding power</span></pre>
<pre><span class="lineno"><a href="#line_2008" id="line_2008"> 2008.</a></span><span class="count                ">  15679</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2009" id="line_2009"> 2009.</a></span><span class="count                ">  15679</span><span>// It processes a nud (variable, constant, prefix operator). It will then</span></pre>
<pre><span class="lineno"><a href="#line_2010" id="line_2010"> 2010.</a></span><span class="count                ">  15679</span><span>// process leds (infix operators) until the bind powers cause it to stop. It</span></pre>
<pre><span class="lineno"><a href="#line_2011" id="line_2011"> 2011.</a></span><span class="count                ">  15679</span><span>// returns the expression&apos;s parse tree.</span></pre>
<pre><span class="lineno"><a href="#line_2012" id="line_2012"> 2012.</a></span><span class="count                ">  15679</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2013" id="line_2013"> 2013.</a></span><span class="count                ">  15679</span><span>    let left;</span></pre>
<pre><span class="lineno"><a href="#line_2014" id="line_2014"> 2014.</a></span><span class="count                ">  15679</span><span>    let the_symbol;</span></pre>
<pre><span class="lineno"><a href="#line_2015" id="line_2015"> 2015.</a></span><span class="count                ">  15679</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2016" id="line_2016"> 2016.</a></span><span class="count                ">  15679</span><span>// Statements will have already advanced, so advance now only if the token is</span></pre>
<pre><span class="lineno"><a href="#line_2017" id="line_2017"> 2017.</a></span><span class="count                ">  15679</span><span>// not the first of a statement,</span></pre>
<pre><span class="lineno"><a href="#line_2018" id="line_2018"> 2018.</a></span><span class="count                ">  15679</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2019" id="line_2019"> 2019.</a></span><span class="count                ">  12444</span><span>    if (!initial) {</span></pre>
<pre><span class="lineno"><a href="#line_2020" id="line_2020"> 2020.</a></span><span class="count                ">  12444</span><span>        advance();</span></pre>
<pre><span class="lineno"><a href="#line_2021" id="line_2021"> 2021.</a></span><span class="count                ">  12444</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_2022" id="line_2022"> 2022.</a></span><span class="count                ">  15679</span><span>    the_symbol = syntax[token.id];</span></pre>
<pre><span class="lineno"><a href="#line_2023" id="line_2023"> 2023.</a></span><span class="count                ">   6940</span><span>    if (the_symbol !== undefined &amp;&amp; the_symbol.nud !== undefined) {</span></pre>
<pre><span class="lineno"><a href="#line_2024" id="line_2024"> 2024.</a></span><span class="count                ">   6923</span><span>        left = the_symbol.nud();</span></pre>
<pre><span class="lineno"><a href="#line_2025" id="line_2025"> 2025.</a></span><span class="count                ">   8756</span><span>    } else if (token.identifier) {</span></pre>
<pre><span class="lineno"><a href="#line_2026" id="line_2026"> 2026.</a></span><span class="count                ">   8756</span><span>        left = token;</span></pre>
<pre><span class="lineno"><a href="#line_2027" id="line_2027"> 2027.</a></span><span class="count                ">   8756</span><span>        left.arity = &quot;variable&quot;;</span></pre>
<pre><span class="lineno"><a href="#line_2028" id="line_2028"> 2028.</a></span><span class="count                ">   8756</span><span>    } else {</span></pre>
<pre><span class="lineno"><a href="#line_2029" id="line_2029"> 2029.</a></span><span class="count                ">   8756</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2030" id="line_2030"> 2030.</a></span><span class="count                ">   8756</span><span>// cause: &quot;!&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2031" id="line_2031"> 2031.</a></span><span class="count                ">   8756</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2032" id="line_2032"> 2032.</a></span><span class="count                ">   8756</span><span>        return stop(&quot;unexpected_a&quot;, token);</span></pre>
<pre><span class="lineno"><a href="#line_2033" id="line_2033"> 2033.</a></span><span class="count                ">  15645</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_2034" id="line_2034"> 2034.</a></span><span class="count                ">  26298</span><span>    (function right() {</span></pre>
<pre><span class="lineno"><a href="#line_2035" id="line_2035"> 2035.</a></span><span class="count                ">  26298</span><span>        the_symbol = syntax[next_token.id];</span></pre>
<pre><span class="lineno"><a href="#line_2036" id="line_2036"> 2036.</a></span><span class="count                ">  26298</span><span>        if (</span></pre>
<pre><span class="lineno"><a href="#line_2037" id="line_2037"> 2037.</a></span><span class="count                ">  26298</span><span>            the_symbol !== undefined</span></pre>
<pre><span class="lineno"><a href="#line_2038" id="line_2038"> 2038.</a></span><span class="count                ">  26062</span><span>            &amp;&amp; the_symbol.led !== undefined</span></pre>
<pre><span class="lineno"><a href="#line_2039" id="line_2039"> 2039.</a></span><span class="count                ">  15645</span><span>            &amp;&amp; rbp &lt; the_symbol.lbp</span></pre>
<pre><span class="lineno"><a href="#line_2040" id="line_2040"> 2040.</a></span><span class="count                ">  15645</span><span>        ) {</span></pre>
<pre><span class="lineno"><a href="#line_2041" id="line_2041"> 2041.</a></span><span class="count                ">  15645</span><span>            advance();</span></pre>
<pre><span class="lineno"><a href="#line_2042" id="line_2042"> 2042.</a></span><span class="count                ">  15645</span><span>            left = the_symbol.led(left);</span></pre>
<pre><span class="lineno"><a href="#line_2043" id="line_2043"> 2043.</a></span><span class="count                ">  15645</span><span>            return right();</span></pre>
<pre><span class="lineno"><a href="#line_2044" id="line_2044"> 2044.</a></span><span class="count                ">  15645</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_2045" id="line_2045"> 2045.</a></span><span class="count                ">  26298</span><span>    }());</span></pre>
<pre><span class="lineno"><a href="#line_2046" id="line_2046"> 2046.</a></span><span class="count                ">  15645</span><span>    return left;</span></pre>
<pre><span class="lineno"><a href="#line_2047" id="line_2047"> 2047.</a></span><span class="count                ">  15645</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_2048" id="line_2048"> 2048.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2049" id="line_2049"> 2049.</a></span><span class="count                ">   1226</span><span>function condition() {</span></pre>
<pre><span class="lineno"><a href="#line_2050" id="line_2050"> 2050.</a></span><span class="count                ">   1226</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2051" id="line_2051"> 2051.</a></span><span class="count                ">   1226</span><span>// Parse the condition part of a do, if, while.</span></pre>
<pre><span class="lineno"><a href="#line_2052" id="line_2052"> 2052.</a></span><span class="count                ">   1226</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2053" id="line_2053"> 2053.</a></span><span class="count                ">   1226</span><span>    const the_paren = next_token;</span></pre>
<pre><span class="lineno"><a href="#line_2054" id="line_2054"> 2054.</a></span><span class="count                ">   1226</span><span>    let the_value;</span></pre>
<pre><span class="lineno"><a href="#line_2055" id="line_2055"> 2055.</a></span><span class="count                ">   1226</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2056" id="line_2056"> 2056.</a></span><span class="count                ">   1226</span><span>// cause: &quot;do{}while()&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2057" id="line_2057"> 2057.</a></span><span class="count                ">   1226</span><span>// cause: &quot;if(){}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2058" id="line_2058"> 2058.</a></span><span class="count                ">   1226</span><span>// cause: &quot;while(){}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2059" id="line_2059"> 2059.</a></span><span class="count                ">   1226</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2060" id="line_2060"> 2060.</a></span><span class="count                ">   1226</span><span>    the_paren.free = true;</span></pre>
<pre><span class="lineno"><a href="#line_2061" id="line_2061"> 2061.</a></span><span class="count                ">   1226</span><span>    advance(&quot;(&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2062" id="line_2062"> 2062.</a></span><span class="count                ">   1226</span><span>    the_value = expression(0);</span></pre>
<pre><span class="lineno"><a href="#line_2063" id="line_2063"> 2063.</a></span><span class="count                ">   1226</span><span>    advance(&quot;)&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2064" id="line_2064"> 2064.</a></span><span class="count                ">      1</span><span>    if (the_value.wrapped === true) {</span></pre>
<pre><span class="lineno"><a href="#line_2065" id="line_2065"> 2065.</a></span><span class="count                ">      1</span><span>        warn(&quot;unexpected_a&quot;, the_paren);</span></pre>
<pre><span class="lineno"><a href="#line_2066" id="line_2066"> 2066.</a></span><span class="count                ">   1220</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_2067" id="line_2067"> 2067.</a></span><span class="count                ">   1220</span><span>    if (anticondition[the_value.id] === true) {</span></pre>
<pre><span class="lineno"><a href="#line_2068" id="line_2068"> 2068.</a></span><span class="count                ">     18</span><span>        warn(&quot;unexpected_a&quot;, the_value);</span></pre>
<pre><span class="lineno"><a href="#line_2069" id="line_2069"> 2069.</a></span><span class="count                ">   1220</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_2070" id="line_2070"> 2070.</a></span><span class="count                ">   1220</span><span>    return the_value;</span></pre>
<pre><span class="lineno"><a href="#line_2071" id="line_2071"> 2071.</a></span><span class="count                ">   1220</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_2072" id="line_2072"> 2072.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2073" id="line_2073"> 2073.</a></span><span class="count                ">  10475</span><span>function is_weird(thing) {</span></pre>
<pre><span class="lineno"><a href="#line_2074" id="line_2074"> 2074.</a></span><span class="count                ">  10475</span><span>    return (</span></pre>
<pre><span class="lineno"><a href="#line_2075" id="line_2075"> 2075.</a></span><span class="count                ">  10475</span><span>        thing.id === &quot;(regexp)&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2076" id="line_2076"> 2076.</a></span><span class="count                ">  10475</span><span>        || thing.id === &quot;{&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2077" id="line_2077"> 2077.</a></span><span class="count                ">  10475</span><span>        || thing.id === &quot;=&gt;&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2078" id="line_2078"> 2078.</a></span><span class="count                ">  10475</span><span>        || thing.id === &quot;function&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2079" id="line_2079"> 2079.</a></span><span class="count                ">  10471</span><span>        || (thing.id === &quot;[&quot; &amp;&amp; thing.arity === &quot;unary&quot;)</span></pre>
<pre><span class="lineno"><a href="#line_2080" id="line_2080"> 2080.</a></span><span class="count                ">  10475</span><span>    );</span></pre>
<pre><span class="lineno"><a href="#line_2081" id="line_2081"> 2081.</a></span><span class="count                ">  10475</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_2082" id="line_2082"> 2082.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2083" id="line_2083"> 2083.</a></span><span class="count                ">   3305</span><span>function are_similar(a, b) {</span></pre>
<pre><span class="lineno"><a href="#line_2084" id="line_2084"> 2084.</a></span><span class="count                ">   3305</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2085" id="line_2085"> 2085.</a></span><span class="count                ">   3305</span><span>// cause: &quot;0&amp;&amp;0&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2086" id="line_2086"> 2086.</a></span><span class="count                ">   3305</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2087" id="line_2087"> 2087.</a></span><span class="count                ">   3305</span><span>    assert_or_throw(a !== b, &quot;Expected a !== b.&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2088" id="line_2088"> 2088.</a></span><span class="count                ">   3305</span><span>//  Probably deadcode.</span></pre>
<pre><span class="lineno"><a href="#line_2089" id="line_2089"> 2089.</a></span><span class="count                ">   3305</span><span>//  if (a === b) {</span></pre>
<pre><span class="lineno"><a href="#line_2090" id="line_2090"> 2090.</a></span><span class="count                ">   3305</span><span>//      return true;</span></pre>
<pre><span class="lineno"><a href="#line_2091" id="line_2091"> 2091.</a></span><span class="count                ">   3305</span><span>//  }</span></pre>
<pre><span class="lineno"><a href="#line_2092" id="line_2092"> 2092.</a></span><span class="count                ">      8</span><span>    if (Array.isArray(a)) {</span></pre>
<pre><span class="lineno"><a href="#line_2093" id="line_2093"> 2093.</a></span><span class="count                ">      8</span><span>        return (</span></pre>
<pre><span class="lineno"><a href="#line_2094" id="line_2094"> 2094.</a></span><span class="count                ">      8</span><span>            Array.isArray(b)</span></pre>
<pre><span class="lineno"><a href="#line_2095" id="line_2095"> 2095.</a></span><span class="count                ">      8</span><span>            &amp;&amp; a.length === b.length</span></pre>
<pre><span class="lineno"><a href="#line_2096" id="line_2096"> 2096.</a></span><span class="count                ">      8</span><span>            &amp;&amp; a.every(function (value, index) {</span></pre>
<pre><span class="lineno"><a href="#line_2097" id="line_2097"> 2097.</a></span><span class="count                ">      8</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2098" id="line_2098"> 2098.</a></span><span class="count                ">      8</span><span>// cause: &quot;`${0}`&amp;&amp;`${0}`&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2099" id="line_2099"> 2099.</a></span><span class="count                ">      8</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2100" id="line_2100"> 2100.</a></span><span class="count                ">      8</span><span>                return are_similar(value, b[index]);</span></pre>
<pre><span class="lineno"><a href="#line_2101" id="line_2101"> 2101.</a></span><span class="count                ">      8</span><span>            })</span></pre>
<pre><span class="lineno"><a href="#line_2102" id="line_2102"> 2102.</a></span><span class="count                ">      8</span><span>        );</span></pre>
<pre><span class="lineno"><a href="#line_2103" id="line_2103"> 2103.</a></span><span class="count                ">   3297</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_2104" id="line_2104"> 2104.</a></span><span class="count                ">   3297</span><span>    assert_or_throw(!Array.isArray(b), &quot;Expected !Array.isArray(b).&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2105" id="line_2105"> 2105.</a></span><span class="count                ">   3297</span><span>//  Probably deadcode.</span></pre>
<pre><span class="lineno"><a href="#line_2106" id="line_2106"> 2106.</a></span><span class="count                ">   3297</span><span>//  if (Array.isArray(b)) {</span></pre>
<pre><span class="lineno"><a href="#line_2107" id="line_2107"> 2107.</a></span><span class="count                ">   3297</span><span>//      return false;</span></pre>
<pre><span class="lineno"><a href="#line_2108" id="line_2108"> 2108.</a></span><span class="count                ">   3297</span><span>//  }</span></pre>
<pre><span class="lineno"><a href="#line_2109" id="line_2109"> 2109.</a></span><span class="count                ">   3297</span><span>    if (a.id === &quot;(number)&quot; &amp;&amp; b.id === &quot;(number)&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_2110" id="line_2110"> 2110.</a></span><span class="count                ">     32</span><span>        return a.value === b.value;</span></pre>
<pre><span class="lineno"><a href="#line_2111" id="line_2111"> 2111.</a></span><span class="count                ">   3265</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_2112" id="line_2112"> 2112.</a></span><span class="count                ">   3265</span><span>    let a_string;</span></pre>
<pre><span class="lineno"><a href="#line_2113" id="line_2113"> 2113.</a></span><span class="count                ">   3265</span><span>    let b_string;</span></pre>
<pre><span class="lineno"><a href="#line_2114" id="line_2114"> 2114.</a></span><span class="count                ">   3265</span><span>    if (a.id === &quot;(string)&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_2115" id="line_2115"> 2115.</a></span><span class="count                ">    196</span><span>        a_string = a.value;</span></pre>
<pre><span class="lineno"><a href="#line_2116" id="line_2116"> 2116.</a></span><span class="count                ">   3069</span><span>    } else if (a.id === &quot;`&quot; &amp;&amp; a.constant) {</span></pre>
<pre><span class="lineno"><a href="#line_2117" id="line_2117"> 2117.</a></span><span class="count                ">   3069</span><span>        a_string = a.value[0];</span></pre>
<pre><span class="lineno"><a href="#line_2118" id="line_2118"> 2118.</a></span><span class="count                ">   3265</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_2119" id="line_2119"> 2119.</a></span><span class="count                ">   3265</span><span>    if (b.id === &quot;(string)&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_2120" id="line_2120"> 2120.</a></span><span class="count                ">   1316</span><span>        b_string = b.value;</span></pre>
<pre><span class="lineno"><a href="#line_2121" id="line_2121"> 2121.</a></span><span class="count                ">   1949</span><span>    } else if (b.id === &quot;`&quot; &amp;&amp; b.constant) {</span></pre>
<pre><span class="lineno"><a href="#line_2122" id="line_2122"> 2122.</a></span><span class="count                ">   1949</span><span>        b_string = b.value[0];</span></pre>
<pre><span class="lineno"><a href="#line_2123" id="line_2123"> 2123.</a></span><span class="count                ">   3265</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_2124" id="line_2124"> 2124.</a></span><span class="count                ">   3265</span><span>    if (typeof a_string === &quot;string&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_2125" id="line_2125"> 2125.</a></span><span class="count                ">    196</span><span>        return a_string === b_string;</span></pre>
<pre><span class="lineno"><a href="#line_2126" id="line_2126"> 2126.</a></span><span class="count                ">   3069</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_2127" id="line_2127"> 2127.</a></span><span class="count                ">   3069</span><span>    if (is_weird(a) || is_weird(b)) {</span></pre>
<pre><span class="lineno"><a href="#line_2128" id="line_2128"> 2128.</a></span><span class="count                ">      4</span><span>        return false;</span></pre>
<pre><span class="lineno"><a href="#line_2129" id="line_2129"> 2129.</a></span><span class="count                ">   3065</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_2130" id="line_2130"> 2130.</a></span><span class="count                ">   3065</span><span>    if (a.arity === b.arity &amp;&amp; a.id === b.id) {</span></pre>
<pre><span class="lineno"><a href="#line_2131" id="line_2131"> 2131.</a></span><span class="count                ">    818</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2132" id="line_2132"> 2132.</a></span><span class="count                ">    818</span><span>// cause: &quot;aa.bb&amp;&amp;aa.bb&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2133" id="line_2133"> 2133.</a></span><span class="count                ">    818</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2134" id="line_2134"> 2134.</a></span><span class="count                ">    818</span><span>        if (a.id === &quot;.&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_2135" id="line_2135"> 2135.</a></span><span class="count                ">    818</span><span>            return (</span></pre>
<pre><span class="lineno"><a href="#line_2136" id="line_2136"> 2136.</a></span><span class="count                ">    818</span><span>                are_similar(a.expression, b.expression)</span></pre>
<pre><span class="lineno"><a href="#line_2137" id="line_2137"> 2137.</a></span><span class="count                ">    818</span><span>                &amp;&amp; are_similar(a.name, b.name)</span></pre>
<pre><span class="lineno"><a href="#line_2138" id="line_2138"> 2138.</a></span><span class="count                ">    818</span><span>            );</span></pre>
<pre><span class="lineno"><a href="#line_2139" id="line_2139"> 2139.</a></span><span class="count                ">    818</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_2140" id="line_2140"> 2140.</a></span><span class="count                ">    818</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2141" id="line_2141"> 2141.</a></span><span class="count                ">    818</span><span>// cause: &quot;+0&amp;&amp;+0&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2142" id="line_2142"> 2142.</a></span><span class="count                ">    818</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2143" id="line_2143"> 2143.</a></span><span class="count                ">    818</span><span>        if (a.arity === &quot;unary&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_2144" id="line_2144"> 2144.</a></span><span class="count                ">    818</span><span>            return are_similar(a.expression, b.expression);</span></pre>
<pre><span class="lineno"><a href="#line_2145" id="line_2145"> 2145.</a></span><span class="count                ">    818</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_2146" id="line_2146"> 2146.</a></span><span class="count                ">    818</span><span>        if (a.arity === &quot;binary&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_2147" id="line_2147"> 2147.</a></span><span class="count                ">    818</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2148" id="line_2148"> 2148.</a></span><span class="count                ">    818</span><span>// cause: &quot;aa[0]&amp;&amp;aa[0]&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2149" id="line_2149"> 2149.</a></span><span class="count                ">    818</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2150" id="line_2150"> 2150.</a></span><span class="count                ">    818</span><span>            return (</span></pre>
<pre><span class="lineno"><a href="#line_2151" id="line_2151"> 2151.</a></span><span class="count                ">    818</span><span>                a.id !== &quot;(&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2152" id="line_2152"> 2152.</a></span><span class="count                ">    818</span><span>                &amp;&amp; are_similar(a.expression[0], b.expression[0])</span></pre>
<pre><span class="lineno"><a href="#line_2153" id="line_2153"> 2153.</a></span><span class="count                ">    818</span><span>                &amp;&amp; are_similar(a.expression[1], b.expression[1])</span></pre>
<pre><span class="lineno"><a href="#line_2154" id="line_2154"> 2154.</a></span><span class="count                ">    818</span><span>            );</span></pre>
<pre><span class="lineno"><a href="#line_2155" id="line_2155"> 2155.</a></span><span class="count                ">    818</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_2156" id="line_2156"> 2156.</a></span><span class="count                ">    818</span><span>        if (a.arity === &quot;ternary&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_2157" id="line_2157"> 2157.</a></span><span class="count                ">    818</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2158" id="line_2158"> 2158.</a></span><span class="count                ">    818</span><span>// cause: &quot;aa=(``?``:``)&amp;&amp;(``?``:``)&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2159" id="line_2159"> 2159.</a></span><span class="count                ">    818</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2160" id="line_2160"> 2160.</a></span><span class="count                ">    818</span><span>            return (</span></pre>
<pre><span class="lineno"><a href="#line_2161" id="line_2161"> 2161.</a></span><span class="count                ">    818</span><span>                are_similar(a.expression[0], b.expression[0])</span></pre>
<pre><span class="lineno"><a href="#line_2162" id="line_2162"> 2162.</a></span><span class="count                ">    818</span><span>                &amp;&amp; are_similar(a.expression[1], b.expression[1])</span></pre>
<pre><span class="lineno"><a href="#line_2163" id="line_2163"> 2163.</a></span><span class="count                ">    818</span><span>                &amp;&amp; are_similar(a.expression[2], b.expression[2])</span></pre>
<pre><span class="lineno"><a href="#line_2164" id="line_2164"> 2164.</a></span><span class="count                ">    818</span><span>            );</span></pre>
<pre><span class="lineno"><a href="#line_2165" id="line_2165"> 2165.</a></span><span class="count                ">    818</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_2166" id="line_2166"> 2166.</a></span><span class="count                ">    818</span><span>        assert_or_throw(</span></pre>
<pre><span class="lineno"><a href="#line_2167" id="line_2167"> 2167.</a></span><span class="count                ">    818</span><span>            a.arity !== &quot;function&quot; &amp;&amp; a.arity !== &quot;regexp&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_2168" id="line_2168"> 2168.</a></span><span class="count                ">    818</span><span>            &quot;Expected a.arity !== \&quot;function\&quot; &amp;&amp; a.arity !== \&quot;regexp\&quot;.&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2169" id="line_2169"> 2169.</a></span><span class="count                ">    818</span><span>        );</span></pre>
<pre><span class="lineno"><a href="#line_2170" id="line_2170"> 2170.</a></span><span class="count                ">    818</span><span>//      Probably deadcode.</span></pre>
<pre><span class="lineno"><a href="#line_2171" id="line_2171"> 2171.</a></span><span class="count                ">    818</span><span>//      if (a.arity === &quot;function&quot; &amp;&amp; a.arity === &quot;regexp&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_2172" id="line_2172"> 2172.</a></span><span class="count                ">    818</span><span>//          return false;</span></pre>
<pre><span class="lineno"><a href="#line_2173" id="line_2173"> 2173.</a></span><span class="count                ">    818</span><span>//      }</span></pre>
<pre><span class="lineno"><a href="#line_2174" id="line_2174"> 2174.</a></span><span class="count                ">    818</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2175" id="line_2175"> 2175.</a></span><span class="count                ">    818</span><span>// cause: &quot;undefined&amp;&amp;undefined&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2176" id="line_2176"> 2176.</a></span><span class="count                ">    818</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2177" id="line_2177"> 2177.</a></span><span class="count                ">    818</span><span>        return true;</span></pre>
<pre><span class="lineno"><a href="#line_2178" id="line_2178"> 2178.</a></span><span class="count                ">   2247</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_2179" id="line_2179"> 2179.</a></span><span class="count                ">   2247</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2180" id="line_2180"> 2180.</a></span><span class="count                ">   2247</span><span>// cause: &quot;null&amp;&amp;undefined&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2181" id="line_2181"> 2181.</a></span><span class="count                ">   2247</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2182" id="line_2182"> 2182.</a></span><span class="count                ">   2247</span><span>    return false;</span></pre>
<pre><span class="lineno"><a href="#line_2183" id="line_2183"> 2183.</a></span><span class="count                ">   2247</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_2184" id="line_2184"> 2184.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2185" id="line_2185"> 2185.</a></span><span class="count                ">   3911</span><span>function semicolon() {</span></pre>
<pre><span class="lineno"><a href="#line_2186" id="line_2186"> 2186.</a></span><span class="count                ">   3911</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2187" id="line_2187"> 2187.</a></span><span class="count                ">   3911</span><span>// Try to match a semicolon.</span></pre>
<pre><span class="lineno"><a href="#line_2188" id="line_2188"> 2188.</a></span><span class="count                ">   3911</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2189" id="line_2189"> 2189.</a></span><span class="count                ">   3737</span><span>    if (next_token.id === &quot;;&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_2190" id="line_2190"> 2190.</a></span><span class="count                ">   3737</span><span>        advance(&quot;;&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2191" id="line_2191"> 2191.</a></span><span class="count                ">   3737</span><span>    } else {</span></pre>
<pre><span class="lineno"><a href="#line_2192" id="line_2192"> 2192.</a></span><span class="count                ">    174</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2193" id="line_2193"> 2193.</a></span><span class="count                ">    174</span><span>// cause: &quot;0&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2194" id="line_2194"> 2194.</a></span><span class="count                ">    174</span><span>// cause: &quot;0\n0&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2195" id="line_2195"> 2195.</a></span><span class="count                ">    174</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2196" id="line_2196"> 2196.</a></span><span class="count                ">    174</span><span>        warn_at(</span></pre>
<pre><span class="lineno"><a href="#line_2197" id="line_2197"> 2197.</a></span><span class="count                ">    174</span><span>            &quot;expected_a_b&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_2198" id="line_2198"> 2198.</a></span><span class="count                ">    174</span><span>            token.line,</span></pre>
<pre><span class="lineno"><a href="#line_2199" id="line_2199"> 2199.</a></span><span class="count                ">    174</span><span>            token.thru,</span></pre>
<pre><span class="lineno"><a href="#line_2200" id="line_2200"> 2200.</a></span><span class="count                ">    174</span><span>            &quot;;&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_2201" id="line_2201"> 2201.</a></span><span class="count                ">    174</span><span>            artifact(next_token)</span></pre>
<pre><span class="lineno"><a href="#line_2202" id="line_2202"> 2202.</a></span><span class="count                ">    174</span><span>        );</span></pre>
<pre><span class="lineno"><a href="#line_2203" id="line_2203"> 2203.</a></span><span class="count                ">    174</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_2204" id="line_2204"> 2204.</a></span><span class="count                ">   3911</span><span>    anon = &quot;anonymous&quot;;</span></pre>
<pre><span class="lineno"><a href="#line_2205" id="line_2205"> 2205.</a></span><span class="count                ">   3911</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_2206" id="line_2206"> 2206.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2207" id="line_2207"> 2207.</a></span><span class="count                ">   6050</span><span>function statement() {</span></pre>
<pre><span class="lineno"><a href="#line_2208" id="line_2208"> 2208.</a></span><span class="count                ">   6050</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2209" id="line_2209"> 2209.</a></span><span class="count                ">   6050</span><span>// Parse a statement. Any statement may have a label, but only four statements</span></pre>
<pre><span class="lineno"><a href="#line_2210" id="line_2210"> 2210.</a></span><span class="count                ">   6050</span><span>// have use for one. A statement can be one of the standard statements, or</span></pre>
<pre><span class="lineno"><a href="#line_2211" id="line_2211"> 2211.</a></span><span class="count                ">   6050</span><span>// an assignment expression, or an invocation expression.</span></pre>
<pre><span class="lineno"><a href="#line_2212" id="line_2212"> 2212.</a></span><span class="count                ">   6050</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2213" id="line_2213"> 2213.</a></span><span class="count                ">   6050</span><span>    let first;</span></pre>
<pre><span class="lineno"><a href="#line_2214" id="line_2214"> 2214.</a></span><span class="count                ">   6050</span><span>    let the_label;</span></pre>
<pre><span class="lineno"><a href="#line_2215" id="line_2215"> 2215.</a></span><span class="count                ">   6050</span><span>    let the_statement;</span></pre>
<pre><span class="lineno"><a href="#line_2216" id="line_2216"> 2216.</a></span><span class="count                ">   6050</span><span>    let the_symbol;</span></pre>
<pre><span class="lineno"><a href="#line_2217" id="line_2217"> 2217.</a></span><span class="count                ">   6050</span><span>    advance();</span></pre>
<pre><span class="lineno"><a href="#line_2218" id="line_2218"> 2218.</a></span><span class="count                ">   5899</span><span>    if (token.identifier &amp;&amp; next_token.id === &quot;:&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_2219" id="line_2219"> 2219.</a></span><span class="count                ">      9</span><span>        the_label = token;</span></pre>
<pre><span class="lineno"><a href="#line_2220" id="line_2220"> 2220.</a></span><span class="count                ">      9</span><span>        if (the_label.id === &quot;ignore&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_2221" id="line_2221"> 2221.</a></span><span class="count                ">      9</span><span>            warn(&quot;unexpected_a&quot;, the_label);</span></pre>
<pre><span class="lineno"><a href="#line_2222" id="line_2222"> 2222.</a></span><span class="count                ">      9</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_2223" id="line_2223"> 2223.</a></span><span class="count                ">      9</span><span>        advance(&quot;:&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2224" id="line_2224"> 2224.</a></span><span class="count                ">      9</span><span>        if (</span></pre>
<pre><span class="lineno"><a href="#line_2225" id="line_2225"> 2225.</a></span><span class="count                ">      9</span><span>            next_token.id === &quot;do&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2226" id="line_2226"> 2226.</a></span><span class="count                ">      9</span><span>            || next_token.id === &quot;for&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2227" id="line_2227"> 2227.</a></span><span class="count                ">      9</span><span>            || next_token.id === &quot;switch&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2228" id="line_2228"> 2228.</a></span><span class="count                ">      9</span><span>            || next_token.id === &quot;while&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2229" id="line_2229"> 2229.</a></span><span class="count                ">      9</span><span>        ) {</span></pre>
<pre><span class="lineno"><a href="#line_2230" id="line_2230"> 2230.</a></span><span class="count                ">      9</span><span>            enroll(the_label, &quot;label&quot;, true);</span></pre>
<pre><span class="lineno"><a href="#line_2231" id="line_2231"> 2231.</a></span><span class="count                ">      9</span><span>            the_label.init = true;</span></pre>
<pre><span class="lineno"><a href="#line_2232" id="line_2232"> 2232.</a></span><span class="count                ">      9</span><span>            the_label.dead = false;</span></pre>
<pre><span class="lineno"><a href="#line_2233" id="line_2233"> 2233.</a></span><span class="count                ">      9</span><span>            the_statement = statement();</span></pre>
<pre><span class="lineno"><a href="#line_2234" id="line_2234"> 2234.</a></span><span class="count                ">      9</span><span>            the_statement.label = the_label;</span></pre>
<pre><span class="lineno"><a href="#line_2235" id="line_2235"> 2235.</a></span><span class="count                ">      9</span><span>            the_statement.statement = true;</span></pre>
<pre><span class="lineno"><a href="#line_2236" id="line_2236"> 2236.</a></span><span class="count                ">      9</span><span>            return the_statement;</span></pre>
<pre><span class="lineno"><a href="#line_2237" id="line_2237"> 2237.</a></span><span class="count                ">      9</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_2238" id="line_2238"> 2238.</a></span><span class="count                ">      9</span><span>        advance();</span></pre>
<pre><span class="lineno"><a href="#line_2239" id="line_2239"> 2239.</a></span><span class="count                ">      9</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2240" id="line_2240"> 2240.</a></span><span class="count                ">      9</span><span>// cause: &quot;aa:&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2241" id="line_2241"> 2241.</a></span><span class="count                ">      9</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2242" id="line_2242"> 2242.</a></span><span class="count                ">      9</span><span>        warn(&quot;unexpected_label_a&quot;, the_label);</span></pre>
<pre><span class="lineno"><a href="#line_2243" id="line_2243"> 2243.</a></span><span class="count                ">   6045</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_2244" id="line_2244"> 2244.</a></span><span class="count                ">   6045</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2245" id="line_2245"> 2245.</a></span><span class="count                ">   6045</span><span>// Parse the statement.</span></pre>
<pre><span class="lineno"><a href="#line_2246" id="line_2246"> 2246.</a></span><span class="count                ">   6045</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2247" id="line_2247"> 2247.</a></span><span class="count                ">   6045</span><span>    first = token;</span></pre>
<pre><span class="lineno"><a href="#line_2248" id="line_2248"> 2248.</a></span><span class="count                ">   6045</span><span>    first.statement = true;</span></pre>
<pre><span class="lineno"><a href="#line_2249" id="line_2249"> 2249.</a></span><span class="count                ">   6045</span><span>    the_symbol = syntax[first.id];</span></pre>
<pre><span class="lineno"><a href="#line_2250" id="line_2250"> 2250.</a></span><span class="count                ">   6045</span><span>    if (the_symbol !== undefined &amp;&amp; the_symbol.fud !== undefined) {</span></pre>
<pre><span class="lineno"><a href="#line_2251" id="line_2251"> 2251.</a></span><span class="count                ">   2895</span><span>        the_symbol.disrupt = false;</span></pre>
<pre><span class="lineno"><a href="#line_2252" id="line_2252"> 2252.</a></span><span class="count                ">   2895</span><span>        the_symbol.statement = true;</span></pre>
<pre><span class="lineno"><a href="#line_2253" id="line_2253"> 2253.</a></span><span class="count                ">   2895</span><span>        the_statement = the_symbol.fud();</span></pre>
<pre><span class="lineno"><a href="#line_2254" id="line_2254"> 2254.</a></span><span class="count                ">   3150</span><span>    } else {</span></pre>
<pre><span class="lineno"><a href="#line_2255" id="line_2255"> 2255.</a></span><span class="count                ">   3150</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2256" id="line_2256"> 2256.</a></span><span class="count                ">   3150</span><span>// It is an expression statement.</span></pre>
<pre><span class="lineno"><a href="#line_2257" id="line_2257"> 2257.</a></span><span class="count                ">   3150</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2258" id="line_2258"> 2258.</a></span><span class="count                ">   3150</span><span>        the_statement = expression(0, true);</span></pre>
<pre><span class="lineno"><a href="#line_2259" id="line_2259"> 2259.</a></span><span class="count                ">   3150</span><span>        if (the_statement.wrapped &amp;&amp; the_statement.id !== &quot;(&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_2260" id="line_2260"> 2260.</a></span><span class="count                ">   3150</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2261" id="line_2261"> 2261.</a></span><span class="count                ">   3150</span><span>// cause: &quot;(0)&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2262" id="line_2262"> 2262.</a></span><span class="count                ">   3150</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2263" id="line_2263"> 2263.</a></span><span class="count                ">   3150</span><span>            warn(&quot;unexpected_a&quot;, first);</span></pre>
<pre><span class="lineno"><a href="#line_2264" id="line_2264"> 2264.</a></span><span class="count                ">   3150</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_2265" id="line_2265"> 2265.</a></span><span class="count                ">   3150</span><span>        semicolon();</span></pre>
<pre><span class="lineno"><a href="#line_2266" id="line_2266"> 2266.</a></span><span class="count                ">   5965</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_2267" id="line_2267"> 2267.</a></span><span class="count                ">   5965</span><span>    if (the_label !== undefined) {</span></pre>
<pre><span class="lineno"><a href="#line_2268" id="line_2268"> 2268.</a></span><span class="count                ">      1</span><span>        the_label.dead = true;</span></pre>
<pre><span class="lineno"><a href="#line_2269" id="line_2269"> 2269.</a></span><span class="count                ">   5965</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_2270" id="line_2270"> 2270.</a></span><span class="count                ">   5965</span><span>    return the_statement;</span></pre>
<pre><span class="lineno"><a href="#line_2271" id="line_2271"> 2271.</a></span><span class="count                ">   5965</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_2272" id="line_2272"> 2272.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2273" id="line_2273"> 2273.</a></span><span class="count                ">   2390</span><span>function statements() {</span></pre>
<pre><span class="lineno"><a href="#line_2274" id="line_2274"> 2274.</a></span><span class="count                ">   2390</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2275" id="line_2275"> 2275.</a></span><span class="count                ">   2390</span><span>// Parse a list of statements. Give a warning if an unreachable statement</span></pre>
<pre><span class="lineno"><a href="#line_2276" id="line_2276"> 2276.</a></span><span class="count                ">   2390</span><span>// follows a disruptive statement.</span></pre>
<pre><span class="lineno"><a href="#line_2277" id="line_2277"> 2277.</a></span><span class="count                ">   2390</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2278" id="line_2278"> 2278.</a></span><span class="count                ">   2390</span><span>    const array = [];</span></pre>
<pre><span class="lineno"><a href="#line_2279" id="line_2279"> 2279.</a></span><span class="count                ">   8214</span><span>    (function next(disrupt) {</span></pre>
<pre><span class="lineno"><a href="#line_2280" id="line_2280"> 2280.</a></span><span class="count                ">   8214</span><span>        if (</span></pre>
<pre><span class="lineno"><a href="#line_2281" id="line_2281"> 2281.</a></span><span class="count                ">   8214</span><span>            next_token.id !== &quot;}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2282" id="line_2282"> 2282.</a></span><span class="count                ">   6201</span><span>            &amp;&amp; next_token.id !== &quot;case&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2283" id="line_2283"> 2283.</a></span><span class="count                ">   6194</span><span>            &amp;&amp; next_token.id !== &quot;default&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2284" id="line_2284"> 2284.</a></span><span class="count                ">   6187</span><span>            &amp;&amp; next_token.id !== &quot;else&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2285" id="line_2285"> 2285.</a></span><span class="count                ">   6187</span><span>            &amp;&amp; next_token.id !== &quot;(end)&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2286" id="line_2286"> 2286.</a></span><span class="count                ">   5901</span><span>        ) {</span></pre>
<pre><span class="lineno"><a href="#line_2287" id="line_2287"> 2287.</a></span><span class="count                ">   5901</span><span>            let a_statement = statement();</span></pre>
<pre><span class="lineno"><a href="#line_2288" id="line_2288"> 2288.</a></span><span class="count                ">   5901</span><span>            array.push(a_statement);</span></pre>
<pre><span class="lineno"><a href="#line_2289" id="line_2289"> 2289.</a></span><span class="count                ">   5901</span><span>            if (disrupt) {</span></pre>
<pre><span class="lineno"><a href="#line_2290" id="line_2290"> 2290.</a></span><span class="count                ">   5901</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2291" id="line_2291"> 2291.</a></span><span class="count                ">   5901</span><span>// cause: &quot;while(0){break;0;}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2292" id="line_2292"> 2292.</a></span><span class="count                ">   5901</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2293" id="line_2293"> 2293.</a></span><span class="count                ">   5901</span><span>                warn(&quot;unreachable_a&quot;, a_statement);</span></pre>
<pre><span class="lineno"><a href="#line_2294" id="line_2294"> 2294.</a></span><span class="count                ">   5901</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_2295" id="line_2295"> 2295.</a></span><span class="count                ">   5901</span><span>            return next(a_statement.disrupt);</span></pre>
<pre><span class="lineno"><a href="#line_2296" id="line_2296"> 2296.</a></span><span class="count                ">   5901</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_2297" id="line_2297"> 2297.</a></span><span class="count                ">   8214</span><span>    }(false));</span></pre>
<pre><span class="lineno"><a href="#line_2298" id="line_2298"> 2298.</a></span><span class="count                ">   2390</span><span>    return array;</span></pre>
<pre><span class="lineno"><a href="#line_2299" id="line_2299"> 2299.</a></span><span class="count                ">   2390</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_2300" id="line_2300"> 2300.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2301" id="line_2301"> 2301.</a></span><span class="count                ">    584</span><span>function not_top_level(thing) {</span></pre>
<pre><span class="lineno"><a href="#line_2302" id="line_2302"> 2302.</a></span><span class="count                ">    584</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2303" id="line_2303"> 2303.</a></span><span class="count                ">    584</span><span>// Some features should not be at the outermost level.</span></pre>
<pre><span class="lineno"><a href="#line_2304" id="line_2304"> 2304.</a></span><span class="count                ">    584</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2305" id="line_2305"> 2305.</a></span><span class="count                ">     28</span><span>    if (functionage === global) {</span></pre>
<pre><span class="lineno"><a href="#line_2306" id="line_2306"> 2306.</a></span><span class="count                ">     28</span><span>        warn(&quot;unexpected_at_top_level_a&quot;, thing);</span></pre>
<pre><span class="lineno"><a href="#line_2307" id="line_2307"> 2307.</a></span><span class="count                ">     28</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_2308" id="line_2308"> 2308.</a></span><span class="count                ">    584</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_2309" id="line_2309"> 2309.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2310" id="line_2310"> 2310.</a></span><span class="count                ">     22</span><span>function top_level_only(the_thing) {</span></pre>
<pre><span class="lineno"><a href="#line_2311" id="line_2311"> 2311.</a></span><span class="count                ">     22</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2312" id="line_2312"> 2312.</a></span><span class="count                ">     22</span><span>// Some features must be at the most outermost level.</span></pre>
<pre><span class="lineno"><a href="#line_2313" id="line_2313"> 2313.</a></span><span class="count                ">     22</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2314" id="line_2314"> 2314.</a></span><span class="count                ">      1</span><span>    if (blockage !== global) {</span></pre>
<pre><span class="lineno"><a href="#line_2315" id="line_2315"> 2315.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2316" id="line_2316"> 2316.</a></span><span class="count                ">      1</span><span>// cause: &quot;if(0){import aa from \&quot;aa\&quot;;}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2317" id="line_2317"> 2317.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2318" id="line_2318"> 2318.</a></span><span class="count                ">      1</span><span>        warn(&quot;misplaced_a&quot;, the_thing);</span></pre>
<pre><span class="lineno"><a href="#line_2319" id="line_2319"> 2319.</a></span><span class="count                ">      1</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_2320" id="line_2320"> 2320.</a></span><span class="count                ">     22</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_2321" id="line_2321"> 2321.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2322" id="line_2322"> 2322.</a></span><span class="count                ">   2010</span><span>function block(special) {</span></pre>
<pre><span class="lineno"><a href="#line_2323" id="line_2323"> 2323.</a></span><span class="count                ">   2010</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2324" id="line_2324"> 2324.</a></span><span class="count                ">   2010</span><span>// Parse a block, a sequence of statements wrapped in braces.</span></pre>
<pre><span class="lineno"><a href="#line_2325" id="line_2325"> 2325.</a></span><span class="count                ">   2010</span><span>//  special &quot;body&quot;      The block is a function body.</span></pre>
<pre><span class="lineno"><a href="#line_2326" id="line_2326"> 2326.</a></span><span class="count                ">   2010</span><span>//          &quot;ignore&quot;    No warning on an empty block.</span></pre>
<pre><span class="lineno"><a href="#line_2327" id="line_2327"> 2327.</a></span><span class="count                ">   2010</span><span>//          &quot;naked&quot;     No advance.</span></pre>
<pre><span class="lineno"><a href="#line_2328" id="line_2328"> 2328.</a></span><span class="count                ">   2010</span><span>//          undefined   An ordinary block.</span></pre>
<pre><span class="lineno"><a href="#line_2329" id="line_2329"> 2329.</a></span><span class="count                ">   2010</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2330" id="line_2330"> 2330.</a></span><span class="count                ">   2010</span><span>    let stmts;</span></pre>
<pre><span class="lineno"><a href="#line_2331" id="line_2331"> 2331.</a></span><span class="count                ">   2010</span><span>    let the_block;</span></pre>
<pre><span class="lineno"><a href="#line_2332" id="line_2332"> 2332.</a></span><span class="count                ">   2000</span><span>    if (special !== &quot;naked&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_2333" id="line_2333"> 2333.</a></span><span class="count                ">   2000</span><span>        advance(&quot;{&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2334" id="line_2334"> 2334.</a></span><span class="count                ">   2009</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_2335" id="line_2335"> 2335.</a></span><span class="count                ">   2009</span><span>    the_block = token;</span></pre>
<pre><span class="lineno"><a href="#line_2336" id="line_2336"> 2336.</a></span><span class="count                ">   2009</span><span>    the_block.arity = &quot;statement&quot;;</span></pre>
<pre><span class="lineno"><a href="#line_2337" id="line_2337"> 2337.</a></span><span class="count                ">   2009</span><span>    the_block.body = special === &quot;body&quot;;</span></pre>
<pre><span class="lineno"><a href="#line_2338" id="line_2338"> 2338.</a></span><span class="count                ">   2009</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2339" id="line_2339"> 2339.</a></span><span class="count                ">   2009</span><span>// Top level function bodies may include the &quot;use strict&quot; pragma.</span></pre>
<pre><span class="lineno"><a href="#line_2340" id="line_2340"> 2340.</a></span><span class="count                ">   2009</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2341" id="line_2341"> 2341.</a></span><span class="count                ">   2009</span><span>    if (</span></pre>
<pre><span class="lineno"><a href="#line_2342" id="line_2342"> 2342.</a></span><span class="count                ">   2009</span><span>        special === &quot;body&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2343" id="line_2343"> 2343.</a></span><span class="count                ">   2009</span><span>        &amp;&amp; stack.length === 1</span></pre>
<pre><span class="lineno"><a href="#line_2344" id="line_2344"> 2344.</a></span><span class="count                ">    337</span><span>        &amp;&amp; next_token.value === &quot;use strict&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2345" id="line_2345"> 2345.</a></span><span class="count                ">      5</span><span>    ) {</span></pre>
<pre><span class="lineno"><a href="#line_2346" id="line_2346"> 2346.</a></span><span class="count                ">      5</span><span>        next_token.statement = true;</span></pre>
<pre><span class="lineno"><a href="#line_2347" id="line_2347"> 2347.</a></span><span class="count                ">      5</span><span>        advance(&quot;(string)&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2348" id="line_2348"> 2348.</a></span><span class="count                ">      5</span><span>        advance(&quot;;&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2349" id="line_2349"> 2349.</a></span><span class="count                ">   2009</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_2350" id="line_2350"> 2350.</a></span><span class="count                ">   2009</span><span>    stmts = statements();</span></pre>
<pre><span class="lineno"><a href="#line_2351" id="line_2351"> 2351.</a></span><span class="count                ">   2009</span><span>    the_block.block = stmts;</span></pre>
<pre><span class="lineno"><a href="#line_2352" id="line_2352"> 2352.</a></span><span class="count                ">   2009</span><span>    if (stmts.length === 0) {</span></pre>
<pre><span class="lineno"><a href="#line_2353" id="line_2353"> 2353.</a></span><span class="count                ">     54</span><span>        if (!option.devel &amp;&amp; special !== &quot;ignore&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_2354" id="line_2354"> 2354.</a></span><span class="count                ">     54</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2355" id="line_2355"> 2355.</a></span><span class="count                ">     54</span><span>// cause: &quot;function aa(){}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2356" id="line_2356"> 2356.</a></span><span class="count                ">     54</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2357" id="line_2357"> 2357.</a></span><span class="count                ">     54</span><span>            warn(&quot;empty_block&quot;, the_block);</span></pre>
<pre><span class="lineno"><a href="#line_2358" id="line_2358"> 2358.</a></span><span class="count                ">     54</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_2359" id="line_2359"> 2359.</a></span><span class="count                ">     54</span><span>        the_block.disrupt = false;</span></pre>
<pre><span class="lineno"><a href="#line_2360" id="line_2360"> 2360.</a></span><span class="count                ">   1952</span><span>    } else {</span></pre>
<pre><span class="lineno"><a href="#line_2361" id="line_2361"> 2361.</a></span><span class="count                ">   1952</span><span>        the_block.disrupt = stmts[stmts.length - 1].disrupt;</span></pre>
<pre><span class="lineno"><a href="#line_2362" id="line_2362"> 2362.</a></span><span class="count                ">   2006</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_2363" id="line_2363"> 2363.</a></span><span class="count                ">   2006</span><span>    advance(&quot;}&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2364" id="line_2364"> 2364.</a></span><span class="count                ">   2006</span><span>    return the_block;</span></pre>
<pre><span class="lineno"><a href="#line_2365" id="line_2365"> 2365.</a></span><span class="count                ">   2006</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_2366" id="line_2366"> 2366.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2367" id="line_2367"> 2367.</a></span><span class="count                ">   1281</span><span>function mutation_check(the_thing) {</span></pre>
<pre><span class="lineno"><a href="#line_2368" id="line_2368"> 2368.</a></span><span class="count                ">   1281</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2369" id="line_2369"> 2369.</a></span><span class="count                ">   1281</span><span>// The only expressions that may be assigned to are</span></pre>
<pre><span class="lineno"><a href="#line_2370" id="line_2370"> 2370.</a></span><span class="count                ">   1281</span><span>//      e.b</span></pre>
<pre><span class="lineno"><a href="#line_2371" id="line_2371"> 2371.</a></span><span class="count                ">   1281</span><span>//      e[b]</span></pre>
<pre><span class="lineno"><a href="#line_2372" id="line_2372"> 2372.</a></span><span class="count                ">   1281</span><span>//      v</span></pre>
<pre><span class="lineno"><a href="#line_2373" id="line_2373"> 2373.</a></span><span class="count                ">   1281</span><span>//      [destructure]</span></pre>
<pre><span class="lineno"><a href="#line_2374" id="line_2374"> 2374.</a></span><span class="count                ">   1281</span><span>//      {destructure}</span></pre>
<pre><span class="lineno"><a href="#line_2375" id="line_2375"> 2375.</a></span><span class="count                ">   1281</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2376" id="line_2376"> 2376.</a></span><span class="count                ">   1281</span><span>    if (</span></pre>
<pre><span class="lineno"><a href="#line_2377" id="line_2377"> 2377.</a></span><span class="count                ">   1281</span><span>        the_thing.arity !== &quot;variable&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2378" id="line_2378"> 2378.</a></span><span class="count                ">    616</span><span>        &amp;&amp; the_thing.id !== &quot;.&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2379" id="line_2379"> 2379.</a></span><span class="count                ">     53</span><span>        &amp;&amp; the_thing.id !== &quot;[&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2380" id="line_2380"> 2380.</a></span><span class="count                ">      1</span><span>        &amp;&amp; the_thing.id !== &quot;{&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2381" id="line_2381"> 2381.</a></span><span class="count                ">      1</span><span>    ) {</span></pre>
<pre><span class="lineno"><a href="#line_2382" id="line_2382"> 2382.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2383" id="line_2383"> 2383.</a></span><span class="count                ">      1</span><span>// cause: &quot;0=0&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2384" id="line_2384"> 2384.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2385" id="line_2385"> 2385.</a></span><span class="count                ">      1</span><span>        warn(&quot;bad_assignment_a&quot;, the_thing);</span></pre>
<pre><span class="lineno"><a href="#line_2386" id="line_2386"> 2386.</a></span><span class="count                ">      1</span><span>        return false;</span></pre>
<pre><span class="lineno"><a href="#line_2387" id="line_2387"> 2387.</a></span><span class="count                ">   1280</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_2388" id="line_2388"> 2388.</a></span><span class="count                ">   1280</span><span>    return true;</span></pre>
<pre><span class="lineno"><a href="#line_2389" id="line_2389"> 2389.</a></span><span class="count                ">   1280</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_2390" id="line_2390"> 2390.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2391" id="line_2391"> 2391.</a></span><span class="count                ">   6565</span><span>function left_check(left, right) {</span></pre>
<pre><span class="lineno"><a href="#line_2392" id="line_2392"> 2392.</a></span><span class="count                ">   6565</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2393" id="line_2393"> 2393.</a></span><span class="count                ">   6565</span><span>// Warn if the left is not one of these:</span></pre>
<pre><span class="lineno"><a href="#line_2394" id="line_2394"> 2394.</a></span><span class="count                ">   6565</span><span>//      e.b</span></pre>
<pre><span class="lineno"><a href="#line_2395" id="line_2395"> 2395.</a></span><span class="count                ">   6565</span><span>//      e[b]</span></pre>
<pre><span class="lineno"><a href="#line_2396" id="line_2396"> 2396.</a></span><span class="count                ">   6565</span><span>//      e()</span></pre>
<pre><span class="lineno"><a href="#line_2397" id="line_2397"> 2397.</a></span><span class="count                ">   6565</span><span>//      ?:</span></pre>
<pre><span class="lineno"><a href="#line_2398" id="line_2398"> 2398.</a></span><span class="count                ">   6565</span><span>//      identifier</span></pre>
<pre><span class="lineno"><a href="#line_2399" id="line_2399"> 2399.</a></span><span class="count                ">   6565</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2400" id="line_2400"> 2400.</a></span><span class="count                ">   6565</span><span>    const id = left.id;</span></pre>
<pre><span class="lineno"><a href="#line_2401" id="line_2401"> 2401.</a></span><span class="count                ">   6565</span><span>    if (</span></pre>
<pre><span class="lineno"><a href="#line_2402" id="line_2402"> 2402.</a></span><span class="count                ">   6565</span><span>        !left.identifier</span></pre>
<pre><span class="lineno"><a href="#line_2403" id="line_2403"> 2403.</a></span><span class="count                ">   1321</span><span>        &amp;&amp; (</span></pre>
<pre><span class="lineno"><a href="#line_2404" id="line_2404"> 2404.</a></span><span class="count                ">   1321</span><span>            left.arity !== &quot;ternary&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2405" id="line_2405"> 2405.</a></span><span class="count                ">   1321</span><span>            || (</span></pre>
<pre><span class="lineno"><a href="#line_2406" id="line_2406"> 2406.</a></span><span class="count                ">   1321</span><span>                !left_check(left.expression[1])</span></pre>
<pre><span class="lineno"><a href="#line_2407" id="line_2407"> 2407.</a></span><span class="count                ">   1321</span><span>                &amp;&amp; !left_check(left.expression[2])</span></pre>
<pre><span class="lineno"><a href="#line_2408" id="line_2408"> 2408.</a></span><span class="count                ">   1321</span><span>            )</span></pre>
<pre><span class="lineno"><a href="#line_2409" id="line_2409"> 2409.</a></span><span class="count                ">   1321</span><span>        )</span></pre>
<pre><span class="lineno"><a href="#line_2410" id="line_2410"> 2410.</a></span><span class="count                ">   1321</span><span>        &amp;&amp; (</span></pre>
<pre><span class="lineno"><a href="#line_2411" id="line_2411"> 2411.</a></span><span class="count                ">   1321</span><span>            left.arity !== &quot;binary&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2412" id="line_2412"> 2412.</a></span><span class="count                ">   1321</span><span>            || (id !== &quot;.&quot; &amp;&amp; id !== &quot;?.&quot; &amp;&amp; id !== &quot;(&quot; &amp;&amp; id !== &quot;[&quot;)</span></pre>
<pre><span class="lineno"><a href="#line_2413" id="line_2413"> 2413.</a></span><span class="count                ">   1321</span><span>        )</span></pre>
<pre><span class="lineno"><a href="#line_2414" id="line_2414"> 2414.</a></span><span class="count                ">      8</span><span>    ) {</span></pre>
<pre><span class="lineno"><a href="#line_2415" id="line_2415"> 2415.</a></span><span class="count                ">      8</span><span>        warn(&quot;unexpected_a&quot;, right);</span></pre>
<pre><span class="lineno"><a href="#line_2416" id="line_2416"> 2416.</a></span><span class="count                ">      8</span><span>        return false;</span></pre>
<pre><span class="lineno"><a href="#line_2417" id="line_2417"> 2417.</a></span><span class="count                ">   6557</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_2418" id="line_2418"> 2418.</a></span><span class="count                ">   6557</span><span>    return true;</span></pre>
<pre><span class="lineno"><a href="#line_2419" id="line_2419"> 2419.</a></span><span class="count                ">   6557</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_2420" id="line_2420"> 2420.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2421" id="line_2421"> 2421.</a></span><span class="count                ">      1</span><span>// These functions are used to specify the grammar of our language:</span></pre>
<pre><span class="lineno"><a href="#line_2422" id="line_2422"> 2422.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2423" id="line_2423"> 2423.</a></span><span class="count                ">    129</span><span>function symbol(id, bp) {</span></pre>
<pre><span class="lineno"><a href="#line_2424" id="line_2424"> 2424.</a></span><span class="count                ">    129</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2425" id="line_2425"> 2425.</a></span><span class="count                ">    129</span><span>// Make a symbol if it does not already exist in the language&apos;s syntax.</span></pre>
<pre><span class="lineno"><a href="#line_2426" id="line_2426"> 2426.</a></span><span class="count                ">    129</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2427" id="line_2427"> 2427.</a></span><span class="count                ">    129</span><span>    let the_symbol = syntax[id];</span></pre>
<pre><span class="lineno"><a href="#line_2428" id="line_2428"> 2428.</a></span><span class="count                ">    113</span><span>    if (the_symbol === undefined) {</span></pre>
<pre><span class="lineno"><a href="#line_2429" id="line_2429"> 2429.</a></span><span class="count                ">    113</span><span>        the_symbol = empty();</span></pre>
<pre><span class="lineno"><a href="#line_2430" id="line_2430"> 2430.</a></span><span class="count                ">    113</span><span>        the_symbol.id = id;</span></pre>
<pre><span class="lineno"><a href="#line_2431" id="line_2431"> 2431.</a></span><span class="count                ">    113</span><span>        the_symbol.lbp = bp || 0;</span></pre>
<pre><span class="lineno"><a href="#line_2432" id="line_2432"> 2432.</a></span><span class="count                ">    113</span><span>        syntax[id] = the_symbol;</span></pre>
<pre><span class="lineno"><a href="#line_2433" id="line_2433"> 2433.</a></span><span class="count                ">    113</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_2434" id="line_2434"> 2434.</a></span><span class="count                ">    129</span><span>    return the_symbol;</span></pre>
<pre><span class="lineno"><a href="#line_2435" id="line_2435"> 2435.</a></span><span class="count                ">    129</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_2436" id="line_2436"> 2436.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2437" id="line_2437"> 2437.</a></span><span class="count                ">     12</span><span>function assignment(id) {</span></pre>
<pre><span class="lineno"><a href="#line_2438" id="line_2438"> 2438.</a></span><span class="count                ">     12</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2439" id="line_2439"> 2439.</a></span><span class="count                ">     12</span><span>// Make an assignment operator. The one true assignment is different because</span></pre>
<pre><span class="lineno"><a href="#line_2440" id="line_2440"> 2440.</a></span><span class="count                ">     12</span><span>// its left side, when it is a variable, is not treated as an expression.</span></pre>
<pre><span class="lineno"><a href="#line_2441" id="line_2441"> 2441.</a></span><span class="count                ">     12</span><span>// That case is special because that is when a variable gets initialized. The</span></pre>
<pre><span class="lineno"><a href="#line_2442" id="line_2442"> 2442.</a></span><span class="count                ">     12</span><span>// other assignment operators can modify, but they cannot initialize.</span></pre>
<pre><span class="lineno"><a href="#line_2443" id="line_2443"> 2443.</a></span><span class="count                ">     12</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2444" id="line_2444"> 2444.</a></span><span class="count                ">     12</span><span>    const the_symbol = symbol(id, 20);</span></pre>
<pre><span class="lineno"><a href="#line_2445" id="line_2445"> 2445.</a></span><span class="count                ">   1280</span><span>    the_symbol.led = function (left) {</span></pre>
<pre><span class="lineno"><a href="#line_2446" id="line_2446"> 2446.</a></span><span class="count                ">   1280</span><span>        const the_token = token;</span></pre>
<pre><span class="lineno"><a href="#line_2447" id="line_2447"> 2447.</a></span><span class="count                ">   1280</span><span>        let right;</span></pre>
<pre><span class="lineno"><a href="#line_2448" id="line_2448"> 2448.</a></span><span class="count                ">   1280</span><span>        the_token.arity = &quot;assignment&quot;;</span></pre>
<pre><span class="lineno"><a href="#line_2449" id="line_2449"> 2449.</a></span><span class="count                ">   1280</span><span>        right = expression(20 - 1);</span></pre>
<pre><span class="lineno"><a href="#line_2450" id="line_2450"> 2450.</a></span><span class="count                ">   1159</span><span>        if (id === &quot;=&quot; &amp;&amp; left.arity === &quot;variable&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_2451" id="line_2451"> 2451.</a></span><span class="count                ">    580</span><span>            the_token.names = left;</span></pre>
<pre><span class="lineno"><a href="#line_2452" id="line_2452"> 2452.</a></span><span class="count                ">    580</span><span>            the_token.expression = right;</span></pre>
<pre><span class="lineno"><a href="#line_2453" id="line_2453"> 2453.</a></span><span class="count                ">    697</span><span>        } else {</span></pre>
<pre><span class="lineno"><a href="#line_2454" id="line_2454"> 2454.</a></span><span class="count                ">    697</span><span>            the_token.expression = [left, right];</span></pre>
<pre><span class="lineno"><a href="#line_2455" id="line_2455"> 2455.</a></span><span class="count                ">   1277</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_2456" id="line_2456"> 2456.</a></span><span class="count                ">   1277</span><span>        if (</span></pre>
<pre><span class="lineno"><a href="#line_2457" id="line_2457"> 2457.</a></span><span class="count                ">   1277</span><span>            right.arity === &quot;assignment&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2458" id="line_2458"> 2458.</a></span><span class="count                ">   1277</span><span>            || right.arity === &quot;pre&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2459" id="line_2459"> 2459.</a></span><span class="count                ">   1275</span><span>            || right.arity === &quot;post&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2460" id="line_2460"> 2460.</a></span><span class="count                ">      2</span><span>        ) {</span></pre>
<pre><span class="lineno"><a href="#line_2461" id="line_2461"> 2461.</a></span><span class="count                ">      2</span><span>            warn(&quot;unexpected_a&quot;, right);</span></pre>
<pre><span class="lineno"><a href="#line_2462" id="line_2462"> 2462.</a></span><span class="count                ">   1277</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_2463" id="line_2463"> 2463.</a></span><span class="count                ">   1277</span><span>        mutation_check(left);</span></pre>
<pre><span class="lineno"><a href="#line_2464" id="line_2464"> 2464.</a></span><span class="count                ">   1277</span><span>        return the_token;</span></pre>
<pre><span class="lineno"><a href="#line_2465" id="line_2465"> 2465.</a></span><span class="count                ">   1277</span><span>    };</span></pre>
<pre><span class="lineno"><a href="#line_2466" id="line_2466"> 2466.</a></span><span class="count                ">     12</span><span>    return the_symbol;</span></pre>
<pre><span class="lineno"><a href="#line_2467" id="line_2467"> 2467.</a></span><span class="count                ">     12</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_2468" id="line_2468"> 2468.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2469" id="line_2469"> 2469.</a></span><span class="count                ">     16</span><span>function constant(id, type, value) {</span></pre>
<pre><span class="lineno"><a href="#line_2470" id="line_2470"> 2470.</a></span><span class="count                ">     16</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2471" id="line_2471"> 2471.</a></span><span class="count                ">     16</span><span>// Make a constant symbol.</span></pre>
<pre><span class="lineno"><a href="#line_2472" id="line_2472"> 2472.</a></span><span class="count                ">     16</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2473" id="line_2473"> 2473.</a></span><span class="count                ">     16</span><span>    const the_symbol = symbol(id);</span></pre>
<pre><span class="lineno"><a href="#line_2474" id="line_2474"> 2474.</a></span><span class="count                ">     16</span><span>    the_symbol.constant = true;</span></pre>
<pre><span class="lineno"><a href="#line_2475" id="line_2475"> 2475.</a></span><span class="count                ">     16</span><span>    the_symbol.nud = (</span></pre>
<pre><span class="lineno"><a href="#line_2476" id="line_2476"> 2476.</a></span><span class="count                ">     16</span><span>        typeof value === &quot;function&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2477" id="line_2477"> 2477.</a></span><span class="count                ">      7</span><span>        ? value</span></pre>
<pre><span class="lineno"><a href="#line_2478" id="line_2478"> 2478.</a></span><span class="count                ">   5588</span><span>        : function () {</span></pre>
<pre><span class="lineno"><a href="#line_2479" id="line_2479"> 2479.</a></span><span class="count                ">   5588</span><span>            token.constant = true;</span></pre>
<pre><span class="lineno"><a href="#line_2480" id="line_2480"> 2480.</a></span><span class="count                ">    510</span><span>            if (value !== undefined) {</span></pre>
<pre><span class="lineno"><a href="#line_2481" id="line_2481"> 2481.</a></span><span class="count                ">    510</span><span>                token.value = value;</span></pre>
<pre><span class="lineno"><a href="#line_2482" id="line_2482"> 2482.</a></span><span class="count                ">    510</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_2483" id="line_2483"> 2483.</a></span><span class="count                ">   5588</span><span>            return token;</span></pre>
<pre><span class="lineno"><a href="#line_2484" id="line_2484"> 2484.</a></span><span class="count                ">   5588</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_2485" id="line_2485"> 2485.</a></span><span class="count                ">     16</span><span>    );</span></pre>
<pre><span class="lineno"><a href="#line_2486" id="line_2486"> 2486.</a></span><span class="count                ">     16</span><span>    the_symbol.type = type;</span></pre>
<pre><span class="lineno"><a href="#line_2487" id="line_2487"> 2487.</a></span><span class="count                ">     16</span><span>    the_symbol.value = value;</span></pre>
<pre><span class="lineno"><a href="#line_2488" id="line_2488"> 2488.</a></span><span class="count                ">     16</span><span>    return the_symbol;</span></pre>
<pre><span class="lineno"><a href="#line_2489" id="line_2489"> 2489.</a></span><span class="count                ">     16</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_2490" id="line_2490"> 2490.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2491" id="line_2491"> 2491.</a></span><span class="count                ">     30</span><span>function infix(id, bp, f) {</span></pre>
<pre><span class="lineno"><a href="#line_2492" id="line_2492"> 2492.</a></span><span class="count                ">     30</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2493" id="line_2493"> 2493.</a></span><span class="count                ">     30</span><span>// Make an infix operator.</span></pre>
<pre><span class="lineno"><a href="#line_2494" id="line_2494"> 2494.</a></span><span class="count                ">     30</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2495" id="line_2495"> 2495.</a></span><span class="count                ">     30</span><span>    const the_symbol = symbol(id, bp);</span></pre>
<pre><span class="lineno"><a href="#line_2496" id="line_2496"> 2496.</a></span><span class="count                ">   9318</span><span>    the_symbol.led = function (left) {</span></pre>
<pre><span class="lineno"><a href="#line_2497" id="line_2497"> 2497.</a></span><span class="count                ">   9318</span><span>        const the_token = token;</span></pre>
<pre><span class="lineno"><a href="#line_2498" id="line_2498"> 2498.</a></span><span class="count                ">   9318</span><span>        the_token.arity = &quot;binary&quot;;</span></pre>
<pre><span class="lineno"><a href="#line_2499" id="line_2499"> 2499.</a></span><span class="count                ">   6656</span><span>        if (f !== undefined) {</span></pre>
<pre><span class="lineno"><a href="#line_2500" id="line_2500"> 2500.</a></span><span class="count                ">   6656</span><span>            return f(left);</span></pre>
<pre><span class="lineno"><a href="#line_2501" id="line_2501"> 2501.</a></span><span class="count                ">   6656</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_2502" id="line_2502"> 2502.</a></span><span class="count                ">   2662</span><span>        the_token.expression = [left, expression(bp)];</span></pre>
<pre><span class="lineno"><a href="#line_2503" id="line_2503"> 2503.</a></span><span class="count                ">   2662</span><span>        return the_token;</span></pre>
<pre><span class="lineno"><a href="#line_2504" id="line_2504"> 2504.</a></span><span class="count                ">   2662</span><span>    };</span></pre>
<pre><span class="lineno"><a href="#line_2505" id="line_2505"> 2505.</a></span><span class="count                ">     30</span><span>    return the_symbol;</span></pre>
<pre><span class="lineno"><a href="#line_2506" id="line_2506"> 2506.</a></span><span class="count                ">     30</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_2507" id="line_2507"> 2507.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2508" id="line_2508"> 2508.</a></span><span class="count                ">      1</span><span>function infixr(id, bp) {</span></pre>
<pre><span class="lineno"><a href="#line_2509" id="line_2509"> 2509.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2510" id="line_2510"> 2510.</a></span><span class="count                ">      1</span><span>// Make a right associative infix operator.</span></pre>
<pre><span class="lineno"><a href="#line_2511" id="line_2511"> 2511.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2512" id="line_2512"> 2512.</a></span><span class="count                ">      1</span><span>    const the_symbol = symbol(id, bp);</span></pre>
<pre><span class="lineno"><a href="#line_2513" id="line_2513"> 2513.</a></span><span class="count                ">      1</span><span>    the_symbol.led = function (left) {</span></pre>
<pre><span class="lineno"><a href="#line_2514" id="line_2514"> 2514.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2515" id="line_2515"> 2515.</a></span><span class="count                ">      1</span><span>// cause: &quot;0**0&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2516" id="line_2516"> 2516.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2517" id="line_2517"> 2517.</a></span><span class="count                ">      1</span><span>        const the_token = token;</span></pre>
<pre><span class="lineno"><a href="#line_2518" id="line_2518"> 2518.</a></span><span class="count                ">      1</span><span>        the_token.arity = &quot;binary&quot;;</span></pre>
<pre><span class="lineno"><a href="#line_2519" id="line_2519"> 2519.</a></span><span class="count                ">      1</span><span>        the_token.expression = [left, expression(bp - 1)];</span></pre>
<pre><span class="lineno"><a href="#line_2520" id="line_2520"> 2520.</a></span><span class="count                ">      1</span><span>        return the_token;</span></pre>
<pre><span class="lineno"><a href="#line_2521" id="line_2521"> 2521.</a></span><span class="count                ">      1</span><span>    };</span></pre>
<pre><span class="lineno"><a href="#line_2522" id="line_2522"> 2522.</a></span><span class="count                ">      1</span><span>    return the_symbol;</span></pre>
<pre><span class="lineno"><a href="#line_2523" id="line_2523"> 2523.</a></span><span class="count                ">      1</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_2524" id="line_2524"> 2524.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2525" id="line_2525"> 2525.</a></span><span class="count                ">      2</span><span>function post(id) {</span></pre>
<pre><span class="lineno"><a href="#line_2526" id="line_2526"> 2526.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2527" id="line_2527"> 2527.</a></span><span class="count                ">      2</span><span>// Make one of the post operators.</span></pre>
<pre><span class="lineno"><a href="#line_2528" id="line_2528"> 2528.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2529" id="line_2529"> 2529.</a></span><span class="count                ">      2</span><span>    const the_symbol = symbol(id, 150);</span></pre>
<pre><span class="lineno"><a href="#line_2530" id="line_2530"> 2530.</a></span><span class="count                ">      2</span><span>    the_symbol.led = function (left) {</span></pre>
<pre><span class="lineno"><a href="#line_2531" id="line_2531"> 2531.</a></span><span class="count                ">      2</span><span>        token.expression = left;</span></pre>
<pre><span class="lineno"><a href="#line_2532" id="line_2532"> 2532.</a></span><span class="count                ">      2</span><span>        token.arity = &quot;post&quot;;</span></pre>
<pre><span class="lineno"><a href="#line_2533" id="line_2533"> 2533.</a></span><span class="count                ">      2</span><span>        mutation_check(token.expression);</span></pre>
<pre><span class="lineno"><a href="#line_2534" id="line_2534"> 2534.</a></span><span class="count                ">      2</span><span>        return token;</span></pre>
<pre><span class="lineno"><a href="#line_2535" id="line_2535"> 2535.</a></span><span class="count                ">      2</span><span>    };</span></pre>
<pre><span class="lineno"><a href="#line_2536" id="line_2536"> 2536.</a></span><span class="count                ">      2</span><span>    return the_symbol;</span></pre>
<pre><span class="lineno"><a href="#line_2537" id="line_2537"> 2537.</a></span><span class="count                ">      2</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_2538" id="line_2538"> 2538.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2539" id="line_2539"> 2539.</a></span><span class="count                ">      2</span><span>function pre(id) {</span></pre>
<pre><span class="lineno"><a href="#line_2540" id="line_2540"> 2540.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2541" id="line_2541"> 2541.</a></span><span class="count                ">      2</span><span>// Make one of the pre operators.</span></pre>
<pre><span class="lineno"><a href="#line_2542" id="line_2542"> 2542.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2543" id="line_2543"> 2543.</a></span><span class="count                ">      2</span><span>    const the_symbol = symbol(id);</span></pre>
<pre><span class="lineno"><a href="#line_2544" id="line_2544"> 2544.</a></span><span class="count                ">      2</span><span>    the_symbol.nud = function () {</span></pre>
<pre><span class="lineno"><a href="#line_2545" id="line_2545"> 2545.</a></span><span class="count                ">      2</span><span>        const the_token = token;</span></pre>
<pre><span class="lineno"><a href="#line_2546" id="line_2546"> 2546.</a></span><span class="count                ">      2</span><span>        the_token.arity = &quot;pre&quot;;</span></pre>
<pre><span class="lineno"><a href="#line_2547" id="line_2547"> 2547.</a></span><span class="count                ">      2</span><span>        the_token.expression = expression(150);</span></pre>
<pre><span class="lineno"><a href="#line_2548" id="line_2548"> 2548.</a></span><span class="count                ">      2</span><span>        mutation_check(the_token.expression);</span></pre>
<pre><span class="lineno"><a href="#line_2549" id="line_2549"> 2549.</a></span><span class="count                ">      2</span><span>        return the_token;</span></pre>
<pre><span class="lineno"><a href="#line_2550" id="line_2550"> 2550.</a></span><span class="count                ">      2</span><span>    };</span></pre>
<pre><span class="lineno"><a href="#line_2551" id="line_2551"> 2551.</a></span><span class="count                ">      2</span><span>    return the_symbol;</span></pre>
<pre><span class="lineno"><a href="#line_2552" id="line_2552"> 2552.</a></span><span class="count                ">      2</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_2553" id="line_2553"> 2553.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2554" id="line_2554"> 2554.</a></span><span class="count                ">     17</span><span>function prefix(id, f) {</span></pre>
<pre><span class="lineno"><a href="#line_2555" id="line_2555"> 2555.</a></span><span class="count                ">     17</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2556" id="line_2556"> 2556.</a></span><span class="count                ">     17</span><span>// Make a prefix operator.</span></pre>
<pre><span class="lineno"><a href="#line_2557" id="line_2557"> 2557.</a></span><span class="count                ">     17</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2558" id="line_2558"> 2558.</a></span><span class="count                ">     17</span><span>    const the_symbol = symbol(id);</span></pre>
<pre><span class="lineno"><a href="#line_2559" id="line_2559"> 2559.</a></span><span class="count                ">   1319</span><span>    the_symbol.nud = function () {</span></pre>
<pre><span class="lineno"><a href="#line_2560" id="line_2560"> 2560.</a></span><span class="count                ">   1319</span><span>        const the_token = token;</span></pre>
<pre><span class="lineno"><a href="#line_2561" id="line_2561"> 2561.</a></span><span class="count                ">   1319</span><span>        the_token.arity = &quot;unary&quot;;</span></pre>
<pre><span class="lineno"><a href="#line_2562" id="line_2562"> 2562.</a></span><span class="count                ">   1074</span><span>        if (typeof f === &quot;function&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_2563" id="line_2563"> 2563.</a></span><span class="count                ">   1074</span><span>            return f();</span></pre>
<pre><span class="lineno"><a href="#line_2564" id="line_2564"> 2564.</a></span><span class="count                ">   1074</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_2565" id="line_2565"> 2565.</a></span><span class="count                ">    245</span><span>        the_token.expression = expression(150);</span></pre>
<pre><span class="lineno"><a href="#line_2566" id="line_2566"> 2566.</a></span><span class="count                ">    245</span><span>        return the_token;</span></pre>
<pre><span class="lineno"><a href="#line_2567" id="line_2567"> 2567.</a></span><span class="count                ">    245</span><span>    };</span></pre>
<pre><span class="lineno"><a href="#line_2568" id="line_2568"> 2568.</a></span><span class="count                ">     17</span><span>    return the_symbol;</span></pre>
<pre><span class="lineno"><a href="#line_2569" id="line_2569"> 2569.</a></span><span class="count                ">     17</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_2570" id="line_2570"> 2570.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2571" id="line_2571"> 2571.</a></span><span class="count                ">     22</span><span>function stmt(id, f) {</span></pre>
<pre><span class="lineno"><a href="#line_2572" id="line_2572"> 2572.</a></span><span class="count                ">     22</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2573" id="line_2573"> 2573.</a></span><span class="count                ">     22</span><span>// Make a statement.</span></pre>
<pre><span class="lineno"><a href="#line_2574" id="line_2574"> 2574.</a></span><span class="count                ">     22</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2575" id="line_2575"> 2575.</a></span><span class="count                ">     22</span><span>    const the_symbol = symbol(id);</span></pre>
<pre><span class="lineno"><a href="#line_2576" id="line_2576"> 2576.</a></span><span class="count                ">   2895</span><span>    the_symbol.fud = function () {</span></pre>
<pre><span class="lineno"><a href="#line_2577" id="line_2577"> 2577.</a></span><span class="count                ">   2895</span><span>        token.arity = &quot;statement&quot;;</span></pre>
<pre><span class="lineno"><a href="#line_2578" id="line_2578"> 2578.</a></span><span class="count                ">   2895</span><span>        return f();</span></pre>
<pre><span class="lineno"><a href="#line_2579" id="line_2579"> 2579.</a></span><span class="count                ">   2895</span><span>    };</span></pre>
<pre><span class="lineno"><a href="#line_2580" id="line_2580"> 2580.</a></span><span class="count                ">     22</span><span>    return the_symbol;</span></pre>
<pre><span class="lineno"><a href="#line_2581" id="line_2581"> 2581.</a></span><span class="count                ">     22</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_2582" id="line_2582"> 2582.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2583" id="line_2583"> 2583.</a></span><span class="count                ">      1</span><span>function ternary(id1, id2) {</span></pre>
<pre><span class="lineno"><a href="#line_2584" id="line_2584"> 2584.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2585" id="line_2585"> 2585.</a></span><span class="count                ">      1</span><span>// Make a ternary operator.</span></pre>
<pre><span class="lineno"><a href="#line_2586" id="line_2586"> 2586.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2587" id="line_2587"> 2587.</a></span><span class="count                ">      1</span><span>    const the_symbol = symbol(id1, 30);</span></pre>
<pre><span class="lineno"><a href="#line_2588" id="line_2588"> 2588.</a></span><span class="count                ">     59</span><span>    the_symbol.led = function (left) {</span></pre>
<pre><span class="lineno"><a href="#line_2589" id="line_2589"> 2589.</a></span><span class="count                ">     59</span><span>        const the_token = token;</span></pre>
<pre><span class="lineno"><a href="#line_2590" id="line_2590"> 2590.</a></span><span class="count                ">     59</span><span>        const second = expression(20);</span></pre>
<pre><span class="lineno"><a href="#line_2591" id="line_2591"> 2591.</a></span><span class="count                ">     59</span><span>        advance(id2);</span></pre>
<pre><span class="lineno"><a href="#line_2592" id="line_2592"> 2592.</a></span><span class="count                ">     59</span><span>        token.arity = &quot;ternary&quot;;</span></pre>
<pre><span class="lineno"><a href="#line_2593" id="line_2593"> 2593.</a></span><span class="count                ">     59</span><span>        the_token.arity = &quot;ternary&quot;;</span></pre>
<pre><span class="lineno"><a href="#line_2594" id="line_2594"> 2594.</a></span><span class="count                ">     59</span><span>        the_token.expression = [left, second, expression(10)];</span></pre>
<pre><span class="lineno"><a href="#line_2595" id="line_2595"> 2595.</a></span><span class="count                ">      1</span><span>        if (next_token.id !== &quot;)&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_2596" id="line_2596"> 2596.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2597" id="line_2597"> 2597.</a></span><span class="count                ">      1</span><span>// cause: &quot;0?0:0&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2598" id="line_2598"> 2598.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2599" id="line_2599"> 2599.</a></span><span class="count                ">      1</span><span>            warn(&quot;use_open&quot;, the_token);</span></pre>
<pre><span class="lineno"><a href="#line_2600" id="line_2600"> 2600.</a></span><span class="count                ">      1</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_2601" id="line_2601"> 2601.</a></span><span class="count                ">     59</span><span>        return the_token;</span></pre>
<pre><span class="lineno"><a href="#line_2602" id="line_2602"> 2602.</a></span><span class="count                ">     59</span><span>    };</span></pre>
<pre><span class="lineno"><a href="#line_2603" id="line_2603"> 2603.</a></span><span class="count                ">      1</span><span>    return the_symbol;</span></pre>
<pre><span class="lineno"><a href="#line_2604" id="line_2604"> 2604.</a></span><span class="count                ">      1</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_2605" id="line_2605"> 2605.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2606" id="line_2606"> 2606.</a></span><span class="count                ">      1</span><span>// Begin defining the language.</span></pre>
<pre><span class="lineno"><a href="#line_2607" id="line_2607"> 2607.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2608" id="line_2608"> 2608.</a></span><span class="count                ">      1</span><span>syntax = empty();</span></pre>
<pre><span class="lineno"><a href="#line_2609" id="line_2609"> 2609.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2610" id="line_2610"> 2610.</a></span><span class="count                ">      1</span><span>symbol(&quot;}&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2611" id="line_2611"> 2611.</a></span><span class="count                ">      1</span><span>symbol(&quot;)&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2612" id="line_2612"> 2612.</a></span><span class="count                ">      1</span><span>symbol(&quot;]&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2613" id="line_2613"> 2613.</a></span><span class="count                ">      1</span><span>symbol(&quot;,&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2614" id="line_2614"> 2614.</a></span><span class="count                ">      1</span><span>symbol(&quot;;&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2615" id="line_2615"> 2615.</a></span><span class="count                ">      1</span><span>symbol(&quot;:&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2616" id="line_2616"> 2616.</a></span><span class="count                ">      1</span><span>symbol(&quot;*/&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2617" id="line_2617"> 2617.</a></span><span class="count                ">      1</span><span>symbol(&quot;async&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2618" id="line_2618"> 2618.</a></span><span class="count                ">      1</span><span>symbol(&quot;await&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2619" id="line_2619"> 2619.</a></span><span class="count                ">      1</span><span>symbol(&quot;case&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2620" id="line_2620"> 2620.</a></span><span class="count                ">      1</span><span>symbol(&quot;catch&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2621" id="line_2621"> 2621.</a></span><span class="count                ">      1</span><span>symbol(&quot;class&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2622" id="line_2622"> 2622.</a></span><span class="count                ">      1</span><span>symbol(&quot;default&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2623" id="line_2623"> 2623.</a></span><span class="count                ">      1</span><span>symbol(&quot;else&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2624" id="line_2624"> 2624.</a></span><span class="count                ">      1</span><span>symbol(&quot;enum&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2625" id="line_2625"> 2625.</a></span><span class="count                ">      1</span><span>symbol(&quot;finally&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2626" id="line_2626"> 2626.</a></span><span class="count                ">      1</span><span>symbol(&quot;implements&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2627" id="line_2627"> 2627.</a></span><span class="count                ">      1</span><span>symbol(&quot;interface&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2628" id="line_2628"> 2628.</a></span><span class="count                ">      1</span><span>symbol(&quot;package&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2629" id="line_2629"> 2629.</a></span><span class="count                ">      1</span><span>symbol(&quot;private&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2630" id="line_2630"> 2630.</a></span><span class="count                ">      1</span><span>symbol(&quot;protected&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2631" id="line_2631"> 2631.</a></span><span class="count                ">      1</span><span>symbol(&quot;public&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2632" id="line_2632"> 2632.</a></span><span class="count                ">      1</span><span>symbol(&quot;static&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2633" id="line_2633"> 2633.</a></span><span class="count                ">      1</span><span>symbol(&quot;super&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2634" id="line_2634"> 2634.</a></span><span class="count                ">      1</span><span>symbol(&quot;void&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2635" id="line_2635"> 2635.</a></span><span class="count                ">      1</span><span>symbol(&quot;yield&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2636" id="line_2636"> 2636.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2637" id="line_2637"> 2637.</a></span><span class="count                ">      1</span><span>constant(&quot;(number)&quot;, &quot;number&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2638" id="line_2638"> 2638.</a></span><span class="count                ">      1</span><span>constant(&quot;(regexp)&quot;, &quot;regexp&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2639" id="line_2639"> 2639.</a></span><span class="count                ">      1</span><span>constant(&quot;(string)&quot;, &quot;string&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2640" id="line_2640"> 2640.</a></span><span class="count                ">      1</span><span>constant(&quot;arguments&quot;, &quot;object&quot;, function () {</span></pre>
<pre><span class="lineno"><a href="#line_2641" id="line_2641"> 2641.</a></span><span class="count                ">      1</span><span>    warn(&quot;unexpected_a&quot;, token);</span></pre>
<pre><span class="lineno"><a href="#line_2642" id="line_2642"> 2642.</a></span><span class="count                ">      1</span><span>    return token;</span></pre>
<pre><span class="lineno"><a href="#line_2643" id="line_2643"> 2643.</a></span><span class="count                ">      1</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_2644" id="line_2644"> 2644.</a></span><span class="count                ">      4</span><span>constant(&quot;eval&quot;, &quot;function&quot;, function () {</span></pre>
<pre><span class="lineno"><a href="#line_2645" id="line_2645"> 2645.</a></span><span class="count                ">      2</span><span>    if (!option.eval) {</span></pre>
<pre><span class="lineno"><a href="#line_2646" id="line_2646"> 2646.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2647" id="line_2647"> 2647.</a></span><span class="count                ">      2</span><span>// cause: &quot;eval()&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2648" id="line_2648"> 2648.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2649" id="line_2649"> 2649.</a></span><span class="count                ">      2</span><span>        warn(&quot;unexpected_a&quot;, token);</span></pre>
<pre><span class="lineno"><a href="#line_2650" id="line_2650"> 2650.</a></span><span class="count                ">      2</span><span>    } else if (next_token.id !== &quot;(&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_2651" id="line_2651"> 2651.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2652" id="line_2652"> 2652.</a></span><span class="count                ">      2</span><span>// cause: &quot;/*jslint eval*/\neval&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2653" id="line_2653"> 2653.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2654" id="line_2654"> 2654.</a></span><span class="count                ">      2</span><span>        warn(&quot;expected_a_before_b&quot;, next_token, &quot;(&quot;, artifact());</span></pre>
<pre><span class="lineno"><a href="#line_2655" id="line_2655"> 2655.</a></span><span class="count                ">      2</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_2656" id="line_2656"> 2656.</a></span><span class="count                ">      4</span><span>    return token;</span></pre>
<pre><span class="lineno"><a href="#line_2657" id="line_2657"> 2657.</a></span><span class="count                ">      4</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_2658" id="line_2658"> 2658.</a></span><span class="count                ">      1</span><span>constant(&quot;false&quot;, &quot;boolean&quot;, false);</span></pre>
<pre><span class="lineno"><a href="#line_2659" id="line_2659"> 2659.</a></span><span class="count                ">      4</span><span>constant(&quot;Function&quot;, &quot;function&quot;, function () {</span></pre>
<pre><span class="lineno"><a href="#line_2660" id="line_2660"> 2660.</a></span><span class="count                ">      2</span><span>    if (!option.eval) {</span></pre>
<pre><span class="lineno"><a href="#line_2661" id="line_2661"> 2661.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2662" id="line_2662"> 2662.</a></span><span class="count                ">      2</span><span>// cause: &quot;Function()&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2663" id="line_2663"> 2663.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2664" id="line_2664"> 2664.</a></span><span class="count                ">      2</span><span>        warn(&quot;unexpected_a&quot;, token);</span></pre>
<pre><span class="lineno"><a href="#line_2665" id="line_2665"> 2665.</a></span><span class="count                ">      2</span><span>    } else if (next_token.id !== &quot;(&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_2666" id="line_2666"> 2666.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2667" id="line_2667"> 2667.</a></span><span class="count                ">      2</span><span>// cause: &quot;/*jslint eval*/\nFunction&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2668" id="line_2668"> 2668.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2669" id="line_2669"> 2669.</a></span><span class="count                ">      2</span><span>        warn(&quot;expected_a_before_b&quot;, next_token, &quot;(&quot;, artifact());</span></pre>
<pre><span class="lineno"><a href="#line_2670" id="line_2670"> 2670.</a></span><span class="count                ">      2</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_2671" id="line_2671"> 2671.</a></span><span class="count                ">      4</span><span>    return token;</span></pre>
<pre><span class="lineno"><a href="#line_2672" id="line_2672"> 2672.</a></span><span class="count                ">      4</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_2673" id="line_2673"> 2673.</a></span><span class="count                ">      1</span><span>constant(&quot;ignore&quot;, &quot;undefined&quot;, function () {</span></pre>
<pre><span class="lineno"><a href="#line_2674" id="line_2674"> 2674.</a></span><span class="count                ">      1</span><span>    warn(&quot;unexpected_a&quot;, token);</span></pre>
<pre><span class="lineno"><a href="#line_2675" id="line_2675"> 2675.</a></span><span class="count                ">      1</span><span>    return token;</span></pre>
<pre><span class="lineno"><a href="#line_2676" id="line_2676"> 2676.</a></span><span class="count                ">      1</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_2677" id="line_2677"> 2677.</a></span><span class="count                ">      1</span><span>constant(&quot;Infinity&quot;, &quot;number&quot;, Infinity);</span></pre>
<pre><span class="lineno"><a href="#line_2678" id="line_2678"> 2678.</a></span><span class="count                ">      1</span><span>constant(&quot;isFinite&quot;, &quot;function&quot;, function () {</span></pre>
<pre><span class="lineno"><a href="#line_2679" id="line_2679"> 2679.</a></span><span class="count                ">      1</span><span>    warn(&quot;expected_a_b&quot;, token, &quot;Number.isFinite&quot;, &quot;isFinite&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2680" id="line_2680"> 2680.</a></span><span class="count                ">      1</span><span>    return token;</span></pre>
<pre><span class="lineno"><a href="#line_2681" id="line_2681"> 2681.</a></span><span class="count                ">      1</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_2682" id="line_2682"> 2682.</a></span><span class="count                ">      1</span><span>constant(&quot;isNaN&quot;, &quot;function&quot;, function () {</span></pre>
<pre><span class="lineno"><a href="#line_2683" id="line_2683"> 2683.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2684" id="line_2684"> 2684.</a></span><span class="count                ">      1</span><span>// cause: &quot;isNaN(0)&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2685" id="line_2685"> 2685.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2686" id="line_2686"> 2686.</a></span><span class="count                ">      1</span><span>    warn(&quot;number_isNaN&quot;, token);</span></pre>
<pre><span class="lineno"><a href="#line_2687" id="line_2687"> 2687.</a></span><span class="count                ">      1</span><span>    return token;</span></pre>
<pre><span class="lineno"><a href="#line_2688" id="line_2688"> 2688.</a></span><span class="count                ">      1</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_2689" id="line_2689"> 2689.</a></span><span class="count                ">      1</span><span>constant(&quot;NaN&quot;, &quot;number&quot;, NaN);</span></pre>
<pre><span class="lineno"><a href="#line_2690" id="line_2690"> 2690.</a></span><span class="count                ">      1</span><span>constant(&quot;null&quot;, &quot;null&quot;, null);</span></pre>
<pre><span class="lineno"><a href="#line_2691" id="line_2691"> 2691.</a></span><span class="count                ">      2</span><span>constant(&quot;this&quot;, &quot;object&quot;, function () {</span></pre>
<pre><span class="lineno"><a href="#line_2692" id="line_2692"> 2692.</a></span><span class="count                ">      1</span><span>    if (!option.this) {</span></pre>
<pre><span class="lineno"><a href="#line_2693" id="line_2693"> 2693.</a></span><span class="count                ">      1</span><span>        warn(&quot;unexpected_a&quot;, token);</span></pre>
<pre><span class="lineno"><a href="#line_2694" id="line_2694"> 2694.</a></span><span class="count                ">      1</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_2695" id="line_2695"> 2695.</a></span><span class="count                ">      2</span><span>    return token;</span></pre>
<pre><span class="lineno"><a href="#line_2696" id="line_2696"> 2696.</a></span><span class="count                ">      2</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_2697" id="line_2697"> 2697.</a></span><span class="count                ">      1</span><span>constant(&quot;true&quot;, &quot;boolean&quot;, true);</span></pre>
<pre><span class="lineno"><a href="#line_2698" id="line_2698"> 2698.</a></span><span class="count                ">      1</span><span>constant(&quot;undefined&quot;, &quot;undefined&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2699" id="line_2699"> 2699.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2700" id="line_2700"> 2700.</a></span><span class="count                ">      1</span><span>assignment(&quot;=&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2701" id="line_2701"> 2701.</a></span><span class="count                ">      1</span><span>assignment(&quot;+=&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2702" id="line_2702"> 2702.</a></span><span class="count                ">      1</span><span>assignment(&quot;-=&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2703" id="line_2703"> 2703.</a></span><span class="count                ">      1</span><span>assignment(&quot;*=&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2704" id="line_2704"> 2704.</a></span><span class="count                ">      1</span><span>assignment(&quot;/=&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2705" id="line_2705"> 2705.</a></span><span class="count                ">      1</span><span>assignment(&quot;%=&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2706" id="line_2706"> 2706.</a></span><span class="count                ">      1</span><span>assignment(&quot;&amp;=&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2707" id="line_2707"> 2707.</a></span><span class="count                ">      1</span><span>assignment(&quot;|=&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2708" id="line_2708"> 2708.</a></span><span class="count                ">      1</span><span>assignment(&quot;^=&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2709" id="line_2709"> 2709.</a></span><span class="count                ">      1</span><span>assignment(&quot;&lt;&lt;=&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2710" id="line_2710"> 2710.</a></span><span class="count                ">      1</span><span>assignment(&quot;&gt;&gt;=&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2711" id="line_2711"> 2711.</a></span><span class="count                ">      1</span><span>assignment(&quot;&gt;&gt;&gt;=&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2712" id="line_2712"> 2712.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2713" id="line_2713"> 2713.</a></span><span class="count                ">      1</span><span>infix(&quot;??&quot;, 35);</span></pre>
<pre><span class="lineno"><a href="#line_2714" id="line_2714"> 2714.</a></span><span class="count                ">      1</span><span>infix(&quot;||&quot;, 40);</span></pre>
<pre><span class="lineno"><a href="#line_2715" id="line_2715"> 2715.</a></span><span class="count                ">      1</span><span>infix(&quot;&amp;&amp;&quot;, 50);</span></pre>
<pre><span class="lineno"><a href="#line_2716" id="line_2716"> 2716.</a></span><span class="count                ">      1</span><span>infix(&quot;|&quot;, 70);</span></pre>
<pre><span class="lineno"><a href="#line_2717" id="line_2717"> 2717.</a></span><span class="count                ">      1</span><span>infix(&quot;^&quot;, 80);</span></pre>
<pre><span class="lineno"><a href="#line_2718" id="line_2718"> 2718.</a></span><span class="count                ">      1</span><span>infix(&quot;&amp;&quot;, 90);</span></pre>
<pre><span class="lineno"><a href="#line_2719" id="line_2719"> 2719.</a></span><span class="count                ">      1</span><span>infix(&quot;==&quot;, 100);</span></pre>
<pre><span class="lineno"><a href="#line_2720" id="line_2720"> 2720.</a></span><span class="count                ">      1</span><span>infix(&quot;===&quot;, 100);</span></pre>
<pre><span class="lineno"><a href="#line_2721" id="line_2721"> 2721.</a></span><span class="count                ">      1</span><span>infix(&quot;!=&quot;, 100);</span></pre>
<pre><span class="lineno"><a href="#line_2722" id="line_2722"> 2722.</a></span><span class="count                ">      1</span><span>infix(&quot;!==&quot;, 100);</span></pre>
<pre><span class="lineno"><a href="#line_2723" id="line_2723"> 2723.</a></span><span class="count                ">      1</span><span>infix(&quot;&lt;&quot;, 110);</span></pre>
<pre><span class="lineno"><a href="#line_2724" id="line_2724"> 2724.</a></span><span class="count                ">      1</span><span>infix(&quot;&gt;&quot;, 110);</span></pre>
<pre><span class="lineno"><a href="#line_2725" id="line_2725"> 2725.</a></span><span class="count                ">      1</span><span>infix(&quot;&lt;=&quot;, 110);</span></pre>
<pre><span class="lineno"><a href="#line_2726" id="line_2726"> 2726.</a></span><span class="count                ">      1</span><span>infix(&quot;&gt;=&quot;, 110);</span></pre>
<pre><span class="lineno"><a href="#line_2727" id="line_2727"> 2727.</a></span><span class="count                ">      1</span><span>infix(&quot;in&quot;, 110);</span></pre>
<pre><span class="lineno"><a href="#line_2728" id="line_2728"> 2728.</a></span><span class="count                ">      1</span><span>infix(&quot;instanceof&quot;, 110);</span></pre>
<pre><span class="lineno"><a href="#line_2729" id="line_2729"> 2729.</a></span><span class="count                ">      1</span><span>infix(&quot;&lt;&lt;&quot;, 120);</span></pre>
<pre><span class="lineno"><a href="#line_2730" id="line_2730"> 2730.</a></span><span class="count                ">      1</span><span>infix(&quot;&gt;&gt;&quot;, 120);</span></pre>
<pre><span class="lineno"><a href="#line_2731" id="line_2731"> 2731.</a></span><span class="count                ">      1</span><span>infix(&quot;&gt;&gt;&gt;&quot;, 120);</span></pre>
<pre><span class="lineno"><a href="#line_2732" id="line_2732"> 2732.</a></span><span class="count                ">      1</span><span>infix(&quot;+&quot;, 130);</span></pre>
<pre><span class="lineno"><a href="#line_2733" id="line_2733"> 2733.</a></span><span class="count                ">      1</span><span>infix(&quot;-&quot;, 130);</span></pre>
<pre><span class="lineno"><a href="#line_2734" id="line_2734"> 2734.</a></span><span class="count                ">      1</span><span>infix(&quot;*&quot;, 140);</span></pre>
<pre><span class="lineno"><a href="#line_2735" id="line_2735"> 2735.</a></span><span class="count                ">      1</span><span>infix(&quot;/&quot;, 140);</span></pre>
<pre><span class="lineno"><a href="#line_2736" id="line_2736"> 2736.</a></span><span class="count                ">      1</span><span>infix(&quot;%&quot;, 140);</span></pre>
<pre><span class="lineno"><a href="#line_2737" id="line_2737"> 2737.</a></span><span class="count                ">      1</span><span>infixr(&quot;**&quot;, 150);</span></pre>
<pre><span class="lineno"><a href="#line_2738" id="line_2738"> 2738.</a></span><span class="count                ">   2878</span><span>infix(&quot;(&quot;, 160, function (left) {</span></pre>
<pre><span class="lineno"><a href="#line_2739" id="line_2739"> 2739.</a></span><span class="count                ">   2878</span><span>    const the_paren = token;</span></pre>
<pre><span class="lineno"><a href="#line_2740" id="line_2740"> 2740.</a></span><span class="count                ">   2878</span><span>    let the_argument;</span></pre>
<pre><span class="lineno"><a href="#line_2741" id="line_2741"> 2741.</a></span><span class="count                ">   2813</span><span>    if (left.id !== &quot;function&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_2742" id="line_2742"> 2742.</a></span><span class="count                ">   2813</span><span>        left_check(left, the_paren);</span></pre>
<pre><span class="lineno"><a href="#line_2743" id="line_2743"> 2743.</a></span><span class="count                ">   2813</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_2744" id="line_2744"> 2744.</a></span><span class="count                ">    952</span><span>    if (functionage.arity === &quot;statement&quot; &amp;&amp; left.identifier) {</span></pre>
<pre><span class="lineno"><a href="#line_2745" id="line_2745"> 2745.</a></span><span class="count                ">    700</span><span>        functionage.name.calls[left.id] = left;</span></pre>
<pre><span class="lineno"><a href="#line_2746" id="line_2746"> 2746.</a></span><span class="count                ">    700</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_2747" id="line_2747"> 2747.</a></span><span class="count                ">   2878</span><span>    the_paren.expression = [left];</span></pre>
<pre><span class="lineno"><a href="#line_2748" id="line_2748"> 2748.</a></span><span class="count                ">   2333</span><span>    if (next_token.id !== &quot;)&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_2749" id="line_2749"> 2749.</a></span><span class="count                ">   3905</span><span>        (function next() {</span></pre>
<pre><span class="lineno"><a href="#line_2750" id="line_2750"> 2750.</a></span><span class="count                ">   3905</span><span>            let ellipsis;</span></pre>
<pre><span class="lineno"><a href="#line_2751" id="line_2751"> 2751.</a></span><span class="count                ">   2333</span><span>            if (next_token.id === &quot;...&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_2752" id="line_2752"> 2752.</a></span><span class="count                ">   2333</span><span>                ellipsis = true;</span></pre>
<pre><span class="lineno"><a href="#line_2753" id="line_2753"> 2753.</a></span><span class="count                ">   2333</span><span>                advance(&quot;...&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2754" id="line_2754"> 2754.</a></span><span class="count                ">   2333</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_2755" id="line_2755"> 2755.</a></span><span class="count                ">   3905</span><span>            the_argument = expression(10);</span></pre>
<pre><span class="lineno"><a href="#line_2756" id="line_2756"> 2756.</a></span><span class="count                ">   2333</span><span>            if (ellipsis) {</span></pre>
<pre><span class="lineno"><a href="#line_2757" id="line_2757"> 2757.</a></span><span class="count                ">   2333</span><span>                the_argument.ellipsis = true;</span></pre>
<pre><span class="lineno"><a href="#line_2758" id="line_2758"> 2758.</a></span><span class="count                ">   2333</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_2759" id="line_2759"> 2759.</a></span><span class="count                ">   3905</span><span>            the_paren.expression.push(the_argument);</span></pre>
<pre><span class="lineno"><a href="#line_2760" id="line_2760"> 2760.</a></span><span class="count                ">   2333</span><span>            if (next_token.id === &quot;,&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_2761" id="line_2761"> 2761.</a></span><span class="count                ">   2333</span><span>                advance(&quot;,&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2762" id="line_2762"> 2762.</a></span><span class="count                ">   2333</span><span>                return next();</span></pre>
<pre><span class="lineno"><a href="#line_2763" id="line_2763"> 2763.</a></span><span class="count                ">   2333</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_2764" id="line_2764"> 2764.</a></span><span class="count                ">   3905</span><span>        }());</span></pre>
<pre><span class="lineno"><a href="#line_2765" id="line_2765"> 2765.</a></span><span class="count                ">   2333</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_2766" id="line_2766"> 2766.</a></span><span class="count                ">   2878</span><span>    advance(&quot;)&quot;, the_paren);</span></pre>
<pre><span class="lineno"><a href="#line_2767" id="line_2767"> 2767.</a></span><span class="count                ">   1336</span><span>    if (the_paren.expression.length === 2) {</span></pre>
<pre><span class="lineno"><a href="#line_2768" id="line_2768"> 2768.</a></span><span class="count                ">   1336</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2769" id="line_2769"> 2769.</a></span><span class="count                ">   1336</span><span>// cause: &quot;aa(0)&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2770" id="line_2770"> 2770.</a></span><span class="count                ">   1336</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2771" id="line_2771"> 2771.</a></span><span class="count                ">   1336</span><span>        the_paren.free = true;</span></pre>
<pre><span class="lineno"><a href="#line_2772" id="line_2772"> 2772.</a></span><span class="count                ">   1336</span><span>        if (the_argument.wrapped === true) {</span></pre>
<pre><span class="lineno"><a href="#line_2773" id="line_2773"> 2773.</a></span><span class="count                ">   1336</span><span>            warn(&quot;unexpected_a&quot;, the_paren);</span></pre>
<pre><span class="lineno"><a href="#line_2774" id="line_2774"> 2774.</a></span><span class="count                ">   1336</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_2775" id="line_2775"> 2775.</a></span><span class="count                ">   1336</span><span>        if (the_argument.id === &quot;(&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_2776" id="line_2776"> 2776.</a></span><span class="count                ">   1336</span><span>            the_argument.wrapped = true;</span></pre>
<pre><span class="lineno"><a href="#line_2777" id="line_2777"> 2777.</a></span><span class="count                ">   1336</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_2778" id="line_2778"> 2778.</a></span><span class="count                ">   1542</span><span>    } else {</span></pre>
<pre><span class="lineno"><a href="#line_2779" id="line_2779"> 2779.</a></span><span class="count                ">   1542</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2780" id="line_2780"> 2780.</a></span><span class="count                ">   1542</span><span>// cause: &quot;aa()&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2781" id="line_2781"> 2781.</a></span><span class="count                ">   1542</span><span>// cause: &quot;aa(0,0)&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2782" id="line_2782"> 2782.</a></span><span class="count                ">   1542</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2783" id="line_2783"> 2783.</a></span><span class="count                ">   1542</span><span>        the_paren.free = false;</span></pre>
<pre><span class="lineno"><a href="#line_2784" id="line_2784"> 2784.</a></span><span class="count                ">   1542</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_2785" id="line_2785"> 2785.</a></span><span class="count                ">   2878</span><span>    return the_paren;</span></pre>
<pre><span class="lineno"><a href="#line_2786" id="line_2786"> 2786.</a></span><span class="count                ">   2878</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_2787" id="line_2787"> 2787.</a></span><span class="count                ">   3329</span><span>infix(&quot;.&quot;, 170, function (left) {</span></pre>
<pre><span class="lineno"><a href="#line_2788" id="line_2788"> 2788.</a></span><span class="count                ">   3329</span><span>    const the_token = token;</span></pre>
<pre><span class="lineno"><a href="#line_2789" id="line_2789"> 2789.</a></span><span class="count                ">   3329</span><span>    const name = next_token;</span></pre>
<pre><span class="lineno"><a href="#line_2790" id="line_2790"> 2790.</a></span><span class="count                ">   3329</span><span>    if (</span></pre>
<pre><span class="lineno"><a href="#line_2791" id="line_2791"> 2791.</a></span><span class="count                ">   3329</span><span>        (</span></pre>
<pre><span class="lineno"><a href="#line_2792" id="line_2792"> 2792.</a></span><span class="count                ">   3329</span><span>            left.id !== &quot;(string)&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2793" id="line_2793"> 2793.</a></span><span class="count                ">     10</span><span>            || (name.id !== &quot;indexOf&quot; &amp;&amp; name.id !== &quot;repeat&quot;)</span></pre>
<pre><span class="lineno"><a href="#line_2794" id="line_2794"> 2794.</a></span><span class="count                ">   3329</span><span>        )</span></pre>
<pre><span class="lineno"><a href="#line_2795" id="line_2795"> 2795.</a></span><span class="count                ">   3319</span><span>        &amp;&amp; (</span></pre>
<pre><span class="lineno"><a href="#line_2796" id="line_2796"> 2796.</a></span><span class="count                ">   3319</span><span>            left.id !== &quot;[&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2797" id="line_2797"> 2797.</a></span><span class="count                ">   3319</span><span>            || (</span></pre>
<pre><span class="lineno"><a href="#line_2798" id="line_2798"> 2798.</a></span><span class="count                ">   3319</span><span>                name.id !== &quot;concat&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2799" id="line_2799"> 2799.</a></span><span class="count                ">   3319</span><span>                &amp;&amp; name.id !== &quot;forEach&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2800" id="line_2800"> 2800.</a></span><span class="count                ">   3319</span><span>                &amp;&amp; name.id !== &quot;join&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2801" id="line_2801"> 2801.</a></span><span class="count                ">   3319</span><span>                &amp;&amp; name.id !== &quot;map&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2802" id="line_2802"> 2802.</a></span><span class="count                ">   3319</span><span>            )</span></pre>
<pre><span class="lineno"><a href="#line_2803" id="line_2803"> 2803.</a></span><span class="count                ">   3319</span><span>        )</span></pre>
<pre><span class="lineno"><a href="#line_2804" id="line_2804"> 2804.</a></span><span class="count                ">   3316</span><span>        &amp;&amp; (left.id !== &quot;+&quot; || name.id !== &quot;slice&quot;)</span></pre>
<pre><span class="lineno"><a href="#line_2805" id="line_2805"> 2805.</a></span><span class="count                ">   3314</span><span>        &amp;&amp; (</span></pre>
<pre><span class="lineno"><a href="#line_2806" id="line_2806"> 2806.</a></span><span class="count                ">   3314</span><span>            left.id !== &quot;(regexp)&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2807" id="line_2807"> 2807.</a></span><span class="count                ">   3314</span><span>            || (name.id !== &quot;exec&quot; &amp;&amp; name.id !== &quot;test&quot;)</span></pre>
<pre><span class="lineno"><a href="#line_2808" id="line_2808"> 2808.</a></span><span class="count                ">   3314</span><span>        )</span></pre>
<pre><span class="lineno"><a href="#line_2809" id="line_2809"> 2809.</a></span><span class="count                ">   3302</span><span>    ) {</span></pre>
<pre><span class="lineno"><a href="#line_2810" id="line_2810"> 2810.</a></span><span class="count                ">   3302</span><span>        left_check(left, the_token);</span></pre>
<pre><span class="lineno"><a href="#line_2811" id="line_2811"> 2811.</a></span><span class="count                ">   3302</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_2812" id="line_2812"> 2812.</a></span><span class="count                ">      1</span><span>    if (!name.identifier) {</span></pre>
<pre><span class="lineno"><a href="#line_2813" id="line_2813"> 2813.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2814" id="line_2814"> 2814.</a></span><span class="count                ">      1</span><span>// cause: &quot;aa.0&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2815" id="line_2815"> 2815.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2816" id="line_2816"> 2816.</a></span><span class="count                ">      1</span><span>        stop(&quot;expected_identifier_a&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2817" id="line_2817"> 2817.</a></span><span class="count                ">   3328</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_2818" id="line_2818"> 2818.</a></span><span class="count                ">   3328</span><span>    advance();</span></pre>
<pre><span class="lineno"><a href="#line_2819" id="line_2819"> 2819.</a></span><span class="count                ">   3328</span><span>    survey(name);</span></pre>
<pre><span class="lineno"><a href="#line_2820" id="line_2820"> 2820.</a></span><span class="count                ">   3328</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2821" id="line_2821"> 2821.</a></span><span class="count                ">   3328</span><span>// The property name is not an expression.</span></pre>
<pre><span class="lineno"><a href="#line_2822" id="line_2822"> 2822.</a></span><span class="count                ">   3328</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2823" id="line_2823"> 2823.</a></span><span class="count                ">   3328</span><span>    the_token.name = name;</span></pre>
<pre><span class="lineno"><a href="#line_2824" id="line_2824"> 2824.</a></span><span class="count                ">   3328</span><span>    the_token.expression = left;</span></pre>
<pre><span class="lineno"><a href="#line_2825" id="line_2825"> 2825.</a></span><span class="count                ">   3328</span><span>    return the_token;</span></pre>
<pre><span class="lineno"><a href="#line_2826" id="line_2826"> 2826.</a></span><span class="count                ">   3328</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_2827" id="line_2827"> 2827.</a></span><span class="count                ">      7</span><span>infix(&quot;?.&quot;, 170, function (left) {</span></pre>
<pre><span class="lineno"><a href="#line_2828" id="line_2828"> 2828.</a></span><span class="count                ">      7</span><span>    const the_token = token;</span></pre>
<pre><span class="lineno"><a href="#line_2829" id="line_2829"> 2829.</a></span><span class="count                ">      7</span><span>    const name = next_token;</span></pre>
<pre><span class="lineno"><a href="#line_2830" id="line_2830"> 2830.</a></span><span class="count                ">      7</span><span>    if (</span></pre>
<pre><span class="lineno"><a href="#line_2831" id="line_2831"> 2831.</a></span><span class="count                ">      7</span><span>        (</span></pre>
<pre><span class="lineno"><a href="#line_2832" id="line_2832"> 2832.</a></span><span class="count                ">      7</span><span>            left.id !== &quot;(string)&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2833" id="line_2833"> 2833.</a></span><span class="count                ">      1</span><span>            || (name.id !== &quot;indexOf&quot; &amp;&amp; name.id !== &quot;repeat&quot;)</span></pre>
<pre><span class="lineno"><a href="#line_2834" id="line_2834"> 2834.</a></span><span class="count                ">      7</span><span>        )</span></pre>
<pre><span class="lineno"><a href="#line_2835" id="line_2835"> 2835.</a></span><span class="count                ">      7</span><span>        &amp;&amp; (</span></pre>
<pre><span class="lineno"><a href="#line_2836" id="line_2836"> 2836.</a></span><span class="count                ">      7</span><span>            left.id !== &quot;[&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2837" id="line_2837"> 2837.</a></span><span class="count                ">      1</span><span>            || (</span></pre>
<pre><span class="lineno"><a href="#line_2838" id="line_2838"> 2838.</a></span><span class="count                ">      1</span><span>                name.id !== &quot;concat&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2839" id="line_2839"> 2839.</a></span><span class="count                ">      1</span><span>                &amp;&amp; name.id !== &quot;forEach&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2840" id="line_2840"> 2840.</a></span><span class="count                ">      1</span><span>                &amp;&amp; name.id !== &quot;join&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2841" id="line_2841"> 2841.</a></span><span class="count                ">      1</span><span>                &amp;&amp; name.id !== &quot;map&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2842" id="line_2842"> 2842.</a></span><span class="count                ">      1</span><span>            )</span></pre>
<pre><span class="lineno"><a href="#line_2843" id="line_2843"> 2843.</a></span><span class="count                ">      7</span><span>        )</span></pre>
<pre><span class="lineno"><a href="#line_2844" id="line_2844"> 2844.</a></span><span class="count                ">      7</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2845" id="line_2845"> 2845.</a></span><span class="count                ">      7</span><span>// cause: &quot;(0+0)?.0&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2846" id="line_2846"> 2846.</a></span><span class="count                ">      7</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2847" id="line_2847"> 2847.</a></span><span class="count                ">      1</span><span>        &amp;&amp; (left.id !== &quot;+&quot; || name.id !== &quot;slice&quot;)</span></pre>
<pre><span class="lineno"><a href="#line_2848" id="line_2848"> 2848.</a></span><span class="count                ">      7</span><span>        &amp;&amp; (</span></pre>
<pre><span class="lineno"><a href="#line_2849" id="line_2849"> 2849.</a></span><span class="count                ">      7</span><span>            left.id !== &quot;(regexp)&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2850" id="line_2850"> 2850.</a></span><span class="count                ">      1</span><span>            || (name.id !== &quot;exec&quot; &amp;&amp; name.id !== &quot;test&quot;)</span></pre>
<pre><span class="lineno"><a href="#line_2851" id="line_2851"> 2851.</a></span><span class="count                ">      7</span><span>        )</span></pre>
<pre><span class="lineno"><a href="#line_2852" id="line_2852"> 2852.</a></span><span class="count                ">      7</span><span>    ) {</span></pre>
<pre><span class="lineno"><a href="#line_2853" id="line_2853"> 2853.</a></span><span class="count                ">      7</span><span>        left_check(left, the_token);</span></pre>
<pre><span class="lineno"><a href="#line_2854" id="line_2854"> 2854.</a></span><span class="count                ">      7</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_2855" id="line_2855"> 2855.</a></span><span class="count                ">      2</span><span>    if (!name.identifier) {</span></pre>
<pre><span class="lineno"><a href="#line_2856" id="line_2856"> 2856.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2857" id="line_2857"> 2857.</a></span><span class="count                ">      2</span><span>// cause: &quot;aa?.0&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2858" id="line_2858"> 2858.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2859" id="line_2859"> 2859.</a></span><span class="count                ">      2</span><span>        stop(&quot;expected_identifier_a&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2860" id="line_2860"> 2860.</a></span><span class="count                ">      5</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_2861" id="line_2861"> 2861.</a></span><span class="count                ">      5</span><span>    advance();</span></pre>
<pre><span class="lineno"><a href="#line_2862" id="line_2862"> 2862.</a></span><span class="count                ">      5</span><span>    survey(name);</span></pre>
<pre><span class="lineno"><a href="#line_2863" id="line_2863"> 2863.</a></span><span class="count                ">      5</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2864" id="line_2864"> 2864.</a></span><span class="count                ">      5</span><span>// The property name is not an expression.</span></pre>
<pre><span class="lineno"><a href="#line_2865" id="line_2865"> 2865.</a></span><span class="count                ">      5</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2866" id="line_2866"> 2866.</a></span><span class="count                ">      5</span><span>    the_token.name = name;</span></pre>
<pre><span class="lineno"><a href="#line_2867" id="line_2867"> 2867.</a></span><span class="count                ">      5</span><span>    the_token.expression = left;</span></pre>
<pre><span class="lineno"><a href="#line_2868" id="line_2868"> 2868.</a></span><span class="count                ">      5</span><span>    return the_token;</span></pre>
<pre><span class="lineno"><a href="#line_2869" id="line_2869"> 2869.</a></span><span class="count                ">      5</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_2870" id="line_2870"> 2870.</a></span><span class="count                ">    417</span><span>infix(&quot;[&quot;, 170, function (left) {</span></pre>
<pre><span class="lineno"><a href="#line_2871" id="line_2871"> 2871.</a></span><span class="count                ">    417</span><span>    const the_token = token;</span></pre>
<pre><span class="lineno"><a href="#line_2872" id="line_2872"> 2872.</a></span><span class="count                ">    417</span><span>    const the_subscript = expression(0);</span></pre>
<pre><span class="lineno"><a href="#line_2873" id="line_2873"> 2873.</a></span><span class="count                ">    415</span><span>    if (the_subscript.id === &quot;(string)&quot; || the_subscript.id === &quot;`&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_2874" id="line_2874"> 2874.</a></span><span class="count                ">      4</span><span>        const name = survey(the_subscript);</span></pre>
<pre><span class="lineno"><a href="#line_2875" id="line_2875"> 2875.</a></span><span class="count                ">      4</span><span>        if (rx_identifier.test(name)) {</span></pre>
<pre><span class="lineno"><a href="#line_2876" id="line_2876"> 2876.</a></span><span class="count                ">      4</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2877" id="line_2877"> 2877.</a></span><span class="count                ">      4</span><span>// cause: &quot;aa[`aa`]&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2878" id="line_2878"> 2878.</a></span><span class="count                ">      4</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2879" id="line_2879"> 2879.</a></span><span class="count                ">      4</span><span>            warn(&quot;subscript_a&quot;, the_subscript, name);</span></pre>
<pre><span class="lineno"><a href="#line_2880" id="line_2880"> 2880.</a></span><span class="count                ">      4</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_2881" id="line_2881"> 2881.</a></span><span class="count                ">      4</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_2882" id="line_2882"> 2882.</a></span><span class="count                ">    417</span><span>    left_check(left, the_token);</span></pre>
<pre><span class="lineno"><a href="#line_2883" id="line_2883"> 2883.</a></span><span class="count                ">    417</span><span>    the_token.expression = [left, the_subscript];</span></pre>
<pre><span class="lineno"><a href="#line_2884" id="line_2884"> 2884.</a></span><span class="count                ">    417</span><span>    advance(&quot;]&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2885" id="line_2885"> 2885.</a></span><span class="count                ">    417</span><span>    return the_token;</span></pre>
<pre><span class="lineno"><a href="#line_2886" id="line_2886"> 2886.</a></span><span class="count                ">    417</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_2887" id="line_2887"> 2887.</a></span><span class="count                ">      1</span><span>infix(&quot;=&gt;&quot;, 170, function (left) {</span></pre>
<pre><span class="lineno"><a href="#line_2888" id="line_2888"> 2888.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2889" id="line_2889"> 2889.</a></span><span class="count                ">      1</span><span>// cause: &quot;aa=&gt;0&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2890" id="line_2890"> 2890.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2891" id="line_2891"> 2891.</a></span><span class="count                ">      1</span><span>    return stop(&quot;wrap_parameter&quot;, left);</span></pre>
<pre><span class="lineno"><a href="#line_2892" id="line_2892"> 2892.</a></span><span class="count                ">      1</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_2893" id="line_2893"> 2893.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2894" id="line_2894"> 2894.</a></span><span class="count                ">     58</span><span>function do_tick() {</span></pre>
<pre><span class="lineno"><a href="#line_2895" id="line_2895"> 2895.</a></span><span class="count                ">     58</span><span>    const the_tick = token;</span></pre>
<pre><span class="lineno"><a href="#line_2896" id="line_2896"> 2896.</a></span><span class="count                ">     58</span><span>    the_tick.value = [];</span></pre>
<pre><span class="lineno"><a href="#line_2897" id="line_2897"> 2897.</a></span><span class="count                ">     58</span><span>    the_tick.expression = [];</span></pre>
<pre><span class="lineno"><a href="#line_2898" id="line_2898"> 2898.</a></span><span class="count                ">     58</span><span>    if (next_token.id !== &quot;`&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_2899" id="line_2899"> 2899.</a></span><span class="count                ">     94</span><span>        (function part() {</span></pre>
<pre><span class="lineno"><a href="#line_2900" id="line_2900"> 2900.</a></span><span class="count                ">     94</span><span>            advance(&quot;(string)&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2901" id="line_2901"> 2901.</a></span><span class="count                ">     94</span><span>            the_tick.value.push(token);</span></pre>
<pre><span class="lineno"><a href="#line_2902" id="line_2902"> 2902.</a></span><span class="count                ">     36</span><span>            if (next_token.id === &quot;${&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_2903" id="line_2903"> 2903.</a></span><span class="count                ">     36</span><span>                advance(&quot;${&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2904" id="line_2904"> 2904.</a></span><span class="count                ">     36</span><span>                the_tick.expression.push(expression(0));</span></pre>
<pre><span class="lineno"><a href="#line_2905" id="line_2905"> 2905.</a></span><span class="count                ">     36</span><span>                advance(&quot;}&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2906" id="line_2906"> 2906.</a></span><span class="count                ">     36</span><span>                return part();</span></pre>
<pre><span class="lineno"><a href="#line_2907" id="line_2907"> 2907.</a></span><span class="count                ">     36</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_2908" id="line_2908"> 2908.</a></span><span class="count                ">     94</span><span>        }());</span></pre>
<pre><span class="lineno"><a href="#line_2909" id="line_2909"> 2909.</a></span><span class="count                ">     58</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_2910" id="line_2910"> 2910.</a></span><span class="count                ">     58</span><span>    advance(&quot;`&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2911" id="line_2911"> 2911.</a></span><span class="count                ">     58</span><span>    return the_tick;</span></pre>
<pre><span class="lineno"><a href="#line_2912" id="line_2912"> 2912.</a></span><span class="count                ">     58</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_2913" id="line_2913"> 2913.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2914" id="line_2914"> 2914.</a></span><span class="count                ">     24</span><span>infix(&quot;`&quot;, 160, function (left) {</span></pre>
<pre><span class="lineno"><a href="#line_2915" id="line_2915"> 2915.</a></span><span class="count                ">     24</span><span>    const the_tick = do_tick();</span></pre>
<pre><span class="lineno"><a href="#line_2916" id="line_2916"> 2916.</a></span><span class="count                ">     24</span><span>    left_check(left, the_tick);</span></pre>
<pre><span class="lineno"><a href="#line_2917" id="line_2917"> 2917.</a></span><span class="count                ">     24</span><span>    the_tick.expression = [left].concat(the_tick.expression);</span></pre>
<pre><span class="lineno"><a href="#line_2918" id="line_2918"> 2918.</a></span><span class="count                ">     24</span><span>    return the_tick;</span></pre>
<pre><span class="lineno"><a href="#line_2919" id="line_2919"> 2919.</a></span><span class="count                ">     24</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_2920" id="line_2920"> 2920.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2921" id="line_2921"> 2921.</a></span><span class="count                ">      1</span><span>post(&quot;++&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2922" id="line_2922"> 2922.</a></span><span class="count                ">      1</span><span>post(&quot;--&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2923" id="line_2923"> 2923.</a></span><span class="count                ">      1</span><span>pre(&quot;++&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2924" id="line_2924"> 2924.</a></span><span class="count                ">      1</span><span>pre(&quot;--&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2925" id="line_2925"> 2925.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2926" id="line_2926"> 2926.</a></span><span class="count                ">      1</span><span>prefix(&quot;+&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2927" id="line_2927"> 2927.</a></span><span class="count                ">      1</span><span>prefix(&quot;-&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2928" id="line_2928"> 2928.</a></span><span class="count                ">      1</span><span>prefix(&quot;~&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2929" id="line_2929"> 2929.</a></span><span class="count                ">      1</span><span>prefix(&quot;!&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2930" id="line_2930"> 2930.</a></span><span class="count                ">      1</span><span>prefix(&quot;!!&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2931" id="line_2931"> 2931.</a></span><span class="count                ">    156</span><span>prefix(&quot;[&quot;, function () {</span></pre>
<pre><span class="lineno"><a href="#line_2932" id="line_2932"> 2932.</a></span><span class="count                ">    156</span><span>    const the_token = token;</span></pre>
<pre><span class="lineno"><a href="#line_2933" id="line_2933"> 2933.</a></span><span class="count                ">    156</span><span>    the_token.expression = [];</span></pre>
<pre><span class="lineno"><a href="#line_2934" id="line_2934"> 2934.</a></span><span class="count                ">     83</span><span>    if (next_token.id !== &quot;]&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_2935" id="line_2935"> 2935.</a></span><span class="count                ">    596</span><span>        (function next() {</span></pre>
<pre><span class="lineno"><a href="#line_2936" id="line_2936"> 2936.</a></span><span class="count                ">    596</span><span>            let element;</span></pre>
<pre><span class="lineno"><a href="#line_2937" id="line_2937"> 2937.</a></span><span class="count                ">    596</span><span>            let ellipsis = false;</span></pre>
<pre><span class="lineno"><a href="#line_2938" id="line_2938"> 2938.</a></span><span class="count                ">     83</span><span>            if (next_token.id === &quot;...&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_2939" id="line_2939"> 2939.</a></span><span class="count                ">     83</span><span>                ellipsis = true;</span></pre>
<pre><span class="lineno"><a href="#line_2940" id="line_2940"> 2940.</a></span><span class="count                ">     83</span><span>                advance(&quot;...&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2941" id="line_2941"> 2941.</a></span><span class="count                ">     83</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_2942" id="line_2942"> 2942.</a></span><span class="count                ">    596</span><span>            element = expression(10);</span></pre>
<pre><span class="lineno"><a href="#line_2943" id="line_2943"> 2943.</a></span><span class="count                ">     83</span><span>            if (ellipsis) {</span></pre>
<pre><span class="lineno"><a href="#line_2944" id="line_2944"> 2944.</a></span><span class="count                ">     83</span><span>                element.ellipsis = true;</span></pre>
<pre><span class="lineno"><a href="#line_2945" id="line_2945"> 2945.</a></span><span class="count                ">     83</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_2946" id="line_2946"> 2946.</a></span><span class="count                ">    596</span><span>            the_token.expression.push(element);</span></pre>
<pre><span class="lineno"><a href="#line_2947" id="line_2947"> 2947.</a></span><span class="count                ">    513</span><span>            if (next_token.id === &quot;,&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_2948" id="line_2948"> 2948.</a></span><span class="count                ">    513</span><span>                advance(&quot;,&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2949" id="line_2949"> 2949.</a></span><span class="count                ">    513</span><span>                return next();</span></pre>
<pre><span class="lineno"><a href="#line_2950" id="line_2950"> 2950.</a></span><span class="count                ">    513</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_2951" id="line_2951"> 2951.</a></span><span class="count                ">    596</span><span>        }());</span></pre>
<pre><span class="lineno"><a href="#line_2952" id="line_2952"> 2952.</a></span><span class="count                ">     83</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_2953" id="line_2953"> 2953.</a></span><span class="count                ">    156</span><span>    advance(&quot;]&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2954" id="line_2954"> 2954.</a></span><span class="count                ">    156</span><span>    return the_token;</span></pre>
<pre><span class="lineno"><a href="#line_2955" id="line_2955"> 2955.</a></span><span class="count                ">    156</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_2956" id="line_2956"> 2956.</a></span><span class="count                ">      1</span><span>prefix(&quot;/=&quot;, function () {</span></pre>
<pre><span class="lineno"><a href="#line_2957" id="line_2957"> 2957.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2958" id="line_2958"> 2958.</a></span><span class="count                ">      1</span><span>// cause: &quot;/=&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2959" id="line_2959"> 2959.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2960" id="line_2960"> 2960.</a></span><span class="count                ">      1</span><span>    stop(&quot;expected_a_b&quot;, token, &quot;/\\=&quot;, &quot;/=&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2961" id="line_2961"> 2961.</a></span><span class="count                ">      1</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_2962" id="line_2962"> 2962.</a></span><span class="count                ">      1</span><span>prefix(&quot;=&gt;&quot;, function () {</span></pre>
<pre><span class="lineno"><a href="#line_2963" id="line_2963"> 2963.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2964" id="line_2964"> 2964.</a></span><span class="count                ">      1</span><span>// cause: &quot;=&gt;0&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2965" id="line_2965"> 2965.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2966" id="line_2966"> 2966.</a></span><span class="count                ">      1</span><span>    return stop(&quot;expected_a_before_b&quot;, token, &quot;()&quot;, &quot;=&gt;&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2967" id="line_2967"> 2967.</a></span><span class="count                ">      1</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_2968" id="line_2968"> 2968.</a></span><span class="count                ">     30</span><span>prefix(&quot;new&quot;, function () {</span></pre>
<pre><span class="lineno"><a href="#line_2969" id="line_2969"> 2969.</a></span><span class="count                ">     30</span><span>    const the_new = token;</span></pre>
<pre><span class="lineno"><a href="#line_2970" id="line_2970"> 2970.</a></span><span class="count                ">     30</span><span>    const right = expression(160);</span></pre>
<pre><span class="lineno"><a href="#line_2971" id="line_2971"> 2971.</a></span><span class="count                ">      1</span><span>    if (next_token.id !== &quot;(&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_2972" id="line_2972"> 2972.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2973" id="line_2973"> 2973.</a></span><span class="count                ">      1</span><span>// cause: &quot;new aa&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2974" id="line_2974"> 2974.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2975" id="line_2975"> 2975.</a></span><span class="count                ">      1</span><span>        warn(&quot;expected_a_before_b&quot;, next_token, &quot;()&quot;, artifact(next_token));</span></pre>
<pre><span class="lineno"><a href="#line_2976" id="line_2976"> 2976.</a></span><span class="count                ">      1</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_2977" id="line_2977"> 2977.</a></span><span class="count                ">     30</span><span>    the_new.expression = right;</span></pre>
<pre><span class="lineno"><a href="#line_2978" id="line_2978"> 2978.</a></span><span class="count                ">     30</span><span>    return the_new;</span></pre>
<pre><span class="lineno"><a href="#line_2979" id="line_2979"> 2979.</a></span><span class="count                ">     30</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_2980" id="line_2980"> 2980.</a></span><span class="count                ">      1</span><span>prefix(&quot;typeof&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_2981" id="line_2981"> 2981.</a></span><span class="count                ">      2</span><span>prefix(&quot;void&quot;, function () {</span></pre>
<pre><span class="lineno"><a href="#line_2982" id="line_2982"> 2982.</a></span><span class="count                ">      2</span><span>    const the_void = token;</span></pre>
<pre><span class="lineno"><a href="#line_2983" id="line_2983"> 2983.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2984" id="line_2984"> 2984.</a></span><span class="count                ">      2</span><span>// cause: &quot;void&quot;</span></pre>
<pre><span class="lineno"><a href="#line_2985" id="line_2985"> 2985.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2986" id="line_2986"> 2986.</a></span><span class="count                ">      2</span><span>    warn(&quot;unexpected_a&quot;, the_void);</span></pre>
<pre><span class="lineno"><a href="#line_2987" id="line_2987"> 2987.</a></span><span class="count                ">      2</span><span>    the_void.expression = expression(0);</span></pre>
<pre><span class="lineno"><a href="#line_2988" id="line_2988"> 2988.</a></span><span class="count                ">      2</span><span>    return the_void;</span></pre>
<pre><span class="lineno"><a href="#line_2989" id="line_2989"> 2989.</a></span><span class="count                ">      2</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_2990" id="line_2990"> 2990.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_2991" id="line_2991"> 2991.</a></span><span class="count                ">    603</span><span>function parameter_list() {</span></pre>
<pre><span class="lineno"><a href="#line_2992" id="line_2992"> 2992.</a></span><span class="count                ">    603</span><span>    const list = [];</span></pre>
<pre><span class="lineno"><a href="#line_2993" id="line_2993"> 2993.</a></span><span class="count                ">    603</span><span>    let optional;</span></pre>
<pre><span class="lineno"><a href="#line_2994" id="line_2994"> 2994.</a></span><span class="count                ">    603</span><span>    const signature = [&quot;(&quot;];</span></pre>
<pre><span class="lineno"><a href="#line_2995" id="line_2995"> 2995.</a></span><span class="count                ">    338</span><span>    if (next_token.id !== &quot;)&quot; &amp;&amp; next_token.id !== &quot;(end)&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_2996" id="line_2996"> 2996.</a></span><span class="count                ">    485</span><span>        (function parameter() {</span></pre>
<pre><span class="lineno"><a href="#line_2997" id="line_2997"> 2997.</a></span><span class="count                ">    485</span><span>            let ellipsis = false;</span></pre>
<pre><span class="lineno"><a href="#line_2998" id="line_2998"> 2998.</a></span><span class="count                ">    485</span><span>            let param;</span></pre>
<pre><span class="lineno"><a href="#line_2999" id="line_2999"> 2999.</a></span><span class="count                ">    338</span><span>            if (next_token.id === &quot;{&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_3000" id="line_3000"> 3000.</a></span><span class="count                ">    338</span><span>                let a;</span></pre>
<pre><span class="lineno"><a href="#line_3001" id="line_3001"> 3001.</a></span><span class="count                ">    338</span><span>                let b = &quot;&quot;;</span></pre>
<pre><span class="lineno"><a href="#line_3002" id="line_3002"> 3002.</a></span><span class="count                ">    338</span><span>                if (optional !== undefined) {</span></pre>
<pre><span class="lineno"><a href="#line_3003" id="line_3003"> 3003.</a></span><span class="count                ">    338</span><span>                    warn(</span></pre>
<pre><span class="lineno"><a href="#line_3004" id="line_3004"> 3004.</a></span><span class="count                ">    338</span><span>                        &quot;required_a_optional_b&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_3005" id="line_3005"> 3005.</a></span><span class="count                ">    338</span><span>                        next_token,</span></pre>
<pre><span class="lineno"><a href="#line_3006" id="line_3006"> 3006.</a></span><span class="count                ">    338</span><span>                        next_token.id,</span></pre>
<pre><span class="lineno"><a href="#line_3007" id="line_3007"> 3007.</a></span><span class="count                ">    338</span><span>                        optional.id</span></pre>
<pre><span class="lineno"><a href="#line_3008" id="line_3008"> 3008.</a></span><span class="count                ">    338</span><span>                    );</span></pre>
<pre><span class="lineno"><a href="#line_3009" id="line_3009"> 3009.</a></span><span class="count                ">    338</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_3010" id="line_3010"> 3010.</a></span><span class="count                ">    338</span><span>                param = next_token;</span></pre>
<pre><span class="lineno"><a href="#line_3011" id="line_3011"> 3011.</a></span><span class="count                ">    338</span><span>                param.names = [];</span></pre>
<pre><span class="lineno"><a href="#line_3012" id="line_3012"> 3012.</a></span><span class="count                ">    338</span><span>                advance(&quot;{&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3013" id="line_3013"> 3013.</a></span><span class="count                ">    338</span><span>                signature.push(&quot;{&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3014" id="line_3014"> 3014.</a></span><span class="count                ">    338</span><span>                (function subparameter() {</span></pre>
<pre><span class="lineno"><a href="#line_3015" id="line_3015"> 3015.</a></span><span class="count                ">    338</span><span>                    let subparam = next_token;</span></pre>
<pre><span class="lineno"><a href="#line_3016" id="line_3016"> 3016.</a></span><span class="count                ">    338</span><span>                    if (!subparam.identifier) {</span></pre>
<pre><span class="lineno"><a href="#line_3017" id="line_3017"> 3017.</a></span><span class="count                ">    338</span><span>                        return stop(&quot;expected_identifier_a&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3018" id="line_3018"> 3018.</a></span><span class="count                ">    338</span><span>                    }</span></pre>
<pre><span class="lineno"><a href="#line_3019" id="line_3019"> 3019.</a></span><span class="count                ">    338</span><span>                    survey(subparam);</span></pre>
<pre><span class="lineno"><a href="#line_3020" id="line_3020"> 3020.</a></span><span class="count                ">    338</span><span>                    a = b;</span></pre>
<pre><span class="lineno"><a href="#line_3021" id="line_3021"> 3021.</a></span><span class="count                ">    338</span><span>                    b = String(subparam.value || subparam.id);</span></pre>
<pre><span class="lineno"><a href="#line_3022" id="line_3022"> 3022.</a></span><span class="count                ">    338</span><span>                    if (a &gt; b) {</span></pre>
<pre><span class="lineno"><a href="#line_3023" id="line_3023"> 3023.</a></span><span class="count                ">    338</span><span>                        if (!option.unordered) {</span></pre>
<pre><span class="lineno"><a href="#line_3024" id="line_3024"> 3024.</a></span><span class="count                ">    338</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3025" id="line_3025"> 3025.</a></span><span class="count                ">    338</span><span>// cause: &quot;function aa({bb,aa}){}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3026" id="line_3026"> 3026.</a></span><span class="count                ">    338</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3027" id="line_3027"> 3027.</a></span><span class="count                ">    338</span><span>                            warn(&quot;unordered_param_a&quot;, subparam);</span></pre>
<pre><span class="lineno"><a href="#line_3028" id="line_3028"> 3028.</a></span><span class="count                ">    338</span><span>                        }</span></pre>
<pre><span class="lineno"><a href="#line_3029" id="line_3029"> 3029.</a></span><span class="count                ">    338</span><span>                    }</span></pre>
<pre><span class="lineno"><a href="#line_3030" id="line_3030"> 3030.</a></span><span class="count                ">    338</span><span>                    advance();</span></pre>
<pre><span class="lineno"><a href="#line_3031" id="line_3031"> 3031.</a></span><span class="count                ">    338</span><span>                    signature.push(subparam.id);</span></pre>
<pre><span class="lineno"><a href="#line_3032" id="line_3032"> 3032.</a></span><span class="count                ">    338</span><span>                    if (next_token.id === &quot;:&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_3033" id="line_3033"> 3033.</a></span><span class="count                ">    338</span><span>                        advance(&quot;:&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3034" id="line_3034"> 3034.</a></span><span class="count                ">    338</span><span>                        advance();</span></pre>
<pre><span class="lineno"><a href="#line_3035" id="line_3035"> 3035.</a></span><span class="count                ">    338</span><span>                        token.label = subparam;</span></pre>
<pre><span class="lineno"><a href="#line_3036" id="line_3036"> 3036.</a></span><span class="count                ">    338</span><span>                        subparam = token;</span></pre>
<pre><span class="lineno"><a href="#line_3037" id="line_3037"> 3037.</a></span><span class="count                ">    338</span><span>                        if (!subparam.identifier) {</span></pre>
<pre><span class="lineno"><a href="#line_3038" id="line_3038"> 3038.</a></span><span class="count                ">    338</span><span>                            return stop(&quot;expected_identifier_a&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3039" id="line_3039"> 3039.</a></span><span class="count                ">    338</span><span>                        }</span></pre>
<pre><span class="lineno"><a href="#line_3040" id="line_3040"> 3040.</a></span><span class="count                ">    338</span><span>                    }</span></pre>
<pre><span class="lineno"><a href="#line_3041" id="line_3041"> 3041.</a></span><span class="count                ">    338</span><span>                    if (next_token.id === &quot;=&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_3042" id="line_3042"> 3042.</a></span><span class="count                ">    338</span><span>                        advance(&quot;=&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3043" id="line_3043"> 3043.</a></span><span class="count                ">    338</span><span>                        subparam.expression = expression();</span></pre>
<pre><span class="lineno"><a href="#line_3044" id="line_3044"> 3044.</a></span><span class="count                ">    338</span><span>                        param.open = true;</span></pre>
<pre><span class="lineno"><a href="#line_3045" id="line_3045"> 3045.</a></span><span class="count                ">    338</span><span>                    }</span></pre>
<pre><span class="lineno"><a href="#line_3046" id="line_3046"> 3046.</a></span><span class="count                ">    338</span><span>                    param.names.push(subparam);</span></pre>
<pre><span class="lineno"><a href="#line_3047" id="line_3047"> 3047.</a></span><span class="count                ">    338</span><span>                    if (next_token.id === &quot;,&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_3048" id="line_3048"> 3048.</a></span><span class="count                ">    338</span><span>                        advance(&quot;,&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3049" id="line_3049"> 3049.</a></span><span class="count                ">    338</span><span>                        signature.push(&quot;, &quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3050" id="line_3050"> 3050.</a></span><span class="count                ">    338</span><span>                        return subparameter();</span></pre>
<pre><span class="lineno"><a href="#line_3051" id="line_3051"> 3051.</a></span><span class="count                ">    338</span><span>                    }</span></pre>
<pre><span class="lineno"><a href="#line_3052" id="line_3052"> 3052.</a></span><span class="count                ">    338</span><span>                }());</span></pre>
<pre><span class="lineno"><a href="#line_3053" id="line_3053"> 3053.</a></span><span class="count                ">    338</span><span>                list.push(param);</span></pre>
<pre><span class="lineno"><a href="#line_3054" id="line_3054"> 3054.</a></span><span class="count                ">    338</span><span>                advance(&quot;}&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3055" id="line_3055"> 3055.</a></span><span class="count                ">    338</span><span>                signature.push(&quot;}&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3056" id="line_3056"> 3056.</a></span><span class="count                ">    338</span><span>                if (next_token.id === &quot;,&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_3057" id="line_3057"> 3057.</a></span><span class="count                ">    338</span><span>                    advance(&quot;,&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3058" id="line_3058"> 3058.</a></span><span class="count                ">    338</span><span>                    signature.push(&quot;, &quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3059" id="line_3059"> 3059.</a></span><span class="count                ">    338</span><span>                    return parameter();</span></pre>
<pre><span class="lineno"><a href="#line_3060" id="line_3060"> 3060.</a></span><span class="count                ">    338</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_3061" id="line_3061"> 3061.</a></span><span class="count                ">    458</span><span>            } else if (next_token.id === &quot;[&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_3062" id="line_3062"> 3062.</a></span><span class="count                ">    458</span><span>                if (optional !== undefined) {</span></pre>
<pre><span class="lineno"><a href="#line_3063" id="line_3063"> 3063.</a></span><span class="count                ">    458</span><span>                    warn(</span></pre>
<pre><span class="lineno"><a href="#line_3064" id="line_3064"> 3064.</a></span><span class="count                ">    458</span><span>                        &quot;required_a_optional_b&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_3065" id="line_3065"> 3065.</a></span><span class="count                ">    458</span><span>                        next_token,</span></pre>
<pre><span class="lineno"><a href="#line_3066" id="line_3066"> 3066.</a></span><span class="count                ">    458</span><span>                        next_token.id,</span></pre>
<pre><span class="lineno"><a href="#line_3067" id="line_3067"> 3067.</a></span><span class="count                ">    458</span><span>                        optional.id</span></pre>
<pre><span class="lineno"><a href="#line_3068" id="line_3068"> 3068.</a></span><span class="count                ">    458</span><span>                    );</span></pre>
<pre><span class="lineno"><a href="#line_3069" id="line_3069"> 3069.</a></span><span class="count                ">    458</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_3070" id="line_3070"> 3070.</a></span><span class="count                ">    458</span><span>                param = next_token;</span></pre>
<pre><span class="lineno"><a href="#line_3071" id="line_3071"> 3071.</a></span><span class="count                ">    458</span><span>                param.names = [];</span></pre>
<pre><span class="lineno"><a href="#line_3072" id="line_3072"> 3072.</a></span><span class="count                ">    458</span><span>                advance(&quot;[&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3073" id="line_3073"> 3073.</a></span><span class="count                ">    458</span><span>                signature.push(&quot;[]&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3074" id="line_3074"> 3074.</a></span><span class="count                ">    458</span><span>                (function subparameter() {</span></pre>
<pre><span class="lineno"><a href="#line_3075" id="line_3075"> 3075.</a></span><span class="count                ">    458</span><span>                    const subparam = next_token;</span></pre>
<pre><span class="lineno"><a href="#line_3076" id="line_3076"> 3076.</a></span><span class="count                ">    458</span><span>                    if (!subparam.identifier) {</span></pre>
<pre><span class="lineno"><a href="#line_3077" id="line_3077"> 3077.</a></span><span class="count                ">    458</span><span>                        return stop(&quot;expected_identifier_a&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3078" id="line_3078"> 3078.</a></span><span class="count                ">    458</span><span>                    }</span></pre>
<pre><span class="lineno"><a href="#line_3079" id="line_3079"> 3079.</a></span><span class="count                ">    458</span><span>                    advance();</span></pre>
<pre><span class="lineno"><a href="#line_3080" id="line_3080"> 3080.</a></span><span class="count                ">    458</span><span>                    param.names.push(subparam);</span></pre>
<pre><span class="lineno"><a href="#line_3081" id="line_3081"> 3081.</a></span><span class="count                ">    458</span><span>                    if (next_token.id === &quot;=&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_3082" id="line_3082"> 3082.</a></span><span class="count                ">    458</span><span>                        advance(&quot;=&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3083" id="line_3083"> 3083.</a></span><span class="count                ">    458</span><span>                        subparam.expression = expression();</span></pre>
<pre><span class="lineno"><a href="#line_3084" id="line_3084"> 3084.</a></span><span class="count                ">    458</span><span>                        param.open = true;</span></pre>
<pre><span class="lineno"><a href="#line_3085" id="line_3085"> 3085.</a></span><span class="count                ">    458</span><span>                    }</span></pre>
<pre><span class="lineno"><a href="#line_3086" id="line_3086"> 3086.</a></span><span class="count                ">    458</span><span>                    if (next_token.id === &quot;,&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_3087" id="line_3087"> 3087.</a></span><span class="count                ">    458</span><span>                        advance(&quot;,&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3088" id="line_3088"> 3088.</a></span><span class="count                ">    458</span><span>                        return subparameter();</span></pre>
<pre><span class="lineno"><a href="#line_3089" id="line_3089"> 3089.</a></span><span class="count                ">    458</span><span>                    }</span></pre>
<pre><span class="lineno"><a href="#line_3090" id="line_3090"> 3090.</a></span><span class="count                ">    458</span><span>                }());</span></pre>
<pre><span class="lineno"><a href="#line_3091" id="line_3091"> 3091.</a></span><span class="count                ">    458</span><span>                list.push(param);</span></pre>
<pre><span class="lineno"><a href="#line_3092" id="line_3092"> 3092.</a></span><span class="count                ">    458</span><span>                advance(&quot;]&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3093" id="line_3093"> 3093.</a></span><span class="count                ">    458</span><span>                if (next_token.id === &quot;,&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_3094" id="line_3094"> 3094.</a></span><span class="count                ">    458</span><span>                    advance(&quot;,&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3095" id="line_3095"> 3095.</a></span><span class="count                ">    458</span><span>                    signature.push(&quot;, &quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3096" id="line_3096"> 3096.</a></span><span class="count                ">    458</span><span>                    return parameter();</span></pre>
<pre><span class="lineno"><a href="#line_3097" id="line_3097"> 3097.</a></span><span class="count                ">    458</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_3098" id="line_3098"> 3098.</a></span><span class="count                ">    458</span><span>            } else {</span></pre>
<pre><span class="lineno"><a href="#line_3099" id="line_3099"> 3099.</a></span><span class="count                ">    458</span><span>                if (next_token.id === &quot;...&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_3100" id="line_3100"> 3100.</a></span><span class="count                ">    458</span><span>                    ellipsis = true;</span></pre>
<pre><span class="lineno"><a href="#line_3101" id="line_3101"> 3101.</a></span><span class="count                ">    458</span><span>                    signature.push(&quot;...&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3102" id="line_3102"> 3102.</a></span><span class="count                ">    458</span><span>                    advance(&quot;...&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3103" id="line_3103"> 3103.</a></span><span class="count                ">    458</span><span>                    if (optional !== undefined) {</span></pre>
<pre><span class="lineno"><a href="#line_3104" id="line_3104"> 3104.</a></span><span class="count                ">    458</span><span>                        warn(</span></pre>
<pre><span class="lineno"><a href="#line_3105" id="line_3105"> 3105.</a></span><span class="count                ">    458</span><span>                            &quot;required_a_optional_b&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_3106" id="line_3106"> 3106.</a></span><span class="count                ">    458</span><span>                            next_token,</span></pre>
<pre><span class="lineno"><a href="#line_3107" id="line_3107"> 3107.</a></span><span class="count                ">    458</span><span>                            next_token.id,</span></pre>
<pre><span class="lineno"><a href="#line_3108" id="line_3108"> 3108.</a></span><span class="count                ">    458</span><span>                            optional.id</span></pre>
<pre><span class="lineno"><a href="#line_3109" id="line_3109"> 3109.</a></span><span class="count                ">    458</span><span>                        );</span></pre>
<pre><span class="lineno"><a href="#line_3110" id="line_3110"> 3110.</a></span><span class="count                ">    458</span><span>                    }</span></pre>
<pre><span class="lineno"><a href="#line_3111" id="line_3111"> 3111.</a></span><span class="count                ">    458</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_3112" id="line_3112"> 3112.</a></span><span class="count                ">    458</span><span>                if (!next_token.identifier) {</span></pre>
<pre><span class="lineno"><a href="#line_3113" id="line_3113"> 3113.</a></span><span class="count                ">    458</span><span>                    return stop(&quot;expected_identifier_a&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3114" id="line_3114"> 3114.</a></span><span class="count                ">    458</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_3115" id="line_3115"> 3115.</a></span><span class="count                ">    458</span><span>                param = next_token;</span></pre>
<pre><span class="lineno"><a href="#line_3116" id="line_3116"> 3116.</a></span><span class="count                ">    458</span><span>                list.push(param);</span></pre>
<pre><span class="lineno"><a href="#line_3117" id="line_3117"> 3117.</a></span><span class="count                ">    458</span><span>                advance();</span></pre>
<pre><span class="lineno"><a href="#line_3118" id="line_3118"> 3118.</a></span><span class="count                ">    458</span><span>                signature.push(param.id);</span></pre>
<pre><span class="lineno"><a href="#line_3119" id="line_3119"> 3119.</a></span><span class="count                ">    458</span><span>                if (ellipsis) {</span></pre>
<pre><span class="lineno"><a href="#line_3120" id="line_3120"> 3120.</a></span><span class="count                ">    458</span><span>                    param.ellipsis = true;</span></pre>
<pre><span class="lineno"><a href="#line_3121" id="line_3121"> 3121.</a></span><span class="count                ">    458</span><span>                } else {</span></pre>
<pre><span class="lineno"><a href="#line_3122" id="line_3122"> 3122.</a></span><span class="count                ">    458</span><span>                    if (next_token.id === &quot;=&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_3123" id="line_3123"> 3123.</a></span><span class="count                ">    458</span><span>                        optional = param;</span></pre>
<pre><span class="lineno"><a href="#line_3124" id="line_3124"> 3124.</a></span><span class="count                ">    458</span><span>                        advance(&quot;=&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3125" id="line_3125"> 3125.</a></span><span class="count                ">    458</span><span>                        param.expression = expression(0);</span></pre>
<pre><span class="lineno"><a href="#line_3126" id="line_3126"> 3126.</a></span><span class="count                ">    458</span><span>                    } else {</span></pre>
<pre><span class="lineno"><a href="#line_3127" id="line_3127"> 3127.</a></span><span class="count                ">    458</span><span>                        if (optional !== undefined) {</span></pre>
<pre><span class="lineno"><a href="#line_3128" id="line_3128"> 3128.</a></span><span class="count                ">    458</span><span>                            warn(</span></pre>
<pre><span class="lineno"><a href="#line_3129" id="line_3129"> 3129.</a></span><span class="count                ">    458</span><span>                                &quot;required_a_optional_b&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_3130" id="line_3130"> 3130.</a></span><span class="count                ">    458</span><span>                                param,</span></pre>
<pre><span class="lineno"><a href="#line_3131" id="line_3131"> 3131.</a></span><span class="count                ">    458</span><span>                                param.id,</span></pre>
<pre><span class="lineno"><a href="#line_3132" id="line_3132"> 3132.</a></span><span class="count                ">    458</span><span>                                optional.id</span></pre>
<pre><span class="lineno"><a href="#line_3133" id="line_3133"> 3133.</a></span><span class="count                ">    458</span><span>                            );</span></pre>
<pre><span class="lineno"><a href="#line_3134" id="line_3134"> 3134.</a></span><span class="count                ">    458</span><span>                        }</span></pre>
<pre><span class="lineno"><a href="#line_3135" id="line_3135"> 3135.</a></span><span class="count                ">    458</span><span>                    }</span></pre>
<pre><span class="lineno"><a href="#line_3136" id="line_3136"> 3136.</a></span><span class="count                ">    458</span><span>                    if (next_token.id === &quot;,&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_3137" id="line_3137"> 3137.</a></span><span class="count                ">    458</span><span>                        advance(&quot;,&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3138" id="line_3138"> 3138.</a></span><span class="count                ">    458</span><span>                        signature.push(&quot;, &quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3139" id="line_3139"> 3139.</a></span><span class="count                ">    458</span><span>                        return parameter();</span></pre>
<pre><span class="lineno"><a href="#line_3140" id="line_3140"> 3140.</a></span><span class="count                ">    458</span><span>                    }</span></pre>
<pre><span class="lineno"><a href="#line_3141" id="line_3141"> 3141.</a></span><span class="count                ">    458</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_3142" id="line_3142"> 3142.</a></span><span class="count                ">    458</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_3143" id="line_3143"> 3143.</a></span><span class="count                ">    485</span><span>        }());</span></pre>
<pre><span class="lineno"><a href="#line_3144" id="line_3144"> 3144.</a></span><span class="count                ">    597</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_3145" id="line_3145"> 3145.</a></span><span class="count                ">    597</span><span>    advance(&quot;)&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3146" id="line_3146"> 3146.</a></span><span class="count                ">    597</span><span>    signature.push(&quot;)&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3147" id="line_3147"> 3147.</a></span><span class="count                ">    597</span><span>    return [list, signature.join(&quot;&quot;)];</span></pre>
<pre><span class="lineno"><a href="#line_3148" id="line_3148"> 3148.</a></span><span class="count                ">    597</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_3149" id="line_3149"> 3149.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3150" id="line_3150"> 3150.</a></span><span class="count                ">    600</span><span>function do_function(the_function) {</span></pre>
<pre><span class="lineno"><a href="#line_3151" id="line_3151"> 3151.</a></span><span class="count                ">    600</span><span>    let name;</span></pre>
<pre><span class="lineno"><a href="#line_3152" id="line_3152"> 3152.</a></span><span class="count                ">    590</span><span>    if (the_function === undefined) {</span></pre>
<pre><span class="lineno"><a href="#line_3153" id="line_3153"> 3153.</a></span><span class="count                ">    590</span><span>        the_function = token;</span></pre>
<pre><span class="lineno"><a href="#line_3154" id="line_3154"> 3154.</a></span><span class="count                ">    590</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3155" id="line_3155"> 3155.</a></span><span class="count                ">    590</span><span>// A function statement must have a name that will be in the parent&apos;s scope.</span></pre>
<pre><span class="lineno"><a href="#line_3156" id="line_3156"> 3156.</a></span><span class="count                ">    590</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3157" id="line_3157"> 3157.</a></span><span class="count                ">    590</span><span>        if (the_function.arity === &quot;statement&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_3158" id="line_3158"> 3158.</a></span><span class="count                ">    590</span><span>            if (!next_token.identifier) {</span></pre>
<pre><span class="lineno"><a href="#line_3159" id="line_3159"> 3159.</a></span><span class="count                ">    590</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3160" id="line_3160"> 3160.</a></span><span class="count                ">    590</span><span>// cause: &quot;function*aa(){}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3161" id="line_3161"> 3161.</a></span><span class="count                ">    590</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3162" id="line_3162"> 3162.</a></span><span class="count                ">    590</span><span>                return stop(&quot;expected_identifier_a&quot;, next_token);</span></pre>
<pre><span class="lineno"><a href="#line_3163" id="line_3163"> 3163.</a></span><span class="count                ">    590</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_3164" id="line_3164"> 3164.</a></span><span class="count                ">    590</span><span>            name = next_token;</span></pre>
<pre><span class="lineno"><a href="#line_3165" id="line_3165"> 3165.</a></span><span class="count                ">    590</span><span>            enroll(name, &quot;variable&quot;, true);</span></pre>
<pre><span class="lineno"><a href="#line_3166" id="line_3166"> 3166.</a></span><span class="count                ">    590</span><span>            the_function.name = name;</span></pre>
<pre><span class="lineno"><a href="#line_3167" id="line_3167"> 3167.</a></span><span class="count                ">    590</span><span>            name.init = true;</span></pre>
<pre><span class="lineno"><a href="#line_3168" id="line_3168"> 3168.</a></span><span class="count                ">    590</span><span>            name.calls = empty();</span></pre>
<pre><span class="lineno"><a href="#line_3169" id="line_3169"> 3169.</a></span><span class="count                ">    590</span><span>            advance();</span></pre>
<pre><span class="lineno"><a href="#line_3170" id="line_3170"> 3170.</a></span><span class="count                ">    590</span><span>        } else if (name === undefined) {</span></pre>
<pre><span class="lineno"><a href="#line_3171" id="line_3171"> 3171.</a></span><span class="count                ">    590</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3172" id="line_3172"> 3172.</a></span><span class="count                ">    590</span><span>// A function expression may have an optional name.</span></pre>
<pre><span class="lineno"><a href="#line_3173" id="line_3173"> 3173.</a></span><span class="count                ">    590</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3174" id="line_3174"> 3174.</a></span><span class="count                ">    590</span><span>            if (next_token.identifier) {</span></pre>
<pre><span class="lineno"><a href="#line_3175" id="line_3175"> 3175.</a></span><span class="count                ">    590</span><span>                name = next_token;</span></pre>
<pre><span class="lineno"><a href="#line_3176" id="line_3176"> 3176.</a></span><span class="count                ">    590</span><span>                the_function.name = name;</span></pre>
<pre><span class="lineno"><a href="#line_3177" id="line_3177"> 3177.</a></span><span class="count                ">    590</span><span>                advance();</span></pre>
<pre><span class="lineno"><a href="#line_3178" id="line_3178"> 3178.</a></span><span class="count                ">    590</span><span>            } else {</span></pre>
<pre><span class="lineno"><a href="#line_3179" id="line_3179"> 3179.</a></span><span class="count                ">    590</span><span>                the_function.name = anon;</span></pre>
<pre><span class="lineno"><a href="#line_3180" id="line_3180"> 3180.</a></span><span class="count                ">    590</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_3181" id="line_3181"> 3181.</a></span><span class="count                ">    590</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_3182" id="line_3182"> 3182.</a></span><span class="count                ">    590</span><span>    } else {</span></pre>
<pre><span class="lineno"><a href="#line_3183" id="line_3183"> 3183.</a></span><span class="count                ">     10</span><span>        name = the_function.name;</span></pre>
<pre><span class="lineno"><a href="#line_3184" id="line_3184"> 3184.</a></span><span class="count                ">    596</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_3185" id="line_3185"> 3185.</a></span><span class="count                ">    596</span><span>    the_function.level = functionage.level + 1;</span></pre>
<pre><span class="lineno"><a href="#line_3186" id="line_3186"> 3186.</a></span><span class="count                ">    596</span><span>    assert_or_throw(!mega_mode, &quot;Expected !mega_mode.&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3187" id="line_3187"> 3187.</a></span><span class="count                ">    596</span><span>//  Probably deadcode.</span></pre>
<pre><span class="lineno"><a href="#line_3188" id="line_3188"> 3188.</a></span><span class="count                ">    596</span><span>//  if (mega_mode) {</span></pre>
<pre><span class="lineno"><a href="#line_3189" id="line_3189"> 3189.</a></span><span class="count                ">    596</span><span>//      warn(&quot;unexpected_a&quot;, the_function);</span></pre>
<pre><span class="lineno"><a href="#line_3190" id="line_3190"> 3190.</a></span><span class="count                ">    596</span><span>//  }</span></pre>
<pre><span class="lineno"><a href="#line_3191" id="line_3191"> 3191.</a></span><span class="count                ">    596</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3192" id="line_3192"> 3192.</a></span><span class="count                ">    596</span><span>// Don&apos;t make functions in loops. It is inefficient, and it can lead to scoping</span></pre>
<pre><span class="lineno"><a href="#line_3193" id="line_3193"> 3193.</a></span><span class="count                ">    596</span><span>// errors.</span></pre>
<pre><span class="lineno"><a href="#line_3194" id="line_3194"> 3194.</a></span><span class="count                ">    596</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3195" id="line_3195"> 3195.</a></span><span class="count                ">    596</span><span>    if (functionage.loop &gt; 0) {</span></pre>
<pre><span class="lineno"><a href="#line_3196" id="line_3196"> 3196.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3197" id="line_3197"> 3197.</a></span><span class="count                ">      1</span><span>// cause: &quot;while(0){aa.map(function(){});}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3198" id="line_3198"> 3198.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3199" id="line_3199"> 3199.</a></span><span class="count                ">      1</span><span>        warn(&quot;function_in_loop&quot;, the_function);</span></pre>
<pre><span class="lineno"><a href="#line_3200" id="line_3200"> 3200.</a></span><span class="count                ">    596</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_3201" id="line_3201"> 3201.</a></span><span class="count                ">    596</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3202" id="line_3202"> 3202.</a></span><span class="count                ">    596</span><span>// Give the function properties for storing its names and for observing the</span></pre>
<pre><span class="lineno"><a href="#line_3203" id="line_3203"> 3203.</a></span><span class="count                ">    596</span><span>// depth of loops and switches.</span></pre>
<pre><span class="lineno"><a href="#line_3204" id="line_3204"> 3204.</a></span><span class="count                ">    596</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3205" id="line_3205"> 3205.</a></span><span class="count                ">    596</span><span>    the_function.context = empty();</span></pre>
<pre><span class="lineno"><a href="#line_3206" id="line_3206"> 3206.</a></span><span class="count                ">    596</span><span>    the_function.finally = 0;</span></pre>
<pre><span class="lineno"><a href="#line_3207" id="line_3207"> 3207.</a></span><span class="count                ">    596</span><span>    the_function.loop = 0;</span></pre>
<pre><span class="lineno"><a href="#line_3208" id="line_3208"> 3208.</a></span><span class="count                ">    596</span><span>    the_function.switch = 0;</span></pre>
<pre><span class="lineno"><a href="#line_3209" id="line_3209"> 3209.</a></span><span class="count                ">    596</span><span>    the_function.try = 0;</span></pre>
<pre><span class="lineno"><a href="#line_3210" id="line_3210"> 3210.</a></span><span class="count                ">    596</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3211" id="line_3211"> 3211.</a></span><span class="count                ">    596</span><span>// Push the current function context and establish a new one.</span></pre>
<pre><span class="lineno"><a href="#line_3212" id="line_3212"> 3212.</a></span><span class="count                ">    596</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3213" id="line_3213"> 3213.</a></span><span class="count                ">    596</span><span>    stack.push(functionage);</span></pre>
<pre><span class="lineno"><a href="#line_3214" id="line_3214"> 3214.</a></span><span class="count                ">    596</span><span>    functions.push(the_function);</span></pre>
<pre><span class="lineno"><a href="#line_3215" id="line_3215"> 3215.</a></span><span class="count                ">    596</span><span>    functionage = the_function;</span></pre>
<pre><span class="lineno"><a href="#line_3216" id="line_3216"> 3216.</a></span><span class="count                ">    596</span><span>    if (the_function.arity !== &quot;statement&quot; &amp;&amp; typeof name === &quot;object&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_3217" id="line_3217"> 3217.</a></span><span class="count                ">     59</span><span>        enroll(name, &quot;function&quot;, true);</span></pre>
<pre><span class="lineno"><a href="#line_3218" id="line_3218"> 3218.</a></span><span class="count                ">     59</span><span>        name.dead = false;</span></pre>
<pre><span class="lineno"><a href="#line_3219" id="line_3219"> 3219.</a></span><span class="count                ">     59</span><span>        name.init = true;</span></pre>
<pre><span class="lineno"><a href="#line_3220" id="line_3220"> 3220.</a></span><span class="count                ">     59</span><span>        name.used = 1;</span></pre>
<pre><span class="lineno"><a href="#line_3221" id="line_3221"> 3221.</a></span><span class="count                ">    596</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_3222" id="line_3222"> 3222.</a></span><span class="count                ">    596</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3223" id="line_3223"> 3223.</a></span><span class="count                ">    596</span><span>// Parse the parameter list.</span></pre>
<pre><span class="lineno"><a href="#line_3224" id="line_3224"> 3224.</a></span><span class="count                ">    596</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3225" id="line_3225"> 3225.</a></span><span class="count                ">    596</span><span>    advance(&quot;(&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3226" id="line_3226"> 3226.</a></span><span class="count                ">    596</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3227" id="line_3227"> 3227.</a></span><span class="count                ">    596</span><span>// cause: &quot;function(){}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3228" id="line_3228"> 3228.</a></span><span class="count                ">    596</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3229" id="line_3229"> 3229.</a></span><span class="count                ">    596</span><span>    token.free = false;</span></pre>
<pre><span class="lineno"><a href="#line_3230" id="line_3230"> 3230.</a></span><span class="count                ">    596</span><span>    token.arity = &quot;function&quot;;</span></pre>
<pre><span class="lineno"><a href="#line_3231" id="line_3231"> 3231.</a></span><span class="count                ">    596</span><span>    [functionage.parameters, functionage.signature] = parameter_list();</span></pre>
<pre><span class="lineno"><a href="#line_3232" id="line_3232"> 3232.</a></span><span class="count                ">    596</span><span>    functionage.parameters.forEach(function enroll_parameter(name) {</span></pre>
<pre><span class="lineno"><a href="#line_3233" id="line_3233"> 3233.</a></span><span class="count                ">    596</span><span>        if (name.identifier) {</span></pre>
<pre><span class="lineno"><a href="#line_3234" id="line_3234"> 3234.</a></span><span class="count                ">    596</span><span>            enroll(name, &quot;parameter&quot;, false);</span></pre>
<pre><span class="lineno"><a href="#line_3235" id="line_3235"> 3235.</a></span><span class="count                ">    596</span><span>        } else {</span></pre>
<pre><span class="lineno"><a href="#line_3236" id="line_3236"> 3236.</a></span><span class="count                ">    596</span><span>            name.names.forEach(enroll_parameter);</span></pre>
<pre><span class="lineno"><a href="#line_3237" id="line_3237"> 3237.</a></span><span class="count                ">    596</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_3238" id="line_3238"> 3238.</a></span><span class="count                ">    596</span><span>    });</span></pre>
<pre><span class="lineno"><a href="#line_3239" id="line_3239"> 3239.</a></span><span class="count                ">    596</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3240" id="line_3240"> 3240.</a></span><span class="count                ">    596</span><span>// The function&apos;s body is a block.</span></pre>
<pre><span class="lineno"><a href="#line_3241" id="line_3241"> 3241.</a></span><span class="count                ">    596</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3242" id="line_3242"> 3242.</a></span><span class="count                ">    596</span><span>    the_function.block = block(&quot;body&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3243" id="line_3243"> 3243.</a></span><span class="count                ">    596</span><span>    if (</span></pre>
<pre><span class="lineno"><a href="#line_3244" id="line_3244"> 3244.</a></span><span class="count                ">    596</span><span>        the_function.arity === &quot;statement&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3245" id="line_3245"> 3245.</a></span><span class="count                ">    596</span><span>        &amp;&amp; next_token.line === token.line</span></pre>
<pre><span class="lineno"><a href="#line_3246" id="line_3246"> 3246.</a></span><span class="count                ">      2</span><span>    ) {</span></pre>
<pre><span class="lineno"><a href="#line_3247" id="line_3247"> 3247.</a></span><span class="count                ">      2</span><span>        return stop(&quot;unexpected_a&quot;, next_token);</span></pre>
<pre><span class="lineno"><a href="#line_3248" id="line_3248"> 3248.</a></span><span class="count                ">    586</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_3249" id="line_3249"> 3249.</a></span><span class="count                ">    586</span><span>    if (</span></pre>
<pre><span class="lineno"><a href="#line_3250" id="line_3250"> 3250.</a></span><span class="count                ">    586</span><span>        next_token.id === &quot;.&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3251" id="line_3251"> 3251.</a></span><span class="count                ">    586</span><span>        || next_token.id === &quot;?.&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3252" id="line_3252"> 3252.</a></span><span class="count                ">    586</span><span>        || next_token.id === &quot;[&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3253" id="line_3253"> 3253.</a></span><span class="count                ">      1</span><span>    ) {</span></pre>
<pre><span class="lineno"><a href="#line_3254" id="line_3254"> 3254.</a></span><span class="count                ">      1</span><span>        warn(&quot;unexpected_a&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3255" id="line_3255"> 3255.</a></span><span class="count                ">    586</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_3256" id="line_3256"> 3256.</a></span><span class="count                ">    586</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3257" id="line_3257"> 3257.</a></span><span class="count                ">    586</span><span>// Restore the previous context.</span></pre>
<pre><span class="lineno"><a href="#line_3258" id="line_3258"> 3258.</a></span><span class="count                ">    586</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3259" id="line_3259"> 3259.</a></span><span class="count                ">    586</span><span>    functionage = stack.pop();</span></pre>
<pre><span class="lineno"><a href="#line_3260" id="line_3260"> 3260.</a></span><span class="count                ">    586</span><span>    return the_function;</span></pre>
<pre><span class="lineno"><a href="#line_3261" id="line_3261"> 3261.</a></span><span class="count                ">    586</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_3262" id="line_3262"> 3262.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3263" id="line_3263"> 3263.</a></span><span class="count                ">     16</span><span>function do_async() {</span></pre>
<pre><span class="lineno"><a href="#line_3264" id="line_3264"> 3264.</a></span><span class="count                ">     16</span><span>    let the_async;</span></pre>
<pre><span class="lineno"><a href="#line_3265" id="line_3265"> 3265.</a></span><span class="count                ">     16</span><span>    let the_function;</span></pre>
<pre><span class="lineno"><a href="#line_3266" id="line_3266"> 3266.</a></span><span class="count                ">     16</span><span>    the_async = token;</span></pre>
<pre><span class="lineno"><a href="#line_3267" id="line_3267"> 3267.</a></span><span class="count                ">     16</span><span>    advance(&quot;function&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3268" id="line_3268"> 3268.</a></span><span class="count                ">     16</span><span>    the_function = token;</span></pre>
<pre><span class="lineno"><a href="#line_3269" id="line_3269"> 3269.</a></span><span class="count                ">     16</span><span>    the_function.is_async = true;</span></pre>
<pre><span class="lineno"><a href="#line_3270" id="line_3270"> 3270.</a></span><span class="count                ">     16</span><span>    the_function.arity = the_async.arity;</span></pre>
<pre><span class="lineno"><a href="#line_3271" id="line_3271"> 3271.</a></span><span class="count                ">     16</span><span>    do_function();</span></pre>
<pre><span class="lineno"><a href="#line_3272" id="line_3272"> 3272.</a></span><span class="count                ">      1</span><span>    if (!the_function.has_await) {</span></pre>
<pre><span class="lineno"><a href="#line_3273" id="line_3273"> 3273.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3274" id="line_3274"> 3274.</a></span><span class="count                ">      1</span><span>// cause: &quot;async function aa(){}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3275" id="line_3275"> 3275.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3276" id="line_3276"> 3276.</a></span><span class="count                ">      1</span><span>        warn(&quot;missing_await_statement&quot;, the_function);</span></pre>
<pre><span class="lineno"><a href="#line_3277" id="line_3277"> 3277.</a></span><span class="count                ">     15</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_3278" id="line_3278"> 3278.</a></span><span class="count                ">     15</span><span>    return the_function;</span></pre>
<pre><span class="lineno"><a href="#line_3279" id="line_3279"> 3279.</a></span><span class="count                ">     15</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_3280" id="line_3280"> 3280.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3281" id="line_3281"> 3281.</a></span><span class="count                ">      1</span><span>prefix(&quot;async&quot;, do_async);</span></pre>
<pre><span class="lineno"><a href="#line_3282" id="line_3282"> 3282.</a></span><span class="count                ">      1</span><span>prefix(&quot;function&quot;, do_function);</span></pre>
<pre><span class="lineno"><a href="#line_3283" id="line_3283"> 3283.</a></span><span class="count                ">     28</span><span>prefix(&quot;await&quot;, function () {</span></pre>
<pre><span class="lineno"><a href="#line_3284" id="line_3284"> 3284.</a></span><span class="count                ">     28</span><span>    let the_await;</span></pre>
<pre><span class="lineno"><a href="#line_3285" id="line_3285"> 3285.</a></span><span class="count                ">     28</span><span>    the_await = token;</span></pre>
<pre><span class="lineno"><a href="#line_3286" id="line_3286"> 3286.</a></span><span class="count                ">      2</span><span>    if (!functionage.is_async) {</span></pre>
<pre><span class="lineno"><a href="#line_3287" id="line_3287"> 3287.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3288" id="line_3288"> 3288.</a></span><span class="count                ">      2</span><span>// cause: &quot;function aa(){await 0;}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3289" id="line_3289"> 3289.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3290" id="line_3290"> 3290.</a></span><span class="count                ">      2</span><span>        return stop(&quot;unexpected_a&quot;, the_await);</span></pre>
<pre><span class="lineno"><a href="#line_3291" id="line_3291"> 3291.</a></span><span class="count                ">     26</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_3292" id="line_3292"> 3292.</a></span><span class="count                ">     26</span><span>    functionage.has_await = true;</span></pre>
<pre><span class="lineno"><a href="#line_3293" id="line_3293"> 3293.</a></span><span class="count                ">     26</span><span>    the_await.expression = expression(150);</span></pre>
<pre><span class="lineno"><a href="#line_3294" id="line_3294"> 3294.</a></span><span class="count                ">     26</span><span>    return the_await;</span></pre>
<pre><span class="lineno"><a href="#line_3295" id="line_3295"> 3295.</a></span><span class="count                ">     26</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_3296" id="line_3296"> 3296.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3297" id="line_3297"> 3297.</a></span><span class="count                ">      8</span><span>function fart(pl) {</span></pre>
<pre><span class="lineno"><a href="#line_3298" id="line_3298"> 3298.</a></span><span class="count                ">      8</span><span>    advance(&quot;=&gt;&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3299" id="line_3299"> 3299.</a></span><span class="count                ">      8</span><span>    const the_fart = token;</span></pre>
<pre><span class="lineno"><a href="#line_3300" id="line_3300"> 3300.</a></span><span class="count                ">      8</span><span>    the_fart.arity = &quot;binary&quot;;</span></pre>
<pre><span class="lineno"><a href="#line_3301" id="line_3301"> 3301.</a></span><span class="count                ">      8</span><span>    the_fart.name = &quot;=&gt;&quot;;</span></pre>
<pre><span class="lineno"><a href="#line_3302" id="line_3302"> 3302.</a></span><span class="count                ">      8</span><span>    the_fart.level = functionage.level + 1;</span></pre>
<pre><span class="lineno"><a href="#line_3303" id="line_3303"> 3303.</a></span><span class="count                ">      8</span><span>    functions.push(the_fart);</span></pre>
<pre><span class="lineno"><a href="#line_3304" id="line_3304"> 3304.</a></span><span class="count                ">      1</span><span>    if (functionage.loop &gt; 0) {</span></pre>
<pre><span class="lineno"><a href="#line_3305" id="line_3305"> 3305.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3306" id="line_3306"> 3306.</a></span><span class="count                ">      1</span><span>// cause: &quot;while(0){aa.map(()=&gt;0);}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3307" id="line_3307"> 3307.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3308" id="line_3308"> 3308.</a></span><span class="count                ">      1</span><span>        warn(&quot;function_in_loop&quot;, the_fart);</span></pre>
<pre><span class="lineno"><a href="#line_3309" id="line_3309"> 3309.</a></span><span class="count                ">      6</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_3310" id="line_3310"> 3310.</a></span><span class="count                ">      6</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3311" id="line_3311"> 3311.</a></span><span class="count                ">      6</span><span>// Give the function properties storing its names and for observing the depth</span></pre>
<pre><span class="lineno"><a href="#line_3312" id="line_3312"> 3312.</a></span><span class="count                ">      6</span><span>// of loops and switches.</span></pre>
<pre><span class="lineno"><a href="#line_3313" id="line_3313"> 3313.</a></span><span class="count                ">      6</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3314" id="line_3314"> 3314.</a></span><span class="count                ">      6</span><span>    the_fart.context = empty();</span></pre>
<pre><span class="lineno"><a href="#line_3315" id="line_3315"> 3315.</a></span><span class="count                ">      6</span><span>    the_fart.finally = 0;</span></pre>
<pre><span class="lineno"><a href="#line_3316" id="line_3316"> 3316.</a></span><span class="count                ">      6</span><span>    the_fart.loop = 0;</span></pre>
<pre><span class="lineno"><a href="#line_3317" id="line_3317"> 3317.</a></span><span class="count                ">      6</span><span>    the_fart.switch = 0;</span></pre>
<pre><span class="lineno"><a href="#line_3318" id="line_3318"> 3318.</a></span><span class="count                ">      6</span><span>    the_fart.try = 0;</span></pre>
<pre><span class="lineno"><a href="#line_3319" id="line_3319"> 3319.</a></span><span class="count                ">      6</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3320" id="line_3320"> 3320.</a></span><span class="count                ">      6</span><span>// Push the current function context and establish a new one.</span></pre>
<pre><span class="lineno"><a href="#line_3321" id="line_3321"> 3321.</a></span><span class="count                ">      6</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3322" id="line_3322"> 3322.</a></span><span class="count                ">      6</span><span>    stack.push(functionage);</span></pre>
<pre><span class="lineno"><a href="#line_3323" id="line_3323"> 3323.</a></span><span class="count                ">      6</span><span>    functionage = the_fart;</span></pre>
<pre><span class="lineno"><a href="#line_3324" id="line_3324"> 3324.</a></span><span class="count                ">      6</span><span>    the_fart.parameters = pl[0];</span></pre>
<pre><span class="lineno"><a href="#line_3325" id="line_3325"> 3325.</a></span><span class="count                ">      6</span><span>    the_fart.signature = pl[1];</span></pre>
<pre><span class="lineno"><a href="#line_3326" id="line_3326"> 3326.</a></span><span class="count                ">      6</span><span>    the_fart.parameters.forEach(function (name) {</span></pre>
<pre><span class="lineno"><a href="#line_3327" id="line_3327"> 3327.</a></span><span class="count                ">      6</span><span>        enroll(name, &quot;parameter&quot;, true);</span></pre>
<pre><span class="lineno"><a href="#line_3328" id="line_3328"> 3328.</a></span><span class="count                ">      6</span><span>    });</span></pre>
<pre><span class="lineno"><a href="#line_3329" id="line_3329"> 3329.</a></span><span class="count                ">      6</span><span>    if (next_token.id === &quot;{&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_3330" id="line_3330"> 3330.</a></span><span class="count                ">      1</span><span>        warn(&quot;expected_a_b&quot;, the_fart, &quot;function&quot;, &quot;=&gt;&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3331" id="line_3331"> 3331.</a></span><span class="count                ">      1</span><span>        the_fart.block = block(&quot;body&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3332" id="line_3332"> 3332.</a></span><span class="count                ">      5</span><span>    } else {</span></pre>
<pre><span class="lineno"><a href="#line_3333" id="line_3333"> 3333.</a></span><span class="count                ">      5</span><span>        the_fart.expression = expression(0);</span></pre>
<pre><span class="lineno"><a href="#line_3334" id="line_3334"> 3334.</a></span><span class="count                ">      6</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_3335" id="line_3335"> 3335.</a></span><span class="count                ">      6</span><span>    functionage = stack.pop();</span></pre>
<pre><span class="lineno"><a href="#line_3336" id="line_3336"> 3336.</a></span><span class="count                ">      6</span><span>    return the_fart;</span></pre>
<pre><span class="lineno"><a href="#line_3337" id="line_3337"> 3337.</a></span><span class="count                ">      6</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_3338" id="line_3338"> 3338.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3339" id="line_3339"> 3339.</a></span><span class="count                ">    395</span><span>prefix(&quot;(&quot;, function () {</span></pre>
<pre><span class="lineno"><a href="#line_3340" id="line_3340"> 3340.</a></span><span class="count                ">    395</span><span>    const the_paren = token;</span></pre>
<pre><span class="lineno"><a href="#line_3341" id="line_3341"> 3341.</a></span><span class="count                ">    395</span><span>    let the_value;</span></pre>
<pre><span class="lineno"><a href="#line_3342" id="line_3342"> 3342.</a></span><span class="count                ">    395</span><span>    const cadet = lookahead().id;</span></pre>
<pre><span class="lineno"><a href="#line_3343" id="line_3343"> 3343.</a></span><span class="count                ">    395</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3344" id="line_3344"> 3344.</a></span><span class="count                ">    395</span><span>// We can distinguish between a parameter list for =&gt; and a wrapped expression</span></pre>
<pre><span class="lineno"><a href="#line_3345" id="line_3345"> 3345.</a></span><span class="count                ">    395</span><span>// with one token of lookahead.</span></pre>
<pre><span class="lineno"><a href="#line_3346" id="line_3346"> 3346.</a></span><span class="count                ">    395</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3347" id="line_3347"> 3347.</a></span><span class="count                ">    395</span><span>    if (</span></pre>
<pre><span class="lineno"><a href="#line_3348" id="line_3348"> 3348.</a></span><span class="count                ">    395</span><span>        next_token.id === &quot;)&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3349" id="line_3349"> 3349.</a></span><span class="count                ">    388</span><span>        || next_token.id === &quot;...&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3350" id="line_3350"> 3350.</a></span><span class="count                ">    388</span><span>        || (next_token.identifier &amp;&amp; (cadet === &quot;,&quot; || cadet === &quot;=&quot;))</span></pre>
<pre><span class="lineno"><a href="#line_3351" id="line_3351"> 3351.</a></span><span class="count                ">      7</span><span>    ) {</span></pre>
<pre><span class="lineno"><a href="#line_3352" id="line_3352"> 3352.</a></span><span class="count                ">      7</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3353" id="line_3353"> 3353.</a></span><span class="count                ">      7</span><span>// cause: &quot;()=&gt;0&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3354" id="line_3354"> 3354.</a></span><span class="count                ">      7</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3355" id="line_3355"> 3355.</a></span><span class="count                ">      7</span><span>        the_paren.free = false;</span></pre>
<pre><span class="lineno"><a href="#line_3356" id="line_3356"> 3356.</a></span><span class="count                ">      7</span><span>        return fart(parameter_list());</span></pre>
<pre><span class="lineno"><a href="#line_3357" id="line_3357"> 3357.</a></span><span class="count                ">    388</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_3358" id="line_3358"> 3358.</a></span><span class="count                ">    388</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3359" id="line_3359"> 3359.</a></span><span class="count                ">    388</span><span>// cause: &quot;(0)&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3360" id="line_3360"> 3360.</a></span><span class="count                ">    388</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3361" id="line_3361"> 3361.</a></span><span class="count                ">    388</span><span>    the_paren.free = true;</span></pre>
<pre><span class="lineno"><a href="#line_3362" id="line_3362"> 3362.</a></span><span class="count                ">    388</span><span>    the_value = expression(0);</span></pre>
<pre><span class="lineno"><a href="#line_3363" id="line_3363"> 3363.</a></span><span class="count                ">    388</span><span>    if (the_value.wrapped === true) {</span></pre>
<pre><span class="lineno"><a href="#line_3364" id="line_3364"> 3364.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3365" id="line_3365"> 3365.</a></span><span class="count                ">      2</span><span>// cause: &quot;((0))&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3366" id="line_3366"> 3366.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3367" id="line_3367"> 3367.</a></span><span class="count                ">      2</span><span>        warn(&quot;unexpected_a&quot;, the_paren);</span></pre>
<pre><span class="lineno"><a href="#line_3368" id="line_3368"> 3368.</a></span><span class="count                ">    387</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_3369" id="line_3369"> 3369.</a></span><span class="count                ">    387</span><span>    the_value.wrapped = true;</span></pre>
<pre><span class="lineno"><a href="#line_3370" id="line_3370"> 3370.</a></span><span class="count                ">    387</span><span>    advance(&quot;)&quot;, the_paren);</span></pre>
<pre><span class="lineno"><a href="#line_3371" id="line_3371"> 3371.</a></span><span class="count                ">    387</span><span>    if (next_token.id === &quot;=&gt;&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_3372" id="line_3372"> 3372.</a></span><span class="count                ">      3</span><span>        if (the_value.arity !== &quot;variable&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_3373" id="line_3373"> 3373.</a></span><span class="count                ">      3</span><span>            if (the_value.id === &quot;{&quot; || the_value.id === &quot;[&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_3374" id="line_3374"> 3374.</a></span><span class="count                ">      3</span><span>                warn(&quot;expected_a_before_b&quot;, the_paren, &quot;function&quot;, &quot;(&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3375" id="line_3375"> 3375.</a></span><span class="count                ">      3</span><span>                return stop(&quot;expected_a_b&quot;, next_token, &quot;{&quot;, &quot;=&gt;&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3376" id="line_3376"> 3376.</a></span><span class="count                ">      3</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_3377" id="line_3377"> 3377.</a></span><span class="count                ">      3</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3378" id="line_3378"> 3378.</a></span><span class="count                ">      3</span><span>// cause: &quot;(0)=&gt;0&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3379" id="line_3379"> 3379.</a></span><span class="count                ">      3</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3380" id="line_3380"> 3380.</a></span><span class="count                ">      3</span><span>            return stop(&quot;expected_identifier_a&quot;, the_value);</span></pre>
<pre><span class="lineno"><a href="#line_3381" id="line_3381"> 3381.</a></span><span class="count                ">      3</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_3382" id="line_3382"> 3382.</a></span><span class="count                ">      3</span><span>        the_paren.expression = [the_value];</span></pre>
<pre><span class="lineno"><a href="#line_3383" id="line_3383"> 3383.</a></span><span class="count                ">      3</span><span>        return fart([the_paren.expression, &quot;(&quot; + the_value.id + &quot;)&quot;]);</span></pre>
<pre><span class="lineno"><a href="#line_3384" id="line_3384"> 3384.</a></span><span class="count                ">    383</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_3385" id="line_3385"> 3385.</a></span><span class="count                ">    383</span><span>    return the_value;</span></pre>
<pre><span class="lineno"><a href="#line_3386" id="line_3386"> 3386.</a></span><span class="count                ">    383</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_3387" id="line_3387"> 3387.</a></span><span class="count                ">      1</span><span>prefix(&quot;`&quot;, do_tick);</span></pre>
<pre><span class="lineno"><a href="#line_3388" id="line_3388"> 3388.</a></span><span class="count                ">     89</span><span>prefix(&quot;{&quot;, function () {</span></pre>
<pre><span class="lineno"><a href="#line_3389" id="line_3389"> 3389.</a></span><span class="count                ">     89</span><span>    const the_brace = token;</span></pre>
<pre><span class="lineno"><a href="#line_3390" id="line_3390"> 3390.</a></span><span class="count                ">     89</span><span>    const seen = empty();</span></pre>
<pre><span class="lineno"><a href="#line_3391" id="line_3391"> 3391.</a></span><span class="count                ">     89</span><span>    the_brace.expression = [];</span></pre>
<pre><span class="lineno"><a href="#line_3392" id="line_3392"> 3392.</a></span><span class="count                ">     83</span><span>    if (next_token.id !== &quot;}&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_3393" id="line_3393"> 3393.</a></span><span class="count                ">     83</span><span>        let a;</span></pre>
<pre><span class="lineno"><a href="#line_3394" id="line_3394"> 3394.</a></span><span class="count                ">     83</span><span>        let b = &quot;&quot;;</span></pre>
<pre><span class="lineno"><a href="#line_3395" id="line_3395"> 3395.</a></span><span class="count                ">    491</span><span>        (function member() {</span></pre>
<pre><span class="lineno"><a href="#line_3396" id="line_3396"> 3396.</a></span><span class="count                ">    491</span><span>            let extra;</span></pre>
<pre><span class="lineno"><a href="#line_3397" id="line_3397"> 3397.</a></span><span class="count                ">    491</span><span>            let full;</span></pre>
<pre><span class="lineno"><a href="#line_3398" id="line_3398"> 3398.</a></span><span class="count                ">    491</span><span>            let id;</span></pre>
<pre><span class="lineno"><a href="#line_3399" id="line_3399"> 3399.</a></span><span class="count                ">    491</span><span>            let name = next_token;</span></pre>
<pre><span class="lineno"><a href="#line_3400" id="line_3400"> 3400.</a></span><span class="count                ">    491</span><span>            let value;</span></pre>
<pre><span class="lineno"><a href="#line_3401" id="line_3401"> 3401.</a></span><span class="count                ">    491</span><span>            advance();</span></pre>
<pre><span class="lineno"><a href="#line_3402" id="line_3402"> 3402.</a></span><span class="count                ">    491</span><span>            a = b;</span></pre>
<pre><span class="lineno"><a href="#line_3403" id="line_3403"> 3403.</a></span><span class="count                ">    482</span><span>            b = String(name.value || name.id);</span></pre>
<pre><span class="lineno"><a href="#line_3404" id="line_3404"> 3404.</a></span><span class="count                ">     83</span><span>            if (a &gt; b) {</span></pre>
<pre><span class="lineno"><a href="#line_3405" id="line_3405"> 3405.</a></span><span class="count                ">     83</span><span>                if (!option.unordered) {</span></pre>
<pre><span class="lineno"><a href="#line_3406" id="line_3406"> 3406.</a></span><span class="count                ">     83</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3407" id="line_3407"> 3407.</a></span><span class="count                ">     83</span><span>// cause: &quot;aa={bb,aa}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3408" id="line_3408"> 3408.</a></span><span class="count                ">     83</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3409" id="line_3409"> 3409.</a></span><span class="count                ">     83</span><span>                    warn(&quot;unordered_property_a&quot;, name);</span></pre>
<pre><span class="lineno"><a href="#line_3410" id="line_3410"> 3410.</a></span><span class="count                ">     83</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_3411" id="line_3411"> 3411.</a></span><span class="count                ">     83</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_3412" id="line_3412"> 3412.</a></span><span class="count                ">    491</span><span>            if (</span></pre>
<pre><span class="lineno"><a href="#line_3413" id="line_3413"> 3413.</a></span><span class="count                ">    483</span><span>                (name.id === &quot;get&quot; || name.id === &quot;set&quot;)</span></pre>
<pre><span class="lineno"><a href="#line_3414" id="line_3414"> 3414.</a></span><span class="count                ">     83</span><span>                &amp;&amp; next_token.identifier</span></pre>
<pre><span class="lineno"><a href="#line_3415" id="line_3415"> 3415.</a></span><span class="count                ">     83</span><span>            ) {</span></pre>
<pre><span class="lineno"><a href="#line_3416" id="line_3416"> 3416.</a></span><span class="count                ">     83</span><span>                if (!option.getset) {</span></pre>
<pre><span class="lineno"><a href="#line_3417" id="line_3417"> 3417.</a></span><span class="count                ">     83</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3418" id="line_3418"> 3418.</a></span><span class="count                ">     83</span><span>// cause: &quot;aa={get aa(){}}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3419" id="line_3419"> 3419.</a></span><span class="count                ">     83</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3420" id="line_3420"> 3420.</a></span><span class="count                ">     83</span><span>                    warn(&quot;unexpected_a&quot;, name);</span></pre>
<pre><span class="lineno"><a href="#line_3421" id="line_3421"> 3421.</a></span><span class="count                ">     83</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_3422" id="line_3422"> 3422.</a></span><span class="count                ">     83</span><span>                extra = name.id;</span></pre>
<pre><span class="lineno"><a href="#line_3423" id="line_3423"> 3423.</a></span><span class="count                ">     83</span><span>                full = extra + &quot; &quot; + next_token.id;</span></pre>
<pre><span class="lineno"><a href="#line_3424" id="line_3424"> 3424.</a></span><span class="count                ">     83</span><span>                name = next_token;</span></pre>
<pre><span class="lineno"><a href="#line_3425" id="line_3425"> 3425.</a></span><span class="count                ">     83</span><span>                advance();</span></pre>
<pre><span class="lineno"><a href="#line_3426" id="line_3426"> 3426.</a></span><span class="count                ">     83</span><span>                id = survey(name);</span></pre>
<pre><span class="lineno"><a href="#line_3427" id="line_3427"> 3427.</a></span><span class="count                ">     83</span><span>                if (seen[full] === true || seen[id] === true) {</span></pre>
<pre><span class="lineno"><a href="#line_3428" id="line_3428"> 3428.</a></span><span class="count                ">     83</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3429" id="line_3429"> 3429.</a></span><span class="count                ">     83</span><span>// cause: &quot;aa={get aa(){},get aa(){}}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3430" id="line_3430"> 3430.</a></span><span class="count                ">     83</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3431" id="line_3431"> 3431.</a></span><span class="count                ">     83</span><span>                    warn(&quot;duplicate_a&quot;, name);</span></pre>
<pre><span class="lineno"><a href="#line_3432" id="line_3432"> 3432.</a></span><span class="count                ">     83</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_3433" id="line_3433"> 3433.</a></span><span class="count                ">     83</span><span>                seen[id] = false;</span></pre>
<pre><span class="lineno"><a href="#line_3434" id="line_3434"> 3434.</a></span><span class="count                ">     83</span><span>                seen[full] = true;</span></pre>
<pre><span class="lineno"><a href="#line_3435" id="line_3435"> 3435.</a></span><span class="count                ">    480</span><span>            } else {</span></pre>
<pre><span class="lineno"><a href="#line_3436" id="line_3436"> 3436.</a></span><span class="count                ">    480</span><span>                id = survey(name);</span></pre>
<pre><span class="lineno"><a href="#line_3437" id="line_3437"> 3437.</a></span><span class="count                ">    480</span><span>                if (typeof seen[id] === &quot;boolean&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_3438" id="line_3438"> 3438.</a></span><span class="count                ">    480</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3439" id="line_3439"> 3439.</a></span><span class="count                ">    480</span><span>// cause: &quot;aa={aa,aa}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3440" id="line_3440"> 3440.</a></span><span class="count                ">    480</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3441" id="line_3441"> 3441.</a></span><span class="count                ">    480</span><span>                    warn(&quot;duplicate_a&quot;, name);</span></pre>
<pre><span class="lineno"><a href="#line_3442" id="line_3442"> 3442.</a></span><span class="count                ">    480</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_3443" id="line_3443"> 3443.</a></span><span class="count                ">    480</span><span>                seen[id] = true;</span></pre>
<pre><span class="lineno"><a href="#line_3444" id="line_3444"> 3444.</a></span><span class="count                ">    490</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_3445" id="line_3445"> 3445.</a></span><span class="count                ">    490</span><span>            if (name.identifier) {</span></pre>
<pre><span class="lineno"><a href="#line_3446" id="line_3446"> 3446.</a></span><span class="count                ">    482</span><span>                if (next_token.id === &quot;}&quot; || next_token.id === &quot;,&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_3447" id="line_3447"> 3447.</a></span><span class="count                ">    482</span><span>                    if (typeof extra === &quot;string&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_3448" id="line_3448"> 3448.</a></span><span class="count                ">    482</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3449" id="line_3449"> 3449.</a></span><span class="count                ">    482</span><span>// cause: &quot;aa={get aa}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3450" id="line_3450"> 3450.</a></span><span class="count                ">    482</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3451" id="line_3451"> 3451.</a></span><span class="count                ">    482</span><span>                        advance(&quot;(&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3452" id="line_3452"> 3452.</a></span><span class="count                ">    482</span><span>                    }</span></pre>
<pre><span class="lineno"><a href="#line_3453" id="line_3453"> 3453.</a></span><span class="count                ">    482</span><span>                    value = expression(Infinity, true);</span></pre>
<pre><span class="lineno"><a href="#line_3454" id="line_3454"> 3454.</a></span><span class="count                ">    482</span><span>                } else if (next_token.id === &quot;(&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_3455" id="line_3455"> 3455.</a></span><span class="count                ">    482</span><span>                    value = do_function({</span></pre>
<pre><span class="lineno"><a href="#line_3456" id="line_3456"> 3456.</a></span><span class="count                ">    482</span><span>                        arity: &quot;unary&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_3457" id="line_3457"> 3457.</a></span><span class="count                ">    482</span><span>                        from: name.from,</span></pre>
<pre><span class="lineno"><a href="#line_3458" id="line_3458"> 3458.</a></span><span class="count                ">    482</span><span>                        id: &quot;function&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_3459" id="line_3459"> 3459.</a></span><span class="count                ">    482</span><span>                        line: name.line,</span></pre>
<pre><span class="lineno"><a href="#line_3460" id="line_3460"> 3460.</a></span><span class="count                ">    482</span><span>                        name: (</span></pre>
<pre><span class="lineno"><a href="#line_3461" id="line_3461"> 3461.</a></span><span class="count                ">    482</span><span>                            typeof extra === &quot;string&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3462" id="line_3462"> 3462.</a></span><span class="count                ">    482</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3463" id="line_3463"> 3463.</a></span><span class="count                ">    482</span><span>// cause: &quot;aa={get aa(){}}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3464" id="line_3464"> 3464.</a></span><span class="count                ">    482</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3465" id="line_3465"> 3465.</a></span><span class="count                ">    482</span><span>                            ? extra</span></pre>
<pre><span class="lineno"><a href="#line_3466" id="line_3466"> 3466.</a></span><span class="count                ">    482</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3467" id="line_3467"> 3467.</a></span><span class="count                ">    482</span><span>// cause: &quot;aa={aa()}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3468" id="line_3468"> 3468.</a></span><span class="count                ">    482</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3469" id="line_3469"> 3469.</a></span><span class="count                ">    482</span><span>                            : id</span></pre>
<pre><span class="lineno"><a href="#line_3470" id="line_3470"> 3470.</a></span><span class="count                ">    482</span><span>                        ),</span></pre>
<pre><span class="lineno"><a href="#line_3471" id="line_3471"> 3471.</a></span><span class="count                ">    482</span><span>                        thru: name.from</span></pre>
<pre><span class="lineno"><a href="#line_3472" id="line_3472"> 3472.</a></span><span class="count                ">    482</span><span>                    });</span></pre>
<pre><span class="lineno"><a href="#line_3473" id="line_3473"> 3473.</a></span><span class="count                ">    482</span><span>                } else {</span></pre>
<pre><span class="lineno"><a href="#line_3474" id="line_3474"> 3474.</a></span><span class="count                ">    482</span><span>                    if (typeof extra === &quot;string&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_3475" id="line_3475"> 3475.</a></span><span class="count                ">    482</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3476" id="line_3476"> 3476.</a></span><span class="count                ">    482</span><span>// cause: &quot;aa={get aa.aa}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3477" id="line_3477"> 3477.</a></span><span class="count                ">    482</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3478" id="line_3478"> 3478.</a></span><span class="count                ">    482</span><span>                        advance(&quot;(&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3479" id="line_3479"> 3479.</a></span><span class="count                ">    482</span><span>                    }</span></pre>
<pre><span class="lineno"><a href="#line_3480" id="line_3480"> 3480.</a></span><span class="count                ">    482</span><span>                    let the_colon = next_token;</span></pre>
<pre><span class="lineno"><a href="#line_3481" id="line_3481"> 3481.</a></span><span class="count                ">    482</span><span>                    advance(&quot;:&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3482" id="line_3482"> 3482.</a></span><span class="count                ">    482</span><span>                    value = expression(0);</span></pre>
<pre><span class="lineno"><a href="#line_3483" id="line_3483"> 3483.</a></span><span class="count                ">    482</span><span>                    if (value.id === name.id &amp;&amp; value.id !== &quot;function&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_3484" id="line_3484"> 3484.</a></span><span class="count                ">    482</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3485" id="line_3485"> 3485.</a></span><span class="count                ">    482</span><span>// cause: &quot;aa={aa:aa}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3486" id="line_3486"> 3486.</a></span><span class="count                ">    482</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3487" id="line_3487"> 3487.</a></span><span class="count                ">    482</span><span>                        warn(&quot;unexpected_a&quot;, the_colon, &quot;: &quot; + name.id);</span></pre>
<pre><span class="lineno"><a href="#line_3488" id="line_3488"> 3488.</a></span><span class="count                ">    482</span><span>                    }</span></pre>
<pre><span class="lineno"><a href="#line_3489" id="line_3489"> 3489.</a></span><span class="count                ">    482</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_3490" id="line_3490"> 3490.</a></span><span class="count                ">    482</span><span>                value.label = name;</span></pre>
<pre><span class="lineno"><a href="#line_3491" id="line_3491"> 3491.</a></span><span class="count                ">    482</span><span>                if (typeof extra === &quot;string&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_3492" id="line_3492"> 3492.</a></span><span class="count                ">    482</span><span>                    value.extra = extra;</span></pre>
<pre><span class="lineno"><a href="#line_3493" id="line_3493"> 3493.</a></span><span class="count                ">    482</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_3494" id="line_3494"> 3494.</a></span><span class="count                ">    482</span><span>                the_brace.expression.push(value);</span></pre>
<pre><span class="lineno"><a href="#line_3495" id="line_3495"> 3495.</a></span><span class="count                ">    482</span><span>            } else {</span></pre>
<pre><span class="lineno"><a href="#line_3496" id="line_3496"> 3496.</a></span><span class="count                ">     83</span><span>                advance(&quot;:&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3497" id="line_3497"> 3497.</a></span><span class="count                ">     83</span><span>                value = expression(0);</span></pre>
<pre><span class="lineno"><a href="#line_3498" id="line_3498"> 3498.</a></span><span class="count                ">     83</span><span>                value.label = name;</span></pre>
<pre><span class="lineno"><a href="#line_3499" id="line_3499"> 3499.</a></span><span class="count                ">     83</span><span>                the_brace.expression.push(value);</span></pre>
<pre><span class="lineno"><a href="#line_3500" id="line_3500"> 3500.</a></span><span class="count                ">    487</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_3501" id="line_3501"> 3501.</a></span><span class="count                ">    487</span><span>            if (next_token.id === &quot;,&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_3502" id="line_3502"> 3502.</a></span><span class="count                ">    408</span><span>                advance(&quot;,&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3503" id="line_3503"> 3503.</a></span><span class="count                ">    408</span><span>                return member();</span></pre>
<pre><span class="lineno"><a href="#line_3504" id="line_3504"> 3504.</a></span><span class="count                ">    408</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_3505" id="line_3505"> 3505.</a></span><span class="count                ">    491</span><span>        }());</span></pre>
<pre><span class="lineno"><a href="#line_3506" id="line_3506"> 3506.</a></span><span class="count                ">     85</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_3507" id="line_3507"> 3507.</a></span><span class="count                ">     85</span><span>    advance(&quot;}&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3508" id="line_3508"> 3508.</a></span><span class="count                ">     85</span><span>    return the_brace;</span></pre>
<pre><span class="lineno"><a href="#line_3509" id="line_3509"> 3509.</a></span><span class="count                ">     85</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_3510" id="line_3510"> 3510.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3511" id="line_3511"> 3511.</a></span><span class="count                ">      2</span><span>stmt(&quot;;&quot;, function () {</span></pre>
<pre><span class="lineno"><a href="#line_3512" id="line_3512"> 3512.</a></span><span class="count                ">      2</span><span>    warn(&quot;unexpected_a&quot;, token);</span></pre>
<pre><span class="lineno"><a href="#line_3513" id="line_3513"> 3513.</a></span><span class="count                ">      2</span><span>    return token;</span></pre>
<pre><span class="lineno"><a href="#line_3514" id="line_3514"> 3514.</a></span><span class="count                ">      2</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_3515" id="line_3515"> 3515.</a></span><span class="count                ">     10</span><span>stmt(&quot;{&quot;, function () {</span></pre>
<pre><span class="lineno"><a href="#line_3516" id="line_3516"> 3516.</a></span><span class="count                ">     10</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3517" id="line_3517"> 3517.</a></span><span class="count                ">     10</span><span>// cause: &quot;class aa{}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3518" id="line_3518"> 3518.</a></span><span class="count                ">     10</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3519" id="line_3519"> 3519.</a></span><span class="count                ">     10</span><span>    warn(&quot;naked_block&quot;, token);</span></pre>
<pre><span class="lineno"><a href="#line_3520" id="line_3520"> 3520.</a></span><span class="count                ">     10</span><span>    return block(&quot;naked&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3521" id="line_3521"> 3521.</a></span><span class="count                ">     10</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_3522" id="line_3522"> 3522.</a></span><span class="count                ">      1</span><span>stmt(&quot;async&quot;, do_async);</span></pre>
<pre><span class="lineno"><a href="#line_3523" id="line_3523"> 3523.</a></span><span class="count                ">     30</span><span>stmt(&quot;break&quot;, function () {</span></pre>
<pre><span class="lineno"><a href="#line_3524" id="line_3524"> 3524.</a></span><span class="count                ">     30</span><span>    const the_break = token;</span></pre>
<pre><span class="lineno"><a href="#line_3525" id="line_3525"> 3525.</a></span><span class="count                ">     30</span><span>    let the_label;</span></pre>
<pre><span class="lineno"><a href="#line_3526" id="line_3526"> 3526.</a></span><span class="count                ">     30</span><span>    if (</span></pre>
<pre><span class="lineno"><a href="#line_3527" id="line_3527"> 3527.</a></span><span class="count                ">     17</span><span>        (functionage.loop &lt; 1 &amp;&amp; functionage.switch &lt; 1)</span></pre>
<pre><span class="lineno"><a href="#line_3528" id="line_3528"> 3528.</a></span><span class="count                ">     25</span><span>        || functionage.finally &gt; 0</span></pre>
<pre><span class="lineno"><a href="#line_3529" id="line_3529"> 3529.</a></span><span class="count                ">      5</span><span>    ) {</span></pre>
<pre><span class="lineno"><a href="#line_3530" id="line_3530"> 3530.</a></span><span class="count                ">      5</span><span>        warn(&quot;unexpected_a&quot;, the_break);</span></pre>
<pre><span class="lineno"><a href="#line_3531" id="line_3531"> 3531.</a></span><span class="count                ">      5</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_3532" id="line_3532"> 3532.</a></span><span class="count                ">     30</span><span>    the_break.disrupt = true;</span></pre>
<pre><span class="lineno"><a href="#line_3533" id="line_3533"> 3533.</a></span><span class="count                ">      5</span><span>    if (next_token.identifier &amp;&amp; token.line === next_token.line) {</span></pre>
<pre><span class="lineno"><a href="#line_3534" id="line_3534"> 3534.</a></span><span class="count                ">      5</span><span>        the_label = functionage.context[next_token.id];</span></pre>
<pre><span class="lineno"><a href="#line_3535" id="line_3535"> 3535.</a></span><span class="count                ">      5</span><span>        if (</span></pre>
<pre><span class="lineno"><a href="#line_3536" id="line_3536"> 3536.</a></span><span class="count                ">      5</span><span>            the_label === undefined</span></pre>
<pre><span class="lineno"><a href="#line_3537" id="line_3537"> 3537.</a></span><span class="count                ">      5</span><span>            || the_label.role !== &quot;label&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3538" id="line_3538"> 3538.</a></span><span class="count                ">      5</span><span>            || the_label.dead</span></pre>
<pre><span class="lineno"><a href="#line_3539" id="line_3539"> 3539.</a></span><span class="count                ">      5</span><span>        ) {</span></pre>
<pre><span class="lineno"><a href="#line_3540" id="line_3540"> 3540.</a></span><span class="count                ">      5</span><span>            if (the_label !== undefined &amp;&amp; the_label.dead) {</span></pre>
<pre><span class="lineno"><a href="#line_3541" id="line_3541"> 3541.</a></span><span class="count                ">      5</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3542" id="line_3542"> 3542.</a></span><span class="count                ">      5</span><span>// cause: &quot;aa:{function aa(aa){break aa;}}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3543" id="line_3543"> 3543.</a></span><span class="count                ">      5</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3544" id="line_3544"> 3544.</a></span><span class="count                ">      5</span><span>                warn(&quot;out_of_scope_a&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3545" id="line_3545"> 3545.</a></span><span class="count                ">      5</span><span>            } else {</span></pre>
<pre><span class="lineno"><a href="#line_3546" id="line_3546"> 3546.</a></span><span class="count                ">      5</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3547" id="line_3547"> 3547.</a></span><span class="count                ">      5</span><span>// cause: &quot;aa:{break aa;}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3548" id="line_3548"> 3548.</a></span><span class="count                ">      5</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3549" id="line_3549"> 3549.</a></span><span class="count                ">      5</span><span>                warn(&quot;not_label_a&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3550" id="line_3550"> 3550.</a></span><span class="count                ">      5</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_3551" id="line_3551"> 3551.</a></span><span class="count                ">      5</span><span>        } else {</span></pre>
<pre><span class="lineno"><a href="#line_3552" id="line_3552"> 3552.</a></span><span class="count                ">      5</span><span>            the_label.used += 1;</span></pre>
<pre><span class="lineno"><a href="#line_3553" id="line_3553"> 3553.</a></span><span class="count                ">      5</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_3554" id="line_3554"> 3554.</a></span><span class="count                ">      5</span><span>        the_break.label = next_token;</span></pre>
<pre><span class="lineno"><a href="#line_3555" id="line_3555"> 3555.</a></span><span class="count                ">      5</span><span>        advance();</span></pre>
<pre><span class="lineno"><a href="#line_3556" id="line_3556"> 3556.</a></span><span class="count                ">      5</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_3557" id="line_3557"> 3557.</a></span><span class="count                ">     30</span><span>    advance(&quot;;&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3558" id="line_3558"> 3558.</a></span><span class="count                ">     30</span><span>    return the_break;</span></pre>
<pre><span class="lineno"><a href="#line_3559" id="line_3559"> 3559.</a></span><span class="count                ">     30</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_3560" id="line_3560"> 3560.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3561" id="line_3561"> 3561.</a></span><span class="count                ">    737</span><span>function do_var() {</span></pre>
<pre><span class="lineno"><a href="#line_3562" id="line_3562"> 3562.</a></span><span class="count                ">    737</span><span>    const the_statement = token;</span></pre>
<pre><span class="lineno"><a href="#line_3563" id="line_3563"> 3563.</a></span><span class="count                ">    737</span><span>    const is_const = the_statement.id === &quot;const&quot;;</span></pre>
<pre><span class="lineno"><a href="#line_3564" id="line_3564"> 3564.</a></span><span class="count                ">    737</span><span>    the_statement.names = [];</span></pre>
<pre><span class="lineno"><a href="#line_3565" id="line_3565"> 3565.</a></span><span class="count                ">    737</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3566" id="line_3566"> 3566.</a></span><span class="count                ">    737</span><span>// A program may use var or let, but not both.</span></pre>
<pre><span class="lineno"><a href="#line_3567" id="line_3567"> 3567.</a></span><span class="count                ">    737</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3568" id="line_3568"> 3568.</a></span><span class="count                ">    409</span><span>    if (!is_const) {</span></pre>
<pre><span class="lineno"><a href="#line_3569" id="line_3569"> 3569.</a></span><span class="count                ">    409</span><span>        if (var_mode === undefined) {</span></pre>
<pre><span class="lineno"><a href="#line_3570" id="line_3570"> 3570.</a></span><span class="count                ">    409</span><span>            var_mode = the_statement.id;</span></pre>
<pre><span class="lineno"><a href="#line_3571" id="line_3571"> 3571.</a></span><span class="count                ">    409</span><span>        } else if (the_statement.id !== var_mode) {</span></pre>
<pre><span class="lineno"><a href="#line_3572" id="line_3572"> 3572.</a></span><span class="count                ">    409</span><span>            warn(</span></pre>
<pre><span class="lineno"><a href="#line_3573" id="line_3573"> 3573.</a></span><span class="count                ">    409</span><span>                &quot;expected_a_b&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_3574" id="line_3574"> 3574.</a></span><span class="count                ">    409</span><span>                the_statement,</span></pre>
<pre><span class="lineno"><a href="#line_3575" id="line_3575"> 3575.</a></span><span class="count                ">    409</span><span>                var_mode,</span></pre>
<pre><span class="lineno"><a href="#line_3576" id="line_3576"> 3576.</a></span><span class="count                ">    409</span><span>                the_statement.id</span></pre>
<pre><span class="lineno"><a href="#line_3577" id="line_3577"> 3577.</a></span><span class="count                ">    409</span><span>            );</span></pre>
<pre><span class="lineno"><a href="#line_3578" id="line_3578"> 3578.</a></span><span class="count                ">    409</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_3579" id="line_3579"> 3579.</a></span><span class="count                ">    409</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_3580" id="line_3580"> 3580.</a></span><span class="count                ">    737</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3581" id="line_3581"> 3581.</a></span><span class="count                ">    737</span><span>// We don&apos;t expect to see variables created in switch statements.</span></pre>
<pre><span class="lineno"><a href="#line_3582" id="line_3582"> 3582.</a></span><span class="count                ">    737</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3583" id="line_3583"> 3583.</a></span><span class="count                ">      1</span><span>    if (functionage.switch &gt; 0) {</span></pre>
<pre><span class="lineno"><a href="#line_3584" id="line_3584"> 3584.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3585" id="line_3585"> 3585.</a></span><span class="count                ">      1</span><span>// cause: &quot;switch(0){case 0:var aa}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3586" id="line_3586"> 3586.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3587" id="line_3587"> 3587.</a></span><span class="count                ">      1</span><span>        warn(&quot;var_switch&quot;, the_statement);</span></pre>
<pre><span class="lineno"><a href="#line_3588" id="line_3588"> 3588.</a></span><span class="count                ">      1</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_3589" id="line_3589"> 3589.</a></span><span class="count                ">      1</span><span>    if (functionage.loop &gt; 0 &amp;&amp; the_statement.id === &quot;var&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_3590" id="line_3590"> 3590.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3591" id="line_3591"> 3591.</a></span><span class="count                ">      1</span><span>// cause: &quot;while(0){var aa;}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3592" id="line_3592"> 3592.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3593" id="line_3593"> 3593.</a></span><span class="count                ">      1</span><span>        warn(&quot;var_loop&quot;, the_statement);</span></pre>
<pre><span class="lineno"><a href="#line_3594" id="line_3594"> 3594.</a></span><span class="count                ">      1</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_3595" id="line_3595"> 3595.</a></span><span class="count                ">    737</span><span>    (function next() {</span></pre>
<pre><span class="lineno"><a href="#line_3596" id="line_3596"> 3596.</a></span><span class="count                ">      9</span><span>        if (next_token.id === &quot;{&quot; &amp;&amp; the_statement.id !== &quot;var&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_3597" id="line_3597"> 3597.</a></span><span class="count                ">      8</span><span>            let a;</span></pre>
<pre><span class="lineno"><a href="#line_3598" id="line_3598"> 3598.</a></span><span class="count                ">      8</span><span>            let b = &quot;&quot;;</span></pre>
<pre><span class="lineno"><a href="#line_3599" id="line_3599"> 3599.</a></span><span class="count                ">      8</span><span>            const the_brace = next_token;</span></pre>
<pre><span class="lineno"><a href="#line_3600" id="line_3600"> 3600.</a></span><span class="count                ">      8</span><span>            advance(&quot;{&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3601" id="line_3601"> 3601.</a></span><span class="count                ">     12</span><span>            (function pair() {</span></pre>
<pre><span class="lineno"><a href="#line_3602" id="line_3602"> 3602.</a></span><span class="count                ">      8</span><span>                if (!next_token.identifier) {</span></pre>
<pre><span class="lineno"><a href="#line_3603" id="line_3603"> 3603.</a></span><span class="count                ">      8</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3604" id="line_3604"> 3604.</a></span><span class="count                ">      8</span><span>// cause: &quot;let {0}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3605" id="line_3605"> 3605.</a></span><span class="count                ">      8</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3606" id="line_3606"> 3606.</a></span><span class="count                ">      8</span><span>                    return stop(&quot;expected_identifier_a&quot;, next_token);</span></pre>
<pre><span class="lineno"><a href="#line_3607" id="line_3607"> 3607.</a></span><span class="count                ">     11</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_3608" id="line_3608"> 3608.</a></span><span class="count                ">     11</span><span>                const name = next_token;</span></pre>
<pre><span class="lineno"><a href="#line_3609" id="line_3609"> 3609.</a></span><span class="count                ">     11</span><span>                survey(name);</span></pre>
<pre><span class="lineno"><a href="#line_3610" id="line_3610"> 3610.</a></span><span class="count                ">     11</span><span>                a = b;</span></pre>
<pre><span class="lineno"><a href="#line_3611" id="line_3611"> 3611.</a></span><span class="count                ">     11</span><span>                b = String(name.value || name.id);</span></pre>
<pre><span class="lineno"><a href="#line_3612" id="line_3612"> 3612.</a></span><span class="count                ">      8</span><span>                if (a &gt; b) {</span></pre>
<pre><span class="lineno"><a href="#line_3613" id="line_3613"> 3613.</a></span><span class="count                ">      8</span><span>                    if (!option.unordered) {</span></pre>
<pre><span class="lineno"><a href="#line_3614" id="line_3614"> 3614.</a></span><span class="count                ">      8</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3615" id="line_3615"> 3615.</a></span><span class="count                ">      8</span><span>// cause: &quot;let{bb,aa}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3616" id="line_3616"> 3616.</a></span><span class="count                ">      8</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3617" id="line_3617"> 3617.</a></span><span class="count                ">      8</span><span>                        warn(&quot;unordered_param_a&quot;, name);</span></pre>
<pre><span class="lineno"><a href="#line_3618" id="line_3618"> 3618.</a></span><span class="count                ">      8</span><span>                    }</span></pre>
<pre><span class="lineno"><a href="#line_3619" id="line_3619"> 3619.</a></span><span class="count                ">     11</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_3620" id="line_3620"> 3620.</a></span><span class="count                ">     11</span><span>                advance();</span></pre>
<pre><span class="lineno"><a href="#line_3621" id="line_3621"> 3621.</a></span><span class="count                ">     11</span><span>                if (next_token.id === &quot;:&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_3622" id="line_3622"> 3622.</a></span><span class="count                ">      8</span><span>                    advance(&quot;:&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3623" id="line_3623"> 3623.</a></span><span class="count                ">      8</span><span>                    if (!next_token.identifier) {</span></pre>
<pre><span class="lineno"><a href="#line_3624" id="line_3624"> 3624.</a></span><span class="count                ">      8</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3625" id="line_3625"> 3625.</a></span><span class="count                ">      8</span><span>// cause: &quot;let {aa:0}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3626" id="line_3626"> 3626.</a></span><span class="count                ">      8</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3627" id="line_3627"> 3627.</a></span><span class="count                ">      8</span><span>                        return stop(&quot;expected_identifier_a&quot;, next_token);</span></pre>
<pre><span class="lineno"><a href="#line_3628" id="line_3628"> 3628.</a></span><span class="count                ">      8</span><span>                    }</span></pre>
<pre><span class="lineno"><a href="#line_3629" id="line_3629"> 3629.</a></span><span class="count                ">      8</span><span>                    next_token.label = name;</span></pre>
<pre><span class="lineno"><a href="#line_3630" id="line_3630"> 3630.</a></span><span class="count                ">      8</span><span>                    the_statement.names.push(next_token);</span></pre>
<pre><span class="lineno"><a href="#line_3631" id="line_3631"> 3631.</a></span><span class="count                ">      8</span><span>                    enroll(next_token, &quot;variable&quot;, is_const);</span></pre>
<pre><span class="lineno"><a href="#line_3632" id="line_3632"> 3632.</a></span><span class="count                ">      8</span><span>                    advance();</span></pre>
<pre><span class="lineno"><a href="#line_3633" id="line_3633"> 3633.</a></span><span class="count                ">      8</span><span>                    the_brace.open = true;</span></pre>
<pre><span class="lineno"><a href="#line_3634" id="line_3634"> 3634.</a></span><span class="count                ">      9</span><span>                } else {</span></pre>
<pre><span class="lineno"><a href="#line_3635" id="line_3635"> 3635.</a></span><span class="count                ">      9</span><span>                    the_statement.names.push(name);</span></pre>
<pre><span class="lineno"><a href="#line_3636" id="line_3636"> 3636.</a></span><span class="count                ">      9</span><span>                    enroll(name, &quot;variable&quot;, is_const);</span></pre>
<pre><span class="lineno"><a href="#line_3637" id="line_3637"> 3637.</a></span><span class="count                ">     10</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_3638" id="line_3638"> 3638.</a></span><span class="count                ">     10</span><span>                name.dead = false;</span></pre>
<pre><span class="lineno"><a href="#line_3639" id="line_3639"> 3639.</a></span><span class="count                ">     10</span><span>                name.init = true;</span></pre>
<pre><span class="lineno"><a href="#line_3640" id="line_3640"> 3640.</a></span><span class="count                ">     10</span><span>                if (next_token.id === &quot;=&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_3641" id="line_3641"> 3641.</a></span><span class="count                ">      8</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3642" id="line_3642"> 3642.</a></span><span class="count                ">      8</span><span>// cause: &quot;let {aa=0}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3643" id="line_3643"> 3643.</a></span><span class="count                ">      8</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3644" id="line_3644"> 3644.</a></span><span class="count                ">      8</span><span>                    advance(&quot;=&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3645" id="line_3645"> 3645.</a></span><span class="count                ">      8</span><span>                    name.expression = expression();</span></pre>
<pre><span class="lineno"><a href="#line_3646" id="line_3646"> 3646.</a></span><span class="count                ">      8</span><span>                    the_brace.open = true;</span></pre>
<pre><span class="lineno"><a href="#line_3647" id="line_3647"> 3647.</a></span><span class="count                ">     10</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_3648" id="line_3648"> 3648.</a></span><span class="count                ">     10</span><span>                if (next_token.id === &quot;,&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_3649" id="line_3649"> 3649.</a></span><span class="count                ">      8</span><span>                    advance(&quot;,&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3650" id="line_3650"> 3650.</a></span><span class="count                ">      8</span><span>                    return pair();</span></pre>
<pre><span class="lineno"><a href="#line_3651" id="line_3651"> 3651.</a></span><span class="count                ">      8</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_3652" id="line_3652"> 3652.</a></span><span class="count                ">     12</span><span>            }());</span></pre>
<pre><span class="lineno"><a href="#line_3653" id="line_3653"> 3653.</a></span><span class="count                ">      8</span><span>            advance(&quot;}&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3654" id="line_3654"> 3654.</a></span><span class="count                ">      8</span><span>            advance(&quot;=&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3655" id="line_3655"> 3655.</a></span><span class="count                ">      8</span><span>            the_statement.expression = expression(0);</span></pre>
<pre><span class="lineno"><a href="#line_3656" id="line_3656"> 3656.</a></span><span class="count                ">    729</span><span>        } else if (next_token.id === &quot;[&quot; &amp;&amp; the_statement.id !== &quot;var&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_3657" id="line_3657"> 3657.</a></span><span class="count                ">    729</span><span>            const the_bracket = next_token;</span></pre>
<pre><span class="lineno"><a href="#line_3658" id="line_3658"> 3658.</a></span><span class="count                ">    729</span><span>            advance(&quot;[&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3659" id="line_3659"> 3659.</a></span><span class="count                ">    729</span><span>            (function element() {</span></pre>
<pre><span class="lineno"><a href="#line_3660" id="line_3660"> 3660.</a></span><span class="count                ">    729</span><span>                let ellipsis;</span></pre>
<pre><span class="lineno"><a href="#line_3661" id="line_3661"> 3661.</a></span><span class="count                ">    729</span><span>                if (next_token.id === &quot;...&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_3662" id="line_3662"> 3662.</a></span><span class="count                ">    729</span><span>                    ellipsis = true;</span></pre>
<pre><span class="lineno"><a href="#line_3663" id="line_3663"> 3663.</a></span><span class="count                ">    729</span><span>                    advance(&quot;...&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3664" id="line_3664"> 3664.</a></span><span class="count                ">    729</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_3665" id="line_3665"> 3665.</a></span><span class="count                ">    729</span><span>                if (!next_token.identifier) {</span></pre>
<pre><span class="lineno"><a href="#line_3666" id="line_3666"> 3666.</a></span><span class="count                ">    729</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3667" id="line_3667"> 3667.</a></span><span class="count                ">    729</span><span>// cause: &quot;let[]&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3668" id="line_3668"> 3668.</a></span><span class="count                ">    729</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3669" id="line_3669"> 3669.</a></span><span class="count                ">    729</span><span>                    return stop(&quot;expected_identifier_a&quot;, next_token);</span></pre>
<pre><span class="lineno"><a href="#line_3670" id="line_3670"> 3670.</a></span><span class="count                ">    729</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_3671" id="line_3671"> 3671.</a></span><span class="count                ">    729</span><span>                const name = next_token;</span></pre>
<pre><span class="lineno"><a href="#line_3672" id="line_3672"> 3672.</a></span><span class="count                ">    729</span><span>                advance();</span></pre>
<pre><span class="lineno"><a href="#line_3673" id="line_3673"> 3673.</a></span><span class="count                ">    729</span><span>                the_statement.names.push(name);</span></pre>
<pre><span class="lineno"><a href="#line_3674" id="line_3674"> 3674.</a></span><span class="count                ">    729</span><span>                enroll(name, &quot;variable&quot;, is_const);</span></pre>
<pre><span class="lineno"><a href="#line_3675" id="line_3675"> 3675.</a></span><span class="count                ">    729</span><span>                name.dead = false;</span></pre>
<pre><span class="lineno"><a href="#line_3676" id="line_3676"> 3676.</a></span><span class="count                ">    729</span><span>                name.init = true;</span></pre>
<pre><span class="lineno"><a href="#line_3677" id="line_3677"> 3677.</a></span><span class="count                ">    729</span><span>                if (ellipsis) {</span></pre>
<pre><span class="lineno"><a href="#line_3678" id="line_3678"> 3678.</a></span><span class="count                ">    729</span><span>                    name.ellipsis = true;</span></pre>
<pre><span class="lineno"><a href="#line_3679" id="line_3679"> 3679.</a></span><span class="count                ">    729</span><span>                } else {</span></pre>
<pre><span class="lineno"><a href="#line_3680" id="line_3680"> 3680.</a></span><span class="count                ">    729</span><span>                    if (next_token.id === &quot;=&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_3681" id="line_3681"> 3681.</a></span><span class="count                ">    729</span><span>                        advance(&quot;=&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3682" id="line_3682"> 3682.</a></span><span class="count                ">    729</span><span>                        name.expression = expression();</span></pre>
<pre><span class="lineno"><a href="#line_3683" id="line_3683"> 3683.</a></span><span class="count                ">    729</span><span>                        the_bracket.open = true;</span></pre>
<pre><span class="lineno"><a href="#line_3684" id="line_3684"> 3684.</a></span><span class="count                ">    729</span><span>                    }</span></pre>
<pre><span class="lineno"><a href="#line_3685" id="line_3685"> 3685.</a></span><span class="count                ">    729</span><span>                    if (next_token.id === &quot;,&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_3686" id="line_3686"> 3686.</a></span><span class="count                ">    729</span><span>                        advance(&quot;,&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3687" id="line_3687"> 3687.</a></span><span class="count                ">    729</span><span>                        return element();</span></pre>
<pre><span class="lineno"><a href="#line_3688" id="line_3688"> 3688.</a></span><span class="count                ">    729</span><span>                    }</span></pre>
<pre><span class="lineno"><a href="#line_3689" id="line_3689"> 3689.</a></span><span class="count                ">    729</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_3690" id="line_3690"> 3690.</a></span><span class="count                ">    729</span><span>            }());</span></pre>
<pre><span class="lineno"><a href="#line_3691" id="line_3691"> 3691.</a></span><span class="count                ">    729</span><span>            advance(&quot;]&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3692" id="line_3692"> 3692.</a></span><span class="count                ">    729</span><span>            advance(&quot;=&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3693" id="line_3693"> 3693.</a></span><span class="count                ">    729</span><span>            the_statement.expression = expression(0);</span></pre>
<pre><span class="lineno"><a href="#line_3694" id="line_3694"> 3694.</a></span><span class="count                ">    729</span><span>        } else if (next_token.identifier) {</span></pre>
<pre><span class="lineno"><a href="#line_3695" id="line_3695"> 3695.</a></span><span class="count                ">    729</span><span>            const name = next_token;</span></pre>
<pre><span class="lineno"><a href="#line_3696" id="line_3696"> 3696.</a></span><span class="count                ">    729</span><span>            advance();</span></pre>
<pre><span class="lineno"><a href="#line_3697" id="line_3697"> 3697.</a></span><span class="count                ">    729</span><span>            if (name.id === &quot;ignore&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_3698" id="line_3698"> 3698.</a></span><span class="count                ">    729</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3699" id="line_3699"> 3699.</a></span><span class="count                ">    729</span><span>// cause: &quot;let ignore;function aa(ignore) {}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3700" id="line_3700"> 3700.</a></span><span class="count                ">    729</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3701" id="line_3701"> 3701.</a></span><span class="count                ">    729</span><span>                warn(&quot;unexpected_a&quot;, name);</span></pre>
<pre><span class="lineno"><a href="#line_3702" id="line_3702"> 3702.</a></span><span class="count                ">    729</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_3703" id="line_3703"> 3703.</a></span><span class="count                ">    729</span><span>            enroll(name, &quot;variable&quot;, is_const);</span></pre>
<pre><span class="lineno"><a href="#line_3704" id="line_3704"> 3704.</a></span><span class="count                ">    729</span><span>            if (next_token.id === &quot;=&quot; || is_const) {</span></pre>
<pre><span class="lineno"><a href="#line_3705" id="line_3705"> 3705.</a></span><span class="count                ">    729</span><span>                advance(&quot;=&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3706" id="line_3706"> 3706.</a></span><span class="count                ">    729</span><span>                name.dead = false;</span></pre>
<pre><span class="lineno"><a href="#line_3707" id="line_3707"> 3707.</a></span><span class="count                ">    729</span><span>                name.init = true;</span></pre>
<pre><span class="lineno"><a href="#line_3708" id="line_3708"> 3708.</a></span><span class="count                ">    729</span><span>                name.expression = expression(0);</span></pre>
<pre><span class="lineno"><a href="#line_3709" id="line_3709"> 3709.</a></span><span class="count                ">    729</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_3710" id="line_3710"> 3710.</a></span><span class="count                ">    729</span><span>            the_statement.names.push(name);</span></pre>
<pre><span class="lineno"><a href="#line_3711" id="line_3711"> 3711.</a></span><span class="count                ">    729</span><span>        } else {</span></pre>
<pre><span class="lineno"><a href="#line_3712" id="line_3712"> 3712.</a></span><span class="count                ">    729</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3713" id="line_3713"> 3713.</a></span><span class="count                ">    729</span><span>// cause: &quot;let 0&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3714" id="line_3714"> 3714.</a></span><span class="count                ">    729</span><span>// cause: &quot;var{aa:{aa}}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3715" id="line_3715"> 3715.</a></span><span class="count                ">    729</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3716" id="line_3716"> 3716.</a></span><span class="count                ">    729</span><span>            return stop(&quot;expected_identifier_a&quot;, next_token);</span></pre>
<pre><span class="lineno"><a href="#line_3717" id="line_3717"> 3717.</a></span><span class="count                ">    729</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_3718" id="line_3718"> 3718.</a></span><span class="count                ">    737</span><span>    }());</span></pre>
<pre><span class="lineno"><a href="#line_3719" id="line_3719"> 3719.</a></span><span class="count                ">    737</span><span>    semicolon();</span></pre>
<pre><span class="lineno"><a href="#line_3720" id="line_3720"> 3720.</a></span><span class="count                ">    737</span><span>    return the_statement;</span></pre>
<pre><span class="lineno"><a href="#line_3721" id="line_3721"> 3721.</a></span><span class="count                ">    737</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_3722" id="line_3722"> 3722.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3723" id="line_3723"> 3723.</a></span><span class="count                ">      1</span><span>stmt(&quot;const&quot;, do_var);</span></pre>
<pre><span class="lineno"><a href="#line_3724" id="line_3724"> 3724.</a></span><span class="count                ">      2</span><span>stmt(&quot;continue&quot;, function () {</span></pre>
<pre><span class="lineno"><a href="#line_3725" id="line_3725"> 3725.</a></span><span class="count                ">      2</span><span>    const the_continue = token;</span></pre>
<pre><span class="lineno"><a href="#line_3726" id="line_3726"> 3726.</a></span><span class="count                ">      1</span><span>    if (functionage.loop &lt; 1 || functionage.finally &gt; 0) {</span></pre>
<pre><span class="lineno"><a href="#line_3727" id="line_3727"> 3727.</a></span><span class="count                ">      1</span><span>        warn(&quot;unexpected_a&quot;, the_continue);</span></pre>
<pre><span class="lineno"><a href="#line_3728" id="line_3728"> 3728.</a></span><span class="count                ">      1</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_3729" id="line_3729"> 3729.</a></span><span class="count                ">      2</span><span>    not_top_level(the_continue);</span></pre>
<pre><span class="lineno"><a href="#line_3730" id="line_3730"> 3730.</a></span><span class="count                ">      2</span><span>    the_continue.disrupt = true;</span></pre>
<pre><span class="lineno"><a href="#line_3731" id="line_3731"> 3731.</a></span><span class="count                ">      2</span><span>    warn(&quot;unexpected_a&quot;, the_continue);</span></pre>
<pre><span class="lineno"><a href="#line_3732" id="line_3732"> 3732.</a></span><span class="count                ">      2</span><span>    advance(&quot;;&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3733" id="line_3733"> 3733.</a></span><span class="count                ">      2</span><span>    return the_continue;</span></pre>
<pre><span class="lineno"><a href="#line_3734" id="line_3734"> 3734.</a></span><span class="count                ">      2</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_3735" id="line_3735"> 3735.</a></span><span class="count                ">      2</span><span>stmt(&quot;debugger&quot;, function () {</span></pre>
<pre><span class="lineno"><a href="#line_3736" id="line_3736"> 3736.</a></span><span class="count                ">      2</span><span>    const the_debug = token;</span></pre>
<pre><span class="lineno"><a href="#line_3737" id="line_3737"> 3737.</a></span><span class="count                ">      1</span><span>    if (!option.devel) {</span></pre>
<pre><span class="lineno"><a href="#line_3738" id="line_3738"> 3738.</a></span><span class="count                ">      1</span><span>        warn(&quot;unexpected_a&quot;, the_debug);</span></pre>
<pre><span class="lineno"><a href="#line_3739" id="line_3739"> 3739.</a></span><span class="count                ">      1</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_3740" id="line_3740"> 3740.</a></span><span class="count                ">      2</span><span>    semicolon();</span></pre>
<pre><span class="lineno"><a href="#line_3741" id="line_3741"> 3741.</a></span><span class="count                ">      2</span><span>    return the_debug;</span></pre>
<pre><span class="lineno"><a href="#line_3742" id="line_3742"> 3742.</a></span><span class="count                ">      2</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_3743" id="line_3743"> 3743.</a></span><span class="count                ">     25</span><span>stmt(&quot;delete&quot;, function () {</span></pre>
<pre><span class="lineno"><a href="#line_3744" id="line_3744"> 3744.</a></span><span class="count                ">     25</span><span>    const the_token = token;</span></pre>
<pre><span class="lineno"><a href="#line_3745" id="line_3745"> 3745.</a></span><span class="count                ">     25</span><span>    const the_value = expression(0);</span></pre>
<pre><span class="lineno"><a href="#line_3746" id="line_3746"> 3746.</a></span><span class="count                ">     25</span><span>    if (</span></pre>
<pre><span class="lineno"><a href="#line_3747" id="line_3747"> 3747.</a></span><span class="count                ">      1</span><span>        (the_value.id !== &quot;.&quot; &amp;&amp; the_value.id !== &quot;[&quot;)</span></pre>
<pre><span class="lineno"><a href="#line_3748" id="line_3748"> 3748.</a></span><span class="count                ">     25</span><span>        || the_value.arity !== &quot;binary&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3749" id="line_3749"> 3749.</a></span><span class="count                ">      1</span><span>    ) {</span></pre>
<pre><span class="lineno"><a href="#line_3750" id="line_3750"> 3750.</a></span><span class="count                ">      1</span><span>        stop(&quot;expected_a_b&quot;, the_value, &quot;.&quot;, artifact(the_value));</span></pre>
<pre><span class="lineno"><a href="#line_3751" id="line_3751"> 3751.</a></span><span class="count                ">     24</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_3752" id="line_3752"> 3752.</a></span><span class="count                ">     24</span><span>    the_token.expression = the_value;</span></pre>
<pre><span class="lineno"><a href="#line_3753" id="line_3753"> 3753.</a></span><span class="count                ">     24</span><span>    semicolon();</span></pre>
<pre><span class="lineno"><a href="#line_3754" id="line_3754"> 3754.</a></span><span class="count                ">     24</span><span>    return the_token;</span></pre>
<pre><span class="lineno"><a href="#line_3755" id="line_3755"> 3755.</a></span><span class="count                ">     24</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_3756" id="line_3756"> 3756.</a></span><span class="count                ">      5</span><span>stmt(&quot;do&quot;, function () {</span></pre>
<pre><span class="lineno"><a href="#line_3757" id="line_3757"> 3757.</a></span><span class="count                ">      5</span><span>    const the_do = token;</span></pre>
<pre><span class="lineno"><a href="#line_3758" id="line_3758"> 3758.</a></span><span class="count                ">      5</span><span>    not_top_level(the_do);</span></pre>
<pre><span class="lineno"><a href="#line_3759" id="line_3759"> 3759.</a></span><span class="count                ">      5</span><span>    functionage.loop += 1;</span></pre>
<pre><span class="lineno"><a href="#line_3760" id="line_3760"> 3760.</a></span><span class="count                ">      5</span><span>    the_do.block = block();</span></pre>
<pre><span class="lineno"><a href="#line_3761" id="line_3761"> 3761.</a></span><span class="count                ">      5</span><span>    advance(&quot;while&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3762" id="line_3762"> 3762.</a></span><span class="count                ">      5</span><span>    the_do.expression = condition();</span></pre>
<pre><span class="lineno"><a href="#line_3763" id="line_3763"> 3763.</a></span><span class="count                ">      5</span><span>    semicolon();</span></pre>
<pre><span class="lineno"><a href="#line_3764" id="line_3764"> 3764.</a></span><span class="count                ">      1</span><span>    if (the_do.block.disrupt === true) {</span></pre>
<pre><span class="lineno"><a href="#line_3765" id="line_3765"> 3765.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3766" id="line_3766"> 3766.</a></span><span class="count                ">      1</span><span>// cause: &quot;function aa(){do{break;}while(0)}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3767" id="line_3767"> 3767.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3768" id="line_3768"> 3768.</a></span><span class="count                ">      1</span><span>        warn(&quot;weird_loop&quot;, the_do);</span></pre>
<pre><span class="lineno"><a href="#line_3769" id="line_3769"> 3769.</a></span><span class="count                ">      3</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_3770" id="line_3770"> 3770.</a></span><span class="count                ">      3</span><span>    functionage.loop -= 1;</span></pre>
<pre><span class="lineno"><a href="#line_3771" id="line_3771"> 3771.</a></span><span class="count                ">      3</span><span>    return the_do;</span></pre>
<pre><span class="lineno"><a href="#line_3772" id="line_3772"> 3772.</a></span><span class="count                ">      3</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_3773" id="line_3773"> 3773.</a></span><span class="count                ">     17</span><span>stmt(&quot;export&quot;, function () {</span></pre>
<pre><span class="lineno"><a href="#line_3774" id="line_3774"> 3774.</a></span><span class="count                ">     17</span><span>    const the_export = token;</span></pre>
<pre><span class="lineno"><a href="#line_3775" id="line_3775"> 3775.</a></span><span class="count                ">     17</span><span>    let the_id;</span></pre>
<pre><span class="lineno"><a href="#line_3776" id="line_3776"> 3776.</a></span><span class="count                ">     17</span><span>    let the_name;</span></pre>
<pre><span class="lineno"><a href="#line_3777" id="line_3777"> 3777.</a></span><span class="count                ">     17</span><span>    let the_thing;</span></pre>
<pre><span class="lineno"><a href="#line_3778" id="line_3778"> 3778.</a></span><span class="count                ">     17</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3779" id="line_3779"> 3779.</a></span><span class="count                ">      6</span><span>    function export_id() {</span></pre>
<pre><span class="lineno"><a href="#line_3780" id="line_3780"> 3780.</a></span><span class="count                ">      2</span><span>        if (!next_token.identifier) {</span></pre>
<pre><span class="lineno"><a href="#line_3781" id="line_3781"> 3781.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3782" id="line_3782"> 3782.</a></span><span class="count                ">      2</span><span>// cause: &quot;export {}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3783" id="line_3783"> 3783.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3784" id="line_3784"> 3784.</a></span><span class="count                ">      2</span><span>            stop(&quot;expected_identifier_a&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3785" id="line_3785"> 3785.</a></span><span class="count                ">      4</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_3786" id="line_3786"> 3786.</a></span><span class="count                ">      4</span><span>        the_id = next_token.id;</span></pre>
<pre><span class="lineno"><a href="#line_3787" id="line_3787"> 3787.</a></span><span class="count                ">      4</span><span>        the_name = global.context[the_id];</span></pre>
<pre><span class="lineno"><a href="#line_3788" id="line_3788"> 3788.</a></span><span class="count                ">      4</span><span>        if (the_name === undefined) {</span></pre>
<pre><span class="lineno"><a href="#line_3789" id="line_3789"> 3789.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3790" id="line_3790"> 3790.</a></span><span class="count                ">      1</span><span>// cause: &quot;export {aa}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3791" id="line_3791"> 3791.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3792" id="line_3792"> 3792.</a></span><span class="count                ">      1</span><span>            warn(&quot;unexpected_a&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3793" id="line_3793"> 3793.</a></span><span class="count                ">      3</span><span>        } else {</span></pre>
<pre><span class="lineno"><a href="#line_3794" id="line_3794"> 3794.</a></span><span class="count                ">      3</span><span>            the_name.used += 1;</span></pre>
<pre><span class="lineno"><a href="#line_3795" id="line_3795"> 3795.</a></span><span class="count                ">      3</span><span>            if (exports[the_id] !== undefined) {</span></pre>
<pre><span class="lineno"><a href="#line_3796" id="line_3796"> 3796.</a></span><span class="count                ">      3</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3797" id="line_3797"> 3797.</a></span><span class="count                ">      3</span><span>// cause: &quot;let aa;export{aa,aa}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3798" id="line_3798"> 3798.</a></span><span class="count                ">      3</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3799" id="line_3799"> 3799.</a></span><span class="count                ">      3</span><span>                warn(&quot;duplicate_a&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3800" id="line_3800"> 3800.</a></span><span class="count                ">      3</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_3801" id="line_3801"> 3801.</a></span><span class="count                ">      3</span><span>            exports[the_id] = the_name;</span></pre>
<pre><span class="lineno"><a href="#line_3802" id="line_3802"> 3802.</a></span><span class="count                ">      4</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_3803" id="line_3803"> 3803.</a></span><span class="count                ">      4</span><span>        advance();</span></pre>
<pre><span class="lineno"><a href="#line_3804" id="line_3804"> 3804.</a></span><span class="count                ">      4</span><span>        the_export.expression.push(the_thing);</span></pre>
<pre><span class="lineno"><a href="#line_3805" id="line_3805"> 3805.</a></span><span class="count                ">      4</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_3806" id="line_3806"> 3806.</a></span><span class="count                ">     17</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3807" id="line_3807"> 3807.</a></span><span class="count                ">     17</span><span>    the_export.expression = [];</span></pre>
<pre><span class="lineno"><a href="#line_3808" id="line_3808"> 3808.</a></span><span class="count                ">      6</span><span>    if (next_token.id === &quot;default&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_3809" id="line_3809"> 3809.</a></span><span class="count                ">      6</span><span>        if (exports.default !== undefined) {</span></pre>
<pre><span class="lineno"><a href="#line_3810" id="line_3810"> 3810.</a></span><span class="count                ">      6</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3811" id="line_3811"> 3811.</a></span><span class="count                ">      6</span><span>// cause: &quot;export default 0;export default 0&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3812" id="line_3812"> 3812.</a></span><span class="count                ">      6</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3813" id="line_3813"> 3813.</a></span><span class="count                ">      6</span><span>            warn(&quot;duplicate_a&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3814" id="line_3814"> 3814.</a></span><span class="count                ">      6</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_3815" id="line_3815"> 3815.</a></span><span class="count                ">      6</span><span>        advance(&quot;default&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3816" id="line_3816"> 3816.</a></span><span class="count                ">      6</span><span>        the_thing = expression(0);</span></pre>
<pre><span class="lineno"><a href="#line_3817" id="line_3817"> 3817.</a></span><span class="count                ">      6</span><span>        if (</span></pre>
<pre><span class="lineno"><a href="#line_3818" id="line_3818"> 3818.</a></span><span class="count                ">      6</span><span>            the_thing.id !== &quot;(&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3819" id="line_3819"> 3819.</a></span><span class="count                ">      6</span><span>            || the_thing.expression[0].id !== &quot;.&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3820" id="line_3820"> 3820.</a></span><span class="count                ">      6</span><span>            || the_thing.expression[0].expression.id !== &quot;Object&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3821" id="line_3821"> 3821.</a></span><span class="count                ">      6</span><span>            || the_thing.expression[0].name.id !== &quot;freeze&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3822" id="line_3822"> 3822.</a></span><span class="count                ">      6</span><span>        ) {</span></pre>
<pre><span class="lineno"><a href="#line_3823" id="line_3823"> 3823.</a></span><span class="count                ">      6</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3824" id="line_3824"> 3824.</a></span><span class="count                ">      6</span><span>// cause: &quot;export default {}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3825" id="line_3825"> 3825.</a></span><span class="count                ">      6</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3826" id="line_3826"> 3826.</a></span><span class="count                ">      6</span><span>            warn(&quot;freeze_exports&quot;, the_thing);</span></pre>
<pre><span class="lineno"><a href="#line_3827" id="line_3827"> 3827.</a></span><span class="count                ">      6</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_3828" id="line_3828"> 3828.</a></span><span class="count                ">      6</span><span>        if (next_token.id === &quot;;&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_3829" id="line_3829"> 3829.</a></span><span class="count                ">      6</span><span>            semicolon();</span></pre>
<pre><span class="lineno"><a href="#line_3830" id="line_3830"> 3830.</a></span><span class="count                ">      6</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_3831" id="line_3831"> 3831.</a></span><span class="count                ">      6</span><span>        exports.default = the_thing;</span></pre>
<pre><span class="lineno"><a href="#line_3832" id="line_3832"> 3832.</a></span><span class="count                ">      6</span><span>        the_export.expression.push(the_thing);</span></pre>
<pre><span class="lineno"><a href="#line_3833" id="line_3833"> 3833.</a></span><span class="count                ">     11</span><span>    } else {</span></pre>
<pre><span class="lineno"><a href="#line_3834" id="line_3834"> 3834.</a></span><span class="count                ">     11</span><span>        if (next_token.id === &quot;function&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_3835" id="line_3835"> 3835.</a></span><span class="count                ">     11</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3836" id="line_3836"> 3836.</a></span><span class="count                ">     11</span><span>// cause: &quot;export function aa(){}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3837" id="line_3837"> 3837.</a></span><span class="count                ">     11</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3838" id="line_3838"> 3838.</a></span><span class="count                ">     11</span><span>            warn(&quot;freeze_exports&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3839" id="line_3839"> 3839.</a></span><span class="count                ">     11</span><span>            the_thing = statement();</span></pre>
<pre><span class="lineno"><a href="#line_3840" id="line_3840"> 3840.</a></span><span class="count                ">     11</span><span>            the_name = the_thing.name;</span></pre>
<pre><span class="lineno"><a href="#line_3841" id="line_3841"> 3841.</a></span><span class="count                ">     11</span><span>            the_id = the_name.id;</span></pre>
<pre><span class="lineno"><a href="#line_3842" id="line_3842"> 3842.</a></span><span class="count                ">     11</span><span>            the_name.used += 1;</span></pre>
<pre><span class="lineno"><a href="#line_3843" id="line_3843"> 3843.</a></span><span class="count                ">     11</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3844" id="line_3844"> 3844.</a></span><span class="count                ">     11</span><span>// cause: &quot;let aa;export{aa};export function aa(){}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3845" id="line_3845"> 3845.</a></span><span class="count                ">     11</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3846" id="line_3846"> 3846.</a></span><span class="count                ">     11</span><span>            if (exports[the_id] !== undefined) {</span></pre>
<pre><span class="lineno"><a href="#line_3847" id="line_3847"> 3847.</a></span><span class="count                ">     11</span><span>                warn(&quot;duplicate_a&quot;, the_name);</span></pre>
<pre><span class="lineno"><a href="#line_3848" id="line_3848"> 3848.</a></span><span class="count                ">     11</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_3849" id="line_3849"> 3849.</a></span><span class="count                ">     11</span><span>            exports[the_id] = the_thing;</span></pre>
<pre><span class="lineno"><a href="#line_3850" id="line_3850"> 3850.</a></span><span class="count                ">     11</span><span>            the_export.expression.push(the_thing);</span></pre>
<pre><span class="lineno"><a href="#line_3851" id="line_3851"> 3851.</a></span><span class="count                ">     11</span><span>            the_thing.statement = false;</span></pre>
<pre><span class="lineno"><a href="#line_3852" id="line_3852"> 3852.</a></span><span class="count                ">     11</span><span>            the_thing.arity = &quot;unary&quot;;</span></pre>
<pre><span class="lineno"><a href="#line_3853" id="line_3853"> 3853.</a></span><span class="count                ">     11</span><span>        } else if (</span></pre>
<pre><span class="lineno"><a href="#line_3854" id="line_3854"> 3854.</a></span><span class="count                ">     11</span><span>            next_token.id === &quot;var&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3855" id="line_3855"> 3855.</a></span><span class="count                ">     11</span><span>            || next_token.id === &quot;let&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3856" id="line_3856"> 3856.</a></span><span class="count                ">     11</span><span>            || next_token.id === &quot;const&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3857" id="line_3857"> 3857.</a></span><span class="count                ">     11</span><span>        ) {</span></pre>
<pre><span class="lineno"><a href="#line_3858" id="line_3858"> 3858.</a></span><span class="count                ">     11</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3859" id="line_3859"> 3859.</a></span><span class="count                ">     11</span><span>// cause: &quot;export const&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3860" id="line_3860"> 3860.</a></span><span class="count                ">     11</span><span>// cause: &quot;export let&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3861" id="line_3861"> 3861.</a></span><span class="count                ">     11</span><span>// cause: &quot;export var&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3862" id="line_3862"> 3862.</a></span><span class="count                ">     11</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3863" id="line_3863"> 3863.</a></span><span class="count                ">     11</span><span>            warn(&quot;unexpected_a&quot;, next_token);</span></pre>
<pre><span class="lineno"><a href="#line_3864" id="line_3864"> 3864.</a></span><span class="count                ">     11</span><span>            statement();</span></pre>
<pre><span class="lineno"><a href="#line_3865" id="line_3865"> 3865.</a></span><span class="count                ">     11</span><span>        } else if (next_token.id === &quot;{&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_3866" id="line_3866"> 3866.</a></span><span class="count                ">     11</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3867" id="line_3867"> 3867.</a></span><span class="count                ">     11</span><span>// cause: &quot;export {}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3868" id="line_3868"> 3868.</a></span><span class="count                ">     11</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3869" id="line_3869"> 3869.</a></span><span class="count                ">     11</span><span>            advance(&quot;{&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3870" id="line_3870"> 3870.</a></span><span class="count                ">     11</span><span>            (function loop() {</span></pre>
<pre><span class="lineno"><a href="#line_3871" id="line_3871"> 3871.</a></span><span class="count                ">     11</span><span>                export_id();</span></pre>
<pre><span class="lineno"><a href="#line_3872" id="line_3872"> 3872.</a></span><span class="count                ">     11</span><span>                if (next_token.id === &quot;,&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_3873" id="line_3873"> 3873.</a></span><span class="count                ">     11</span><span>                    advance(&quot;,&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3874" id="line_3874"> 3874.</a></span><span class="count                ">     11</span><span>                    return loop();</span></pre>
<pre><span class="lineno"><a href="#line_3875" id="line_3875"> 3875.</a></span><span class="count                ">     11</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_3876" id="line_3876"> 3876.</a></span><span class="count                ">     11</span><span>            }());</span></pre>
<pre><span class="lineno"><a href="#line_3877" id="line_3877"> 3877.</a></span><span class="count                ">     11</span><span>            advance(&quot;}&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3878" id="line_3878"> 3878.</a></span><span class="count                ">     11</span><span>            semicolon();</span></pre>
<pre><span class="lineno"><a href="#line_3879" id="line_3879"> 3879.</a></span><span class="count                ">     11</span><span>        } else {</span></pre>
<pre><span class="lineno"><a href="#line_3880" id="line_3880"> 3880.</a></span><span class="count                ">     11</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3881" id="line_3881"> 3881.</a></span><span class="count                ">     11</span><span>// cause: &quot;export&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3882" id="line_3882"> 3882.</a></span><span class="count                ">     11</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3883" id="line_3883"> 3883.</a></span><span class="count                ">     11</span><span>            stop(&quot;unexpected_a&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3884" id="line_3884"> 3884.</a></span><span class="count                ">     11</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_3885" id="line_3885"> 3885.</a></span><span class="count                ">     11</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_3886" id="line_3886"> 3886.</a></span><span class="count                ">     11</span><span>    module_mode = true;</span></pre>
<pre><span class="lineno"><a href="#line_3887" id="line_3887"> 3887.</a></span><span class="count                ">     11</span><span>    return the_export;</span></pre>
<pre><span class="lineno"><a href="#line_3888" id="line_3888"> 3888.</a></span><span class="count                ">     11</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_3889" id="line_3889"> 3889.</a></span><span class="count                ">     12</span><span>stmt(&quot;for&quot;, function () {</span></pre>
<pre><span class="lineno"><a href="#line_3890" id="line_3890"> 3890.</a></span><span class="count                ">     12</span><span>    let first;</span></pre>
<pre><span class="lineno"><a href="#line_3891" id="line_3891"> 3891.</a></span><span class="count                ">     12</span><span>    const the_for = token;</span></pre>
<pre><span class="lineno"><a href="#line_3892" id="line_3892"> 3892.</a></span><span class="count                ">     12</span><span>    if (!option.for) {</span></pre>
<pre><span class="lineno"><a href="#line_3893" id="line_3893"> 3893.</a></span><span class="count                ">     12</span><span>        warn(&quot;unexpected_a&quot;, the_for);</span></pre>
<pre><span class="lineno"><a href="#line_3894" id="line_3894"> 3894.</a></span><span class="count                ">     12</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_3895" id="line_3895"> 3895.</a></span><span class="count                ">     12</span><span>    not_top_level(the_for);</span></pre>
<pre><span class="lineno"><a href="#line_3896" id="line_3896"> 3896.</a></span><span class="count                ">     12</span><span>    functionage.loop += 1;</span></pre>
<pre><span class="lineno"><a href="#line_3897" id="line_3897"> 3897.</a></span><span class="count                ">     12</span><span>    advance(&quot;(&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3898" id="line_3898"> 3898.</a></span><span class="count                ">     12</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3899" id="line_3899"> 3899.</a></span><span class="count                ">     12</span><span>// cause: &quot;for(){}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3900" id="line_3900"> 3900.</a></span><span class="count                ">     12</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3901" id="line_3901"> 3901.</a></span><span class="count                ">     12</span><span>    token.free = true;</span></pre>
<pre><span class="lineno"><a href="#line_3902" id="line_3902"> 3902.</a></span><span class="count                ">      2</span><span>    if (next_token.id === &quot;;&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_3903" id="line_3903"> 3903.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3904" id="line_3904"> 3904.</a></span><span class="count                ">      2</span><span>// cause: &quot;for(;;){}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3905" id="line_3905"> 3905.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3906" id="line_3906"> 3906.</a></span><span class="count                ">      2</span><span>        return stop(&quot;expected_a_b&quot;, the_for, &quot;while (&quot;, &quot;for (;&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3907" id="line_3907"> 3907.</a></span><span class="count                ">     10</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_3908" id="line_3908"> 3908.</a></span><span class="count                ">     10</span><span>    if (</span></pre>
<pre><span class="lineno"><a href="#line_3909" id="line_3909"> 3909.</a></span><span class="count                ">     10</span><span>        next_token.id === &quot;var&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3910" id="line_3910"> 3910.</a></span><span class="count                ">     10</span><span>        || next_token.id === &quot;let&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3911" id="line_3911"> 3911.</a></span><span class="count                ">     10</span><span>        || next_token.id === &quot;const&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3912" id="line_3912"> 3912.</a></span><span class="count                ">      1</span><span>    ) {</span></pre>
<pre><span class="lineno"><a href="#line_3913" id="line_3913"> 3913.</a></span><span class="count                ">      1</span><span>        return stop(&quot;unexpected_a&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3914" id="line_3914"> 3914.</a></span><span class="count                ">      9</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_3915" id="line_3915"> 3915.</a></span><span class="count                ">      9</span><span>    first = expression(0);</span></pre>
<pre><span class="lineno"><a href="#line_3916" id="line_3916"> 3916.</a></span><span class="count                ">      9</span><span>    if (first.id === &quot;in&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_3917" id="line_3917"> 3917.</a></span><span class="count                ">      3</span><span>        if (first.expression[0].arity !== &quot;variable&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_3918" id="line_3918"> 3918.</a></span><span class="count                ">      3</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3919" id="line_3919"> 3919.</a></span><span class="count                ">      3</span><span>// cause: &quot;for(0 in aa){}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3920" id="line_3920"> 3920.</a></span><span class="count                ">      3</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3921" id="line_3921"> 3921.</a></span><span class="count                ">      3</span><span>            warn(&quot;bad_assignment_a&quot;, first.expression[0]);</span></pre>
<pre><span class="lineno"><a href="#line_3922" id="line_3922"> 3922.</a></span><span class="count                ">      3</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_3923" id="line_3923"> 3923.</a></span><span class="count                ">      3</span><span>        the_for.name = first.expression[0];</span></pre>
<pre><span class="lineno"><a href="#line_3924" id="line_3924"> 3924.</a></span><span class="count                ">      3</span><span>        the_for.expression = first.expression[1];</span></pre>
<pre><span class="lineno"><a href="#line_3925" id="line_3925"> 3925.</a></span><span class="count                ">      3</span><span>        warn(&quot;expected_a_b&quot;, the_for, &quot;Object.keys&quot;, &quot;for in&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3926" id="line_3926"> 3926.</a></span><span class="count                ">      4</span><span>    } else {</span></pre>
<pre><span class="lineno"><a href="#line_3927" id="line_3927"> 3927.</a></span><span class="count                ">      4</span><span>        the_for.initial = first;</span></pre>
<pre><span class="lineno"><a href="#line_3928" id="line_3928"> 3928.</a></span><span class="count                ">      4</span><span>        advance(&quot;;&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3929" id="line_3929"> 3929.</a></span><span class="count                ">      4</span><span>        the_for.expression = expression(0);</span></pre>
<pre><span class="lineno"><a href="#line_3930" id="line_3930"> 3930.</a></span><span class="count                ">      4</span><span>        advance(&quot;;&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3931" id="line_3931"> 3931.</a></span><span class="count                ">      4</span><span>        the_for.inc = expression(0);</span></pre>
<pre><span class="lineno"><a href="#line_3932" id="line_3932"> 3932.</a></span><span class="count                ">      4</span><span>        if (the_for.inc.id === &quot;++&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_3933" id="line_3933"> 3933.</a></span><span class="count                ">      4</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3934" id="line_3934"> 3934.</a></span><span class="count                ">      4</span><span>// cause: &quot;for(aa;aa;aa++){}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3935" id="line_3935"> 3935.</a></span><span class="count                ">      4</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3936" id="line_3936"> 3936.</a></span><span class="count                ">      4</span><span>            warn(&quot;expected_a_b&quot;, the_for.inc, &quot;+= 1&quot;, &quot;++&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3937" id="line_3937"> 3937.</a></span><span class="count                ">      4</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_3938" id="line_3938"> 3938.</a></span><span class="count                ">      7</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_3939" id="line_3939"> 3939.</a></span><span class="count                ">      7</span><span>    advance(&quot;)&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3940" id="line_3940"> 3940.</a></span><span class="count                ">      7</span><span>    the_for.block = block();</span></pre>
<pre><span class="lineno"><a href="#line_3941" id="line_3941"> 3941.</a></span><span class="count                ">      7</span><span>    if (the_for.block.disrupt === true) {</span></pre>
<pre><span class="lineno"><a href="#line_3942" id="line_3942"> 3942.</a></span><span class="count                ">      1</span><span>        warn(&quot;weird_loop&quot;, the_for);</span></pre>
<pre><span class="lineno"><a href="#line_3943" id="line_3943"> 3943.</a></span><span class="count                ">      7</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_3944" id="line_3944"> 3944.</a></span><span class="count                ">      7</span><span>    functionage.loop -= 1;</span></pre>
<pre><span class="lineno"><a href="#line_3945" id="line_3945"> 3945.</a></span><span class="count                ">      7</span><span>    return the_for;</span></pre>
<pre><span class="lineno"><a href="#line_3946" id="line_3946"> 3946.</a></span><span class="count                ">      7</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_3947" id="line_3947"> 3947.</a></span><span class="count                ">      1</span><span>stmt(&quot;function&quot;, do_function);</span></pre>
<pre><span class="lineno"><a href="#line_3948" id="line_3948"> 3948.</a></span><span class="count                ">   1196</span><span>stmt(&quot;if&quot;, function () {</span></pre>
<pre><span class="lineno"><a href="#line_3949" id="line_3949"> 3949.</a></span><span class="count                ">   1196</span><span>    let the_else;</span></pre>
<pre><span class="lineno"><a href="#line_3950" id="line_3950"> 3950.</a></span><span class="count                ">   1196</span><span>    const the_if = token;</span></pre>
<pre><span class="lineno"><a href="#line_3951" id="line_3951"> 3951.</a></span><span class="count                ">   1196</span><span>    the_if.expression = condition();</span></pre>
<pre><span class="lineno"><a href="#line_3952" id="line_3952"> 3952.</a></span><span class="count                ">   1196</span><span>    the_if.block = block();</span></pre>
<pre><span class="lineno"><a href="#line_3953" id="line_3953"> 3953.</a></span><span class="count                ">    292</span><span>    if (next_token.id === &quot;else&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_3954" id="line_3954"> 3954.</a></span><span class="count                ">    292</span><span>        advance(&quot;else&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3955" id="line_3955"> 3955.</a></span><span class="count                ">    292</span><span>        the_else = token;</span></pre>
<pre><span class="lineno"><a href="#line_3956" id="line_3956"> 3956.</a></span><span class="count                ">    292</span><span>        the_if.else = (</span></pre>
<pre><span class="lineno"><a href="#line_3957" id="line_3957"> 3957.</a></span><span class="count                ">    292</span><span>            next_token.id === &quot;if&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3958" id="line_3958"> 3958.</a></span><span class="count                ">    292</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3959" id="line_3959"> 3959.</a></span><span class="count                ">    292</span><span>// cause: &quot;if(0){0}else if(0){0}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3960" id="line_3960"> 3960.</a></span><span class="count                ">    292</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3961" id="line_3961"> 3961.</a></span><span class="count                ">    292</span><span>            ? statement()</span></pre>
<pre><span class="lineno"><a href="#line_3962" id="line_3962"> 3962.</a></span><span class="count                ">    292</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3963" id="line_3963"> 3963.</a></span><span class="count                ">    292</span><span>// cause: &quot;if(0){0}else{0}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3964" id="line_3964"> 3964.</a></span><span class="count                ">    292</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3965" id="line_3965"> 3965.</a></span><span class="count                ">    292</span><span>            : block()</span></pre>
<pre><span class="lineno"><a href="#line_3966" id="line_3966"> 3966.</a></span><span class="count                ">    292</span><span>        );</span></pre>
<pre><span class="lineno"><a href="#line_3967" id="line_3967"> 3967.</a></span><span class="count                ">    292</span><span>        if (the_if.block.disrupt === true) {</span></pre>
<pre><span class="lineno"><a href="#line_3968" id="line_3968"> 3968.</a></span><span class="count                ">    292</span><span>            if (the_if.else.disrupt === true) {</span></pre>
<pre><span class="lineno"><a href="#line_3969" id="line_3969"> 3969.</a></span><span class="count                ">    292</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3970" id="line_3970"> 3970.</a></span><span class="count                ">    292</span><span>// cause: &quot;if(0){break;}else{}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3971" id="line_3971"> 3971.</a></span><span class="count                ">    292</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3972" id="line_3972"> 3972.</a></span><span class="count                ">    292</span><span>                the_if.disrupt = true;</span></pre>
<pre><span class="lineno"><a href="#line_3973" id="line_3973"> 3973.</a></span><span class="count                ">    292</span><span>            } else {</span></pre>
<pre><span class="lineno"><a href="#line_3974" id="line_3974"> 3974.</a></span><span class="count                ">    292</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3975" id="line_3975"> 3975.</a></span><span class="count                ">    292</span><span>// cause: &quot;if(0){break;}else{}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3976" id="line_3976"> 3976.</a></span><span class="count                ">    292</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3977" id="line_3977"> 3977.</a></span><span class="count                ">    292</span><span>                warn(&quot;unexpected_a&quot;, the_else);</span></pre>
<pre><span class="lineno"><a href="#line_3978" id="line_3978"> 3978.</a></span><span class="count                ">    292</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_3979" id="line_3979"> 3979.</a></span><span class="count                ">    292</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_3980" id="line_3980"> 3980.</a></span><span class="count                ">   1194</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_3981" id="line_3981"> 3981.</a></span><span class="count                ">   1194</span><span>    return the_if;</span></pre>
<pre><span class="lineno"><a href="#line_3982" id="line_3982"> 3982.</a></span><span class="count                ">   1194</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_3983" id="line_3983"> 3983.</a></span><span class="count                ">     14</span><span>stmt(&quot;import&quot;, function () {</span></pre>
<pre><span class="lineno"><a href="#line_3984" id="line_3984"> 3984.</a></span><span class="count                ">     14</span><span>    const the_import = token;</span></pre>
<pre><span class="lineno"><a href="#line_3985" id="line_3985"> 3985.</a></span><span class="count                ">      2</span><span>    if (next_token.id === &quot;(&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_3986" id="line_3986"> 3986.</a></span><span class="count                ">      2</span><span>        the_import.arity = &quot;unary&quot;;</span></pre>
<pre><span class="lineno"><a href="#line_3987" id="line_3987"> 3987.</a></span><span class="count                ">      2</span><span>        the_import.constant = true;</span></pre>
<pre><span class="lineno"><a href="#line_3988" id="line_3988"> 3988.</a></span><span class="count                ">      2</span><span>        the_import.statement = false;</span></pre>
<pre><span class="lineno"><a href="#line_3989" id="line_3989"> 3989.</a></span><span class="count                ">      2</span><span>        advance(&quot;(&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3990" id="line_3990"> 3990.</a></span><span class="count                ">      2</span><span>        const string = expression(0);</span></pre>
<pre><span class="lineno"><a href="#line_3991" id="line_3991"> 3991.</a></span><span class="count                ">      2</span><span>        if (string.id !== &quot;(string)&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_3992" id="line_3992"> 3992.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3993" id="line_3993"> 3993.</a></span><span class="count                ">      2</span><span>// cause: &quot;import(aa)&quot;</span></pre>
<pre><span class="lineno"><a href="#line_3994" id="line_3994"> 3994.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_3995" id="line_3995"> 3995.</a></span><span class="count                ">      2</span><span>            warn(&quot;expected_string_a&quot;, string);</span></pre>
<pre><span class="lineno"><a href="#line_3996" id="line_3996"> 3996.</a></span><span class="count                ">      2</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_3997" id="line_3997"> 3997.</a></span><span class="count                ">      2</span><span>        froms.push(token.value);</span></pre>
<pre><span class="lineno"><a href="#line_3998" id="line_3998"> 3998.</a></span><span class="count                ">      2</span><span>        advance(&quot;)&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_3999" id="line_3999"> 3999.</a></span><span class="count                ">      2</span><span>        advance(&quot;.&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_4000" id="line_4000"> 4000.</a></span><span class="count                ">      2</span><span>        advance(&quot;then&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_4001" id="line_4001"> 4001.</a></span><span class="count                ">      2</span><span>        advance(&quot;(&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_4002" id="line_4002"> 4002.</a></span><span class="count                ">      2</span><span>        the_import.expression = expression(0);</span></pre>
<pre><span class="lineno"><a href="#line_4003" id="line_4003"> 4003.</a></span><span class="count                ">      2</span><span>        advance(&quot;)&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_4004" id="line_4004"> 4004.</a></span><span class="count                ">      2</span><span>        semicolon();</span></pre>
<pre><span class="lineno"><a href="#line_4005" id="line_4005"> 4005.</a></span><span class="count                ">      2</span><span>        return the_import;</span></pre>
<pre><span class="lineno"><a href="#line_4006" id="line_4006"> 4006.</a></span><span class="count                ">     12</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_4007" id="line_4007"> 4007.</a></span><span class="count                ">     12</span><span>    let name;</span></pre>
<pre><span class="lineno"><a href="#line_4008" id="line_4008"> 4008.</a></span><span class="count                ">     12</span><span>    if (typeof module_mode === &quot;object&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_4009" id="line_4009"> 4009.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4010" id="line_4010"> 4010.</a></span><span class="count                ">      1</span><span>// cause: &quot;/*global aa*/\nimport aa from \&quot;aa\&quot;&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4011" id="line_4011"> 4011.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4012" id="line_4012"> 4012.</a></span><span class="count                ">      1</span><span>        warn(&quot;unexpected_directive_a&quot;, module_mode, module_mode.directive);</span></pre>
<pre><span class="lineno"><a href="#line_4013" id="line_4013"> 4013.</a></span><span class="count                ">     12</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_4014" id="line_4014"> 4014.</a></span><span class="count                ">     12</span><span>    module_mode = true;</span></pre>
<pre><span class="lineno"><a href="#line_4015" id="line_4015"> 4015.</a></span><span class="count                ">     12</span><span>    if (next_token.identifier) {</span></pre>
<pre><span class="lineno"><a href="#line_4016" id="line_4016"> 4016.</a></span><span class="count                ">      8</span><span>        name = next_token;</span></pre>
<pre><span class="lineno"><a href="#line_4017" id="line_4017"> 4017.</a></span><span class="count                ">      8</span><span>        advance();</span></pre>
<pre><span class="lineno"><a href="#line_4018" id="line_4018"> 4018.</a></span><span class="count                ">      8</span><span>        if (name.id === &quot;ignore&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_4019" id="line_4019"> 4019.</a></span><span class="count                ">      8</span><span>            warn(&quot;unexpected_a&quot;, name);</span></pre>
<pre><span class="lineno"><a href="#line_4020" id="line_4020"> 4020.</a></span><span class="count                ">      8</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_4021" id="line_4021"> 4021.</a></span><span class="count                ">      8</span><span>        enroll(name, &quot;variable&quot;, true);</span></pre>
<pre><span class="lineno"><a href="#line_4022" id="line_4022"> 4022.</a></span><span class="count                ">      8</span><span>        the_import.name = name;</span></pre>
<pre><span class="lineno"><a href="#line_4023" id="line_4023"> 4023.</a></span><span class="count                ">      8</span><span>    } else {</span></pre>
<pre><span class="lineno"><a href="#line_4024" id="line_4024"> 4024.</a></span><span class="count                ">      4</span><span>        const names = [];</span></pre>
<pre><span class="lineno"><a href="#line_4025" id="line_4025"> 4025.</a></span><span class="count                ">      4</span><span>        advance(&quot;{&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_4026" id="line_4026"> 4026.</a></span><span class="count                ">      4</span><span>        if (next_token.id !== &quot;}&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_4027" id="line_4027"> 4027.</a></span><span class="count                ">      4</span><span>            while (true) {</span></pre>
<pre><span class="lineno"><a href="#line_4028" id="line_4028"> 4028.</a></span><span class="count                ">      4</span><span>                if (!next_token.identifier) {</span></pre>
<pre><span class="lineno"><a href="#line_4029" id="line_4029"> 4029.</a></span><span class="count                ">      4</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4030" id="line_4030"> 4030.</a></span><span class="count                ">      4</span><span>// cause: &quot;import {&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4031" id="line_4031"> 4031.</a></span><span class="count                ">      4</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4032" id="line_4032"> 4032.</a></span><span class="count                ">      4</span><span>                    stop(&quot;expected_identifier_a&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_4033" id="line_4033"> 4033.</a></span><span class="count                ">      4</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_4034" id="line_4034"> 4034.</a></span><span class="count                ">      4</span><span>                name = next_token;</span></pre>
<pre><span class="lineno"><a href="#line_4035" id="line_4035"> 4035.</a></span><span class="count                ">      4</span><span>                advance();</span></pre>
<pre><span class="lineno"><a href="#line_4036" id="line_4036"> 4036.</a></span><span class="count                ">      4</span><span>                if (name.id === &quot;ignore&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_4037" id="line_4037"> 4037.</a></span><span class="count                ">      4</span><span>                    warn(&quot;unexpected_a&quot;, name);</span></pre>
<pre><span class="lineno"><a href="#line_4038" id="line_4038"> 4038.</a></span><span class="count                ">      4</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_4039" id="line_4039"> 4039.</a></span><span class="count                ">      4</span><span>                enroll(name, &quot;variable&quot;, true);</span></pre>
<pre><span class="lineno"><a href="#line_4040" id="line_4040"> 4040.</a></span><span class="count                ">      4</span><span>                names.push(name);</span></pre>
<pre><span class="lineno"><a href="#line_4041" id="line_4041"> 4041.</a></span><span class="count                ">      4</span><span>                if (next_token.id !== &quot;,&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_4042" id="line_4042"> 4042.</a></span><span class="count                ">      4</span><span>                    break;</span></pre>
<pre><span class="lineno"><a href="#line_4043" id="line_4043"> 4043.</a></span><span class="count                ">      4</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_4044" id="line_4044"> 4044.</a></span><span class="count                ">      4</span><span>                advance(&quot;,&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_4045" id="line_4045"> 4045.</a></span><span class="count                ">      4</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_4046" id="line_4046"> 4046.</a></span><span class="count                ">      4</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_4047" id="line_4047"> 4047.</a></span><span class="count                ">      4</span><span>        advance(&quot;}&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_4048" id="line_4048"> 4048.</a></span><span class="count                ">      4</span><span>        the_import.name = names;</span></pre>
<pre><span class="lineno"><a href="#line_4049" id="line_4049"> 4049.</a></span><span class="count                ">     11</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_4050" id="line_4050"> 4050.</a></span><span class="count                ">     11</span><span>    advance(&quot;from&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_4051" id="line_4051"> 4051.</a></span><span class="count                ">     11</span><span>    advance(&quot;(string)&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_4052" id="line_4052"> 4052.</a></span><span class="count                ">     11</span><span>    the_import.import = token;</span></pre>
<pre><span class="lineno"><a href="#line_4053" id="line_4053"> 4053.</a></span><span class="count                ">     11</span><span>    if (!rx_module.test(token.value)) {</span></pre>
<pre><span class="lineno"><a href="#line_4054" id="line_4054"> 4054.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4055" id="line_4055"> 4055.</a></span><span class="count                ">      1</span><span>// cause: &quot;import aa from \&quot;!aa\&quot;&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4056" id="line_4056"> 4056.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4057" id="line_4057"> 4057.</a></span><span class="count                ">      1</span><span>        warn(&quot;bad_module_name_a&quot;, token);</span></pre>
<pre><span class="lineno"><a href="#line_4058" id="line_4058"> 4058.</a></span><span class="count                ">     11</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_4059" id="line_4059"> 4059.</a></span><span class="count                ">     11</span><span>    froms.push(token.value);</span></pre>
<pre><span class="lineno"><a href="#line_4060" id="line_4060"> 4060.</a></span><span class="count                ">     11</span><span>    semicolon();</span></pre>
<pre><span class="lineno"><a href="#line_4061" id="line_4061"> 4061.</a></span><span class="count                ">     11</span><span>    return the_import;</span></pre>
<pre><span class="lineno"><a href="#line_4062" id="line_4062"> 4062.</a></span><span class="count                ">     11</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_4063" id="line_4063"> 4063.</a></span><span class="count                ">      1</span><span>stmt(&quot;let&quot;, do_var);</span></pre>
<pre><span class="lineno"><a href="#line_4064" id="line_4064"> 4064.</a></span><span class="count                ">    527</span><span>stmt(&quot;return&quot;, function () {</span></pre>
<pre><span class="lineno"><a href="#line_4065" id="line_4065"> 4065.</a></span><span class="count                ">    527</span><span>    const the_return = token;</span></pre>
<pre><span class="lineno"><a href="#line_4066" id="line_4066"> 4066.</a></span><span class="count                ">    527</span><span>    not_top_level(the_return);</span></pre>
<pre><span class="lineno"><a href="#line_4067" id="line_4067"> 4067.</a></span><span class="count                ">      1</span><span>    if (functionage.finally &gt; 0) {</span></pre>
<pre><span class="lineno"><a href="#line_4068" id="line_4068"> 4068.</a></span><span class="count                ">      1</span><span>        warn(&quot;unexpected_a&quot;, the_return);</span></pre>
<pre><span class="lineno"><a href="#line_4069" id="line_4069"> 4069.</a></span><span class="count                ">      1</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_4070" id="line_4070"> 4070.</a></span><span class="count                ">    527</span><span>    the_return.disrupt = true;</span></pre>
<pre><span class="lineno"><a href="#line_4071" id="line_4071"> 4071.</a></span><span class="count                ">    487</span><span>    if (next_token.id !== &quot;;&quot; &amp;&amp; the_return.line === next_token.line) {</span></pre>
<pre><span class="lineno"><a href="#line_4072" id="line_4072"> 4072.</a></span><span class="count                ">    487</span><span>        the_return.expression = expression(10);</span></pre>
<pre><span class="lineno"><a href="#line_4073" id="line_4073"> 4073.</a></span><span class="count                ">    487</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_4074" id="line_4074"> 4074.</a></span><span class="count                ">    527</span><span>    advance(&quot;;&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_4075" id="line_4075"> 4075.</a></span><span class="count                ">    527</span><span>    return the_return;</span></pre>
<pre><span class="lineno"><a href="#line_4076" id="line_4076"> 4076.</a></span><span class="count                ">    527</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_4077" id="line_4077"> 4077.</a></span><span class="count                ">     13</span><span>stmt(&quot;switch&quot;, function () {</span></pre>
<pre><span class="lineno"><a href="#line_4078" id="line_4078"> 4078.</a></span><span class="count                ">     13</span><span>    let dups = [];</span></pre>
<pre><span class="lineno"><a href="#line_4079" id="line_4079"> 4079.</a></span><span class="count                ">     13</span><span>    let last;</span></pre>
<pre><span class="lineno"><a href="#line_4080" id="line_4080"> 4080.</a></span><span class="count                ">     13</span><span>    let stmts;</span></pre>
<pre><span class="lineno"><a href="#line_4081" id="line_4081"> 4081.</a></span><span class="count                ">     13</span><span>    const the_cases = [];</span></pre>
<pre><span class="lineno"><a href="#line_4082" id="line_4082"> 4082.</a></span><span class="count                ">     13</span><span>    let the_disrupt = true;</span></pre>
<pre><span class="lineno"><a href="#line_4083" id="line_4083"> 4083.</a></span><span class="count                ">     13</span><span>    const the_switch = token;</span></pre>
<pre><span class="lineno"><a href="#line_4084" id="line_4084"> 4084.</a></span><span class="count                ">     13</span><span>    not_top_level(the_switch);</span></pre>
<pre><span class="lineno"><a href="#line_4085" id="line_4085"> 4085.</a></span><span class="count                ">      1</span><span>    if (functionage.finally &gt; 0) {</span></pre>
<pre><span class="lineno"><a href="#line_4086" id="line_4086"> 4086.</a></span><span class="count                ">      1</span><span>        warn(&quot;unexpected_a&quot;, the_switch);</span></pre>
<pre><span class="lineno"><a href="#line_4087" id="line_4087"> 4087.</a></span><span class="count                ">      1</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_4088" id="line_4088"> 4088.</a></span><span class="count                ">     13</span><span>    functionage.switch += 1;</span></pre>
<pre><span class="lineno"><a href="#line_4089" id="line_4089"> 4089.</a></span><span class="count                ">     13</span><span>    advance(&quot;(&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_4090" id="line_4090"> 4090.</a></span><span class="count                ">     13</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4091" id="line_4091"> 4091.</a></span><span class="count                ">     13</span><span>// cause: &quot;switch(){}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4092" id="line_4092"> 4092.</a></span><span class="count                ">     13</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4093" id="line_4093"> 4093.</a></span><span class="count                ">     13</span><span>    token.free = true;</span></pre>
<pre><span class="lineno"><a href="#line_4094" id="line_4094"> 4094.</a></span><span class="count                ">     13</span><span>    the_switch.expression = expression(0);</span></pre>
<pre><span class="lineno"><a href="#line_4095" id="line_4095"> 4095.</a></span><span class="count                ">     13</span><span>    the_switch.block = the_cases;</span></pre>
<pre><span class="lineno"><a href="#line_4096" id="line_4096"> 4096.</a></span><span class="count                ">     13</span><span>    advance(&quot;)&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_4097" id="line_4097"> 4097.</a></span><span class="count                ">     13</span><span>    advance(&quot;{&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_4098" id="line_4098"> 4098.</a></span><span class="count                ">     18</span><span>    (function major() {</span></pre>
<pre><span class="lineno"><a href="#line_4099" id="line_4099"> 4099.</a></span><span class="count                ">     18</span><span>        const the_case = next_token;</span></pre>
<pre><span class="lineno"><a href="#line_4100" id="line_4100"> 4100.</a></span><span class="count                ">     18</span><span>        the_case.arity = &quot;statement&quot;;</span></pre>
<pre><span class="lineno"><a href="#line_4101" id="line_4101"> 4101.</a></span><span class="count                ">     18</span><span>        the_case.expression = [];</span></pre>
<pre><span class="lineno"><a href="#line_4102" id="line_4102"> 4102.</a></span><span class="count                ">     31</span><span>        (function minor() {</span></pre>
<pre><span class="lineno"><a href="#line_4103" id="line_4103"> 4103.</a></span><span class="count                ">     31</span><span>            advance(&quot;case&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_4104" id="line_4104"> 4104.</a></span><span class="count                ">     31</span><span>            token.switch = true;</span></pre>
<pre><span class="lineno"><a href="#line_4105" id="line_4105"> 4105.</a></span><span class="count                ">     31</span><span>            const exp = expression(0);</span></pre>
<pre><span class="lineno"><a href="#line_4106" id="line_4106"> 4106.</a></span><span class="count                ">     48</span><span>            if (dups.some(function (thing) {</span></pre>
<pre><span class="lineno"><a href="#line_4107" id="line_4107"> 4107.</a></span><span class="count                ">     48</span><span>                return are_similar(thing, exp);</span></pre>
<pre><span class="lineno"><a href="#line_4108" id="line_4108"> 4108.</a></span><span class="count                ">     48</span><span>            })) {</span></pre>
<pre><span class="lineno"><a href="#line_4109" id="line_4109"> 4109.</a></span><span class="count                ">      1</span><span>                warn(&quot;unexpected_a&quot;, exp);</span></pre>
<pre><span class="lineno"><a href="#line_4110" id="line_4110"> 4110.</a></span><span class="count                ">      1</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_4111" id="line_4111"> 4111.</a></span><span class="count                ">     31</span><span>            dups.push(exp);</span></pre>
<pre><span class="lineno"><a href="#line_4112" id="line_4112"> 4112.</a></span><span class="count                ">     31</span><span>            the_case.expression.push(exp);</span></pre>
<pre><span class="lineno"><a href="#line_4113" id="line_4113"> 4113.</a></span><span class="count                ">     31</span><span>            advance(&quot;:&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_4114" id="line_4114"> 4114.</a></span><span class="count                ">     13</span><span>            if (next_token.id === &quot;case&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_4115" id="line_4115"> 4115.</a></span><span class="count                ">     13</span><span>                return minor();</span></pre>
<pre><span class="lineno"><a href="#line_4116" id="line_4116"> 4116.</a></span><span class="count                ">     13</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_4117" id="line_4117"> 4117.</a></span><span class="count                ">     31</span><span>        }());</span></pre>
<pre><span class="lineno"><a href="#line_4118" id="line_4118"> 4118.</a></span><span class="count                ">     18</span><span>        stmts = statements();</span></pre>
<pre><span class="lineno"><a href="#line_4119" id="line_4119"> 4119.</a></span><span class="count                ">      1</span><span>        if (stmts.length &lt; 1) {</span></pre>
<pre><span class="lineno"><a href="#line_4120" id="line_4120"> 4120.</a></span><span class="count                ">      1</span><span>            warn(&quot;expected_statements_a&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_4121" id="line_4121"> 4121.</a></span><span class="count                ">      1</span><span>            return;</span></pre>
<pre><span class="lineno"><a href="#line_4122" id="line_4122"> 4122.</a></span><span class="count                ">     16</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_4123" id="line_4123"> 4123.</a></span><span class="count                ">     16</span><span>        the_case.block = stmts;</span></pre>
<pre><span class="lineno"><a href="#line_4124" id="line_4124"> 4124.</a></span><span class="count                ">     16</span><span>        the_cases.push(the_case);</span></pre>
<pre><span class="lineno"><a href="#line_4125" id="line_4125"> 4125.</a></span><span class="count                ">     16</span><span>        last = stmts[stmts.length - 1];</span></pre>
<pre><span class="lineno"><a href="#line_4126" id="line_4126"> 4126.</a></span><span class="count                ">     16</span><span>        if (last.disrupt) {</span></pre>
<pre><span class="lineno"><a href="#line_4127" id="line_4127"> 4127.</a></span><span class="count                ">     15</span><span>            if (last.id === &quot;break&quot; &amp;&amp; last.label === undefined) {</span></pre>
<pre><span class="lineno"><a href="#line_4128" id="line_4128"> 4128.</a></span><span class="count                ">     15</span><span>                the_disrupt = false;</span></pre>
<pre><span class="lineno"><a href="#line_4129" id="line_4129"> 4129.</a></span><span class="count                ">     15</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_4130" id="line_4130"> 4130.</a></span><span class="count                ">     15</span><span>        } else {</span></pre>
<pre><span class="lineno"><a href="#line_4131" id="line_4131"> 4131.</a></span><span class="count                ">      1</span><span>            warn(</span></pre>
<pre><span class="lineno"><a href="#line_4132" id="line_4132"> 4132.</a></span><span class="count                ">      1</span><span>                &quot;expected_a_before_b&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_4133" id="line_4133"> 4133.</a></span><span class="count                ">      1</span><span>                next_token,</span></pre>
<pre><span class="lineno"><a href="#line_4134" id="line_4134"> 4134.</a></span><span class="count                ">      1</span><span>                &quot;break;&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_4135" id="line_4135"> 4135.</a></span><span class="count                ">      1</span><span>                artifact(next_token)</span></pre>
<pre><span class="lineno"><a href="#line_4136" id="line_4136"> 4136.</a></span><span class="count                ">      1</span><span>            );</span></pre>
<pre><span class="lineno"><a href="#line_4137" id="line_4137"> 4137.</a></span><span class="count                ">     16</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_4138" id="line_4138"> 4138.</a></span><span class="count                ">     16</span><span>        if (next_token.id === &quot;case&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_4139" id="line_4139"> 4139.</a></span><span class="count                ">      7</span><span>            return major();</span></pre>
<pre><span class="lineno"><a href="#line_4140" id="line_4140"> 4140.</a></span><span class="count                ">      7</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_4141" id="line_4141"> 4141.</a></span><span class="count                ">     18</span><span>    }());</span></pre>
<pre><span class="lineno"><a href="#line_4142" id="line_4142"> 4142.</a></span><span class="count                ">     13</span><span>    dups = undefined;</span></pre>
<pre><span class="lineno"><a href="#line_4143" id="line_4143"> 4143.</a></span><span class="count                ">      7</span><span>    if (next_token.id === &quot;default&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_4144" id="line_4144"> 4144.</a></span><span class="count                ">      7</span><span>        const the_default = next_token;</span></pre>
<pre><span class="lineno"><a href="#line_4145" id="line_4145"> 4145.</a></span><span class="count                ">      7</span><span>        advance(&quot;default&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_4146" id="line_4146"> 4146.</a></span><span class="count                ">      7</span><span>        token.switch = true;</span></pre>
<pre><span class="lineno"><a href="#line_4147" id="line_4147"> 4147.</a></span><span class="count                ">      7</span><span>        advance(&quot;:&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_4148" id="line_4148"> 4148.</a></span><span class="count                ">      7</span><span>        the_switch.else = statements();</span></pre>
<pre><span class="lineno"><a href="#line_4149" id="line_4149"> 4149.</a></span><span class="count                ">      7</span><span>        if (the_switch.else.length &lt; 1) {</span></pre>
<pre><span class="lineno"><a href="#line_4150" id="line_4150"> 4150.</a></span><span class="count                ">      7</span><span>            warn(&quot;unexpected_a&quot;, the_default);</span></pre>
<pre><span class="lineno"><a href="#line_4151" id="line_4151"> 4151.</a></span><span class="count                ">      7</span><span>            the_disrupt = false;</span></pre>
<pre><span class="lineno"><a href="#line_4152" id="line_4152"> 4152.</a></span><span class="count                ">      7</span><span>        } else {</span></pre>
<pre><span class="lineno"><a href="#line_4153" id="line_4153"> 4153.</a></span><span class="count                ">      7</span><span>            const the_last = the_switch.else[the_switch.else.length - 1];</span></pre>
<pre><span class="lineno"><a href="#line_4154" id="line_4154"> 4154.</a></span><span class="count                ">      7</span><span>            if (the_last.id === &quot;break&quot; &amp;&amp; the_last.label === undefined) {</span></pre>
<pre><span class="lineno"><a href="#line_4155" id="line_4155"> 4155.</a></span><span class="count                ">      7</span><span>                warn(&quot;unexpected_a&quot;, the_last);</span></pre>
<pre><span class="lineno"><a href="#line_4156" id="line_4156"> 4156.</a></span><span class="count                ">      7</span><span>                the_last.disrupt = false;</span></pre>
<pre><span class="lineno"><a href="#line_4157" id="line_4157"> 4157.</a></span><span class="count                ">      7</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_4158" id="line_4158"> 4158.</a></span><span class="count                ">      7</span><span>            the_disrupt = the_disrupt &amp;&amp; the_last.disrupt;</span></pre>
<pre><span class="lineno"><a href="#line_4159" id="line_4159"> 4159.</a></span><span class="count                ">      7</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_4160" id="line_4160"> 4160.</a></span><span class="count                ">      7</span><span>    } else {</span></pre>
<pre><span class="lineno"><a href="#line_4161" id="line_4161"> 4161.</a></span><span class="count                ">      3</span><span>        the_disrupt = false;</span></pre>
<pre><span class="lineno"><a href="#line_4162" id="line_4162"> 4162.</a></span><span class="count                ">     10</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_4163" id="line_4163"> 4163.</a></span><span class="count                ">     10</span><span>    advance(&quot;}&quot;, the_switch);</span></pre>
<pre><span class="lineno"><a href="#line_4164" id="line_4164"> 4164.</a></span><span class="count                ">     10</span><span>    functionage.switch -= 1;</span></pre>
<pre><span class="lineno"><a href="#line_4165" id="line_4165"> 4165.</a></span><span class="count                ">     10</span><span>    the_switch.disrupt = the_disrupt;</span></pre>
<pre><span class="lineno"><a href="#line_4166" id="line_4166"> 4166.</a></span><span class="count                ">     10</span><span>    return the_switch;</span></pre>
<pre><span class="lineno"><a href="#line_4167" id="line_4167"> 4167.</a></span><span class="count                ">     10</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_4168" id="line_4168"> 4168.</a></span><span class="count                ">     11</span><span>stmt(&quot;throw&quot;, function () {</span></pre>
<pre><span class="lineno"><a href="#line_4169" id="line_4169"> 4169.</a></span><span class="count                ">     11</span><span>    const the_throw = token;</span></pre>
<pre><span class="lineno"><a href="#line_4170" id="line_4170"> 4170.</a></span><span class="count                ">     11</span><span>    the_throw.disrupt = true;</span></pre>
<pre><span class="lineno"><a href="#line_4171" id="line_4171"> 4171.</a></span><span class="count                ">     11</span><span>    the_throw.expression = expression(10);</span></pre>
<pre><span class="lineno"><a href="#line_4172" id="line_4172"> 4172.</a></span><span class="count                ">     11</span><span>    semicolon();</span></pre>
<pre><span class="lineno"><a href="#line_4173" id="line_4173"> 4173.</a></span><span class="count                ">      1</span><span>    if (functionage.try &gt; 0) {</span></pre>
<pre><span class="lineno"><a href="#line_4174" id="line_4174"> 4174.</a></span><span class="count                ">      1</span><span>        warn(&quot;unexpected_a&quot;, the_throw);</span></pre>
<pre><span class="lineno"><a href="#line_4175" id="line_4175"> 4175.</a></span><span class="count                ">      1</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_4176" id="line_4176"> 4176.</a></span><span class="count                ">     11</span><span>    return the_throw;</span></pre>
<pre><span class="lineno"><a href="#line_4177" id="line_4177"> 4177.</a></span><span class="count                ">     11</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_4178" id="line_4178"> 4178.</a></span><span class="count                ">     13</span><span>stmt(&quot;try&quot;, function () {</span></pre>
<pre><span class="lineno"><a href="#line_4179" id="line_4179"> 4179.</a></span><span class="count                ">     13</span><span>    let the_catch;</span></pre>
<pre><span class="lineno"><a href="#line_4180" id="line_4180"> 4180.</a></span><span class="count                ">     13</span><span>    let the_disrupt;</span></pre>
<pre><span class="lineno"><a href="#line_4181" id="line_4181"> 4181.</a></span><span class="count                ">     13</span><span>    const the_try = token;</span></pre>
<pre><span class="lineno"><a href="#line_4182" id="line_4182"> 4182.</a></span><span class="count                ">      1</span><span>    if (functionage.try &gt; 0) {</span></pre>
<pre><span class="lineno"><a href="#line_4183" id="line_4183"> 4183.</a></span><span class="count                ">      1</span><span>        warn(&quot;unexpected_a&quot;, the_try);</span></pre>
<pre><span class="lineno"><a href="#line_4184" id="line_4184"> 4184.</a></span><span class="count                ">      1</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_4185" id="line_4185"> 4185.</a></span><span class="count                ">     13</span><span>    functionage.try += 1;</span></pre>
<pre><span class="lineno"><a href="#line_4186" id="line_4186"> 4186.</a></span><span class="count                ">     13</span><span>    the_try.block = block();</span></pre>
<pre><span class="lineno"><a href="#line_4187" id="line_4187"> 4187.</a></span><span class="count                ">     13</span><span>    the_disrupt = the_try.block.disrupt;</span></pre>
<pre><span class="lineno"><a href="#line_4188" id="line_4188"> 4188.</a></span><span class="count                ">     11</span><span>    if (next_token.id === &quot;catch&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_4189" id="line_4189"> 4189.</a></span><span class="count                ">     11</span><span>        let ignored = &quot;ignore&quot;;</span></pre>
<pre><span class="lineno"><a href="#line_4190" id="line_4190"> 4190.</a></span><span class="count                ">     11</span><span>        the_catch = next_token;</span></pre>
<pre><span class="lineno"><a href="#line_4191" id="line_4191"> 4191.</a></span><span class="count                ">     11</span><span>        the_try.catch = the_catch;</span></pre>
<pre><span class="lineno"><a href="#line_4192" id="line_4192"> 4192.</a></span><span class="count                ">     11</span><span>        advance(&quot;catch&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_4193" id="line_4193"> 4193.</a></span><span class="count                ">     11</span><span>        if (next_token.id === &quot;(&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_4194" id="line_4194"> 4194.</a></span><span class="count                ">     11</span><span>            advance(&quot;(&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_4195" id="line_4195"> 4195.</a></span><span class="count                ">     11</span><span>            if (!next_token.identifier) {</span></pre>
<pre><span class="lineno"><a href="#line_4196" id="line_4196"> 4196.</a></span><span class="count                ">     11</span><span>                return stop(&quot;expected_identifier_a&quot;, next_token);</span></pre>
<pre><span class="lineno"><a href="#line_4197" id="line_4197"> 4197.</a></span><span class="count                ">     11</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_4198" id="line_4198"> 4198.</a></span><span class="count                ">     11</span><span>            if (next_token.id !== &quot;ignore&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_4199" id="line_4199"> 4199.</a></span><span class="count                ">     11</span><span>                ignored = undefined;</span></pre>
<pre><span class="lineno"><a href="#line_4200" id="line_4200"> 4200.</a></span><span class="count                ">     11</span><span>                the_catch.name = next_token;</span></pre>
<pre><span class="lineno"><a href="#line_4201" id="line_4201"> 4201.</a></span><span class="count                ">     11</span><span>                enroll(next_token, &quot;exception&quot;, true);</span></pre>
<pre><span class="lineno"><a href="#line_4202" id="line_4202"> 4202.</a></span><span class="count                ">     11</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_4203" id="line_4203"> 4203.</a></span><span class="count                ">     11</span><span>            advance();</span></pre>
<pre><span class="lineno"><a href="#line_4204" id="line_4204"> 4204.</a></span><span class="count                ">     11</span><span>            advance(&quot;)&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_4205" id="line_4205"> 4205.</a></span><span class="count                ">     11</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_4206" id="line_4206"> 4206.</a></span><span class="count                ">     11</span><span>        the_catch.block = block(ignored);</span></pre>
<pre><span class="lineno"><a href="#line_4207" id="line_4207"> 4207.</a></span><span class="count                ">     11</span><span>        if (the_catch.block.disrupt !== true) {</span></pre>
<pre><span class="lineno"><a href="#line_4208" id="line_4208"> 4208.</a></span><span class="count                ">     11</span><span>            the_disrupt = false;</span></pre>
<pre><span class="lineno"><a href="#line_4209" id="line_4209"> 4209.</a></span><span class="count                ">     11</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_4210" id="line_4210"> 4210.</a></span><span class="count                ">     11</span><span>    } else {</span></pre>
<pre><span class="lineno"><a href="#line_4211" id="line_4211"> 4211.</a></span><span class="count                ">      1</span><span>        warn(</span></pre>
<pre><span class="lineno"><a href="#line_4212" id="line_4212"> 4212.</a></span><span class="count                ">      1</span><span>            &quot;expected_a_before_b&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_4213" id="line_4213"> 4213.</a></span><span class="count                ">      1</span><span>            next_token,</span></pre>
<pre><span class="lineno"><a href="#line_4214" id="line_4214"> 4214.</a></span><span class="count                ">      1</span><span>            &quot;catch&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_4215" id="line_4215"> 4215.</a></span><span class="count                ">      1</span><span>            artifact(next_token)</span></pre>
<pre><span class="lineno"><a href="#line_4216" id="line_4216"> 4216.</a></span><span class="count                ">      1</span><span>        );</span></pre>
<pre><span class="lineno"><a href="#line_4217" id="line_4217"> 4217.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4218" id="line_4218"> 4218.</a></span><span class="count                ">     11</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_4219" id="line_4219"> 4219.</a></span><span class="count                ">     11</span><span>    if (next_token.id === &quot;finally&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_4220" id="line_4220"> 4220.</a></span><span class="count                ">      4</span><span>        functionage.finally += 1;</span></pre>
<pre><span class="lineno"><a href="#line_4221" id="line_4221"> 4221.</a></span><span class="count                ">      4</span><span>        advance(&quot;finally&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_4222" id="line_4222"> 4222.</a></span><span class="count                ">      4</span><span>        the_try.else = block();</span></pre>
<pre><span class="lineno"><a href="#line_4223" id="line_4223"> 4223.</a></span><span class="count                ">      4</span><span>        the_disrupt = the_try.else.disrupt;</span></pre>
<pre><span class="lineno"><a href="#line_4224" id="line_4224"> 4224.</a></span><span class="count                ">      4</span><span>        functionage.finally -= 1;</span></pre>
<pre><span class="lineno"><a href="#line_4225" id="line_4225"> 4225.</a></span><span class="count                ">     11</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_4226" id="line_4226"> 4226.</a></span><span class="count                ">     11</span><span>    the_try.disrupt = the_disrupt;</span></pre>
<pre><span class="lineno"><a href="#line_4227" id="line_4227"> 4227.</a></span><span class="count                ">     11</span><span>    functionage.try -= 1;</span></pre>
<pre><span class="lineno"><a href="#line_4228" id="line_4228"> 4228.</a></span><span class="count                ">     11</span><span>    return the_try;</span></pre>
<pre><span class="lineno"><a href="#line_4229" id="line_4229"> 4229.</a></span><span class="count                ">     11</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_4230" id="line_4230"> 4230.</a></span><span class="count                ">      1</span><span>stmt(&quot;var&quot;, do_var);</span></pre>
<pre><span class="lineno"><a href="#line_4231" id="line_4231"> 4231.</a></span><span class="count                ">     25</span><span>stmt(&quot;while&quot;, function () {</span></pre>
<pre><span class="lineno"><a href="#line_4232" id="line_4232"> 4232.</a></span><span class="count                ">     25</span><span>    const the_while = token;</span></pre>
<pre><span class="lineno"><a href="#line_4233" id="line_4233"> 4233.</a></span><span class="count                ">     25</span><span>    not_top_level(the_while);</span></pre>
<pre><span class="lineno"><a href="#line_4234" id="line_4234"> 4234.</a></span><span class="count                ">     25</span><span>    functionage.loop += 1;</span></pre>
<pre><span class="lineno"><a href="#line_4235" id="line_4235"> 4235.</a></span><span class="count                ">     25</span><span>    the_while.expression = condition();</span></pre>
<pre><span class="lineno"><a href="#line_4236" id="line_4236"> 4236.</a></span><span class="count                ">     25</span><span>    the_while.block = block();</span></pre>
<pre><span class="lineno"><a href="#line_4237" id="line_4237"> 4237.</a></span><span class="count                ">      3</span><span>    if (the_while.block.disrupt === true) {</span></pre>
<pre><span class="lineno"><a href="#line_4238" id="line_4238"> 4238.</a></span><span class="count                ">      3</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4239" id="line_4239"> 4239.</a></span><span class="count                ">      3</span><span>// cause: &quot;function aa(){while(0){break;}}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4240" id="line_4240"> 4240.</a></span><span class="count                ">      3</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4241" id="line_4241"> 4241.</a></span><span class="count                ">      3</span><span>        warn(&quot;weird_loop&quot;, the_while);</span></pre>
<pre><span class="lineno"><a href="#line_4242" id="line_4242"> 4242.</a></span><span class="count                ">     23</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_4243" id="line_4243"> 4243.</a></span><span class="count                ">     23</span><span>    functionage.loop -= 1;</span></pre>
<pre><span class="lineno"><a href="#line_4244" id="line_4244"> 4244.</a></span><span class="count                ">     23</span><span>    return the_while;</span></pre>
<pre><span class="lineno"><a href="#line_4245" id="line_4245"> 4245.</a></span><span class="count                ">     23</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_4246" id="line_4246"> 4246.</a></span><span class="count                ">      1</span><span>stmt(&quot;with&quot;, function () {</span></pre>
<pre><span class="lineno"><a href="#line_4247" id="line_4247"> 4247.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4248" id="line_4248"> 4248.</a></span><span class="count                ">      1</span><span>// cause: &quot;with&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4249" id="line_4249"> 4249.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4250" id="line_4250"> 4250.</a></span><span class="count                ">      1</span><span>    stop(&quot;unexpected_a&quot;, token);</span></pre>
<pre><span class="lineno"><a href="#line_4251" id="line_4251"> 4251.</a></span><span class="count                ">      1</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_4252" id="line_4252"> 4252.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4253" id="line_4253"> 4253.</a></span><span class="count                ">      1</span><span>ternary(&quot;?&quot;, &quot;:&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_4254" id="line_4254"> 4254.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4255" id="line_4255"> 4255.</a></span><span class="count                ">      1</span><span>// Ambulation of the parse tree.</span></pre>
<pre><span class="lineno"><a href="#line_4256" id="line_4256"> 4256.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4257" id="line_4257"> 4257.</a></span><span class="count                ">      2</span><span>function action(when) {</span></pre>
<pre><span class="lineno"><a href="#line_4258" id="line_4258"> 4258.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4259" id="line_4259"> 4259.</a></span><span class="count                ">      2</span><span>// Produce a function that will register task functions that will be called as</span></pre>
<pre><span class="lineno"><a href="#line_4260" id="line_4260"> 4260.</a></span><span class="count                ">      2</span><span>// the tree is traversed.</span></pre>
<pre><span class="lineno"><a href="#line_4261" id="line_4261"> 4261.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4262" id="line_4262"> 4262.</a></span><span class="count                ">     37</span><span>    return function (arity, id, task) {</span></pre>
<pre><span class="lineno"><a href="#line_4263" id="line_4263"> 4263.</a></span><span class="count                ">     37</span><span>        let a_set = when[arity];</span></pre>
<pre><span class="lineno"><a href="#line_4264" id="line_4264"> 4264.</a></span><span class="count                ">     37</span><span>        let i_set;</span></pre>
<pre><span class="lineno"><a href="#line_4265" id="line_4265"> 4265.</a></span><span class="count                ">     37</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4266" id="line_4266"> 4266.</a></span><span class="count                ">     37</span><span>// The id parameter is optional. If excluded, the task will be applied to all</span></pre>
<pre><span class="lineno"><a href="#line_4267" id="line_4267"> 4267.</a></span><span class="count                ">     37</span><span>// ids.</span></pre>
<pre><span class="lineno"><a href="#line_4268" id="line_4268"> 4268.</a></span><span class="count                ">     37</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4269" id="line_4269"> 4269.</a></span><span class="count                ">      8</span><span>        if (typeof id !== &quot;string&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_4270" id="line_4270"> 4270.</a></span><span class="count                ">      8</span><span>            task = id;</span></pre>
<pre><span class="lineno"><a href="#line_4271" id="line_4271"> 4271.</a></span><span class="count                ">      8</span><span>            id = &quot;(all)&quot;;</span></pre>
<pre><span class="lineno"><a href="#line_4272" id="line_4272"> 4272.</a></span><span class="count                ">      8</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_4273" id="line_4273"> 4273.</a></span><span class="count                ">     37</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4274" id="line_4274"> 4274.</a></span><span class="count                ">     37</span><span>// If this arity has no registrations yet, then create a set object to hold</span></pre>
<pre><span class="lineno"><a href="#line_4275" id="line_4275"> 4275.</a></span><span class="count                ">     37</span><span>// them.</span></pre>
<pre><span class="lineno"><a href="#line_4276" id="line_4276"> 4276.</a></span><span class="count                ">     37</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4277" id="line_4277"> 4277.</a></span><span class="count                ">     10</span><span>        if (a_set === undefined) {</span></pre>
<pre><span class="lineno"><a href="#line_4278" id="line_4278"> 4278.</a></span><span class="count                ">     10</span><span>            a_set = empty();</span></pre>
<pre><span class="lineno"><a href="#line_4279" id="line_4279"> 4279.</a></span><span class="count                ">     10</span><span>            when[arity] = a_set;</span></pre>
<pre><span class="lineno"><a href="#line_4280" id="line_4280"> 4280.</a></span><span class="count                ">     10</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_4281" id="line_4281"> 4281.</a></span><span class="count                ">     37</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4282" id="line_4282"> 4282.</a></span><span class="count                ">     37</span><span>// If this id has no registrations yet, then create a set array to hold them.</span></pre>
<pre><span class="lineno"><a href="#line_4283" id="line_4283"> 4283.</a></span><span class="count                ">     37</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4284" id="line_4284"> 4284.</a></span><span class="count                ">     37</span><span>        i_set = a_set[id];</span></pre>
<pre><span class="lineno"><a href="#line_4285" id="line_4285"> 4285.</a></span><span class="count                ">     36</span><span>        if (i_set === undefined) {</span></pre>
<pre><span class="lineno"><a href="#line_4286" id="line_4286"> 4286.</a></span><span class="count                ">     36</span><span>            i_set = [];</span></pre>
<pre><span class="lineno"><a href="#line_4287" id="line_4287"> 4287.</a></span><span class="count                ">     36</span><span>            a_set[id] = i_set;</span></pre>
<pre><span class="lineno"><a href="#line_4288" id="line_4288"> 4288.</a></span><span class="count                ">     36</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_4289" id="line_4289"> 4289.</a></span><span class="count                ">     37</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4290" id="line_4290"> 4290.</a></span><span class="count                ">     37</span><span>// Register the task with the arity and the id.</span></pre>
<pre><span class="lineno"><a href="#line_4291" id="line_4291"> 4291.</a></span><span class="count                ">     37</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4292" id="line_4292"> 4292.</a></span><span class="count                ">     37</span><span>        i_set.push(task);</span></pre>
<pre><span class="lineno"><a href="#line_4293" id="line_4293"> 4293.</a></span><span class="count                ">     37</span><span>    };</span></pre>
<pre><span class="lineno"><a href="#line_4294" id="line_4294"> 4294.</a></span><span class="count                ">      2</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_4295" id="line_4295"> 4295.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4296" id="line_4296"> 4296.</a></span><span class="count                ">      2</span><span>function amble(when) {</span></pre>
<pre><span class="lineno"><a href="#line_4297" id="line_4297"> 4297.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4298" id="line_4298"> 4298.</a></span><span class="count                ">      2</span><span>// Produce a function that will act on the tasks registered by an action</span></pre>
<pre><span class="lineno"><a href="#line_4299" id="line_4299"> 4299.</a></span><span class="count                ">      2</span><span>// function while walking the tree.</span></pre>
<pre><span class="lineno"><a href="#line_4300" id="line_4300"> 4300.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4301" id="line_4301"> 4301.</a></span><span class="count                ">  60260</span><span>    return function (the_token) {</span></pre>
<pre><span class="lineno"><a href="#line_4302" id="line_4302"> 4302.</a></span><span class="count                ">  60260</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4303" id="line_4303"> 4303.</a></span><span class="count                ">  60260</span><span>// Given a task set that was built by an action function, run all of the</span></pre>
<pre><span class="lineno"><a href="#line_4304" id="line_4304"> 4304.</a></span><span class="count                ">  60260</span><span>// relevant tasks on the token.</span></pre>
<pre><span class="lineno"><a href="#line_4305" id="line_4305"> 4305.</a></span><span class="count                ">  60260</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4306" id="line_4306"> 4306.</a></span><span class="count                ">  60260</span><span>        let a_set = when[the_token.arity];</span></pre>
<pre><span class="lineno"><a href="#line_4307" id="line_4307"> 4307.</a></span><span class="count                ">  60260</span><span>        let i_set;</span></pre>
<pre><span class="lineno"><a href="#line_4308" id="line_4308"> 4308.</a></span><span class="count                ">  60260</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4309" id="line_4309"> 4309.</a></span><span class="count                ">  60260</span><span>// If there are tasks associated with the token&apos;s arity...</span></pre>
<pre><span class="lineno"><a href="#line_4310" id="line_4310"> 4310.</a></span><span class="count                ">  60260</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4311" id="line_4311"> 4311.</a></span><span class="count                ">  40901</span><span>        if (a_set !== undefined) {</span></pre>
<pre><span class="lineno"><a href="#line_4312" id="line_4312"> 4312.</a></span><span class="count                ">  40901</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4313" id="line_4313"> 4313.</a></span><span class="count                ">  40901</span><span>// If there are tasks associated with the token&apos;s id...</span></pre>
<pre><span class="lineno"><a href="#line_4314" id="line_4314"> 4314.</a></span><span class="count                ">  40901</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4315" id="line_4315"> 4315.</a></span><span class="count                ">  40901</span><span>            i_set = a_set[the_token.id];</span></pre>
<pre><span class="lineno"><a href="#line_4316" id="line_4316"> 4316.</a></span><span class="count                ">  40901</span><span>            if (i_set !== undefined) {</span></pre>
<pre><span class="lineno"><a href="#line_4317" id="line_4317"> 4317.</a></span><span class="count                ">  40901</span><span>                i_set.forEach(function (task) {</span></pre>
<pre><span class="lineno"><a href="#line_4318" id="line_4318"> 4318.</a></span><span class="count                ">  40901</span><span>                    return task(the_token);</span></pre>
<pre><span class="lineno"><a href="#line_4319" id="line_4319"> 4319.</a></span><span class="count                ">  40901</span><span>                });</span></pre>
<pre><span class="lineno"><a href="#line_4320" id="line_4320"> 4320.</a></span><span class="count                ">  40901</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_4321" id="line_4321"> 4321.</a></span><span class="count                ">  40901</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4322" id="line_4322"> 4322.</a></span><span class="count                ">  40901</span><span>// If there are tasks for all ids.</span></pre>
<pre><span class="lineno"><a href="#line_4323" id="line_4323"> 4323.</a></span><span class="count                ">  40901</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4324" id="line_4324"> 4324.</a></span><span class="count                ">  40901</span><span>            i_set = a_set[&quot;(all)&quot;];</span></pre>
<pre><span class="lineno"><a href="#line_4325" id="line_4325"> 4325.</a></span><span class="count                ">  40901</span><span>            if (i_set !== undefined) {</span></pre>
<pre><span class="lineno"><a href="#line_4326" id="line_4326"> 4326.</a></span><span class="count                ">  40901</span><span>                i_set.forEach(function (task) {</span></pre>
<pre><span class="lineno"><a href="#line_4327" id="line_4327"> 4327.</a></span><span class="count                ">  40901</span><span>                    return task(the_token);</span></pre>
<pre><span class="lineno"><a href="#line_4328" id="line_4328"> 4328.</a></span><span class="count                ">  40901</span><span>                });</span></pre>
<pre><span class="lineno"><a href="#line_4329" id="line_4329"> 4329.</a></span><span class="count                ">  40901</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_4330" id="line_4330"> 4330.</a></span><span class="count                ">  40901</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_4331" id="line_4331"> 4331.</a></span><span class="count                ">  60260</span><span>    };</span></pre>
<pre><span class="lineno"><a href="#line_4332" id="line_4332"> 4332.</a></span><span class="count                ">      2</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_4333" id="line_4333"> 4333.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4334" id="line_4334"> 4334.</a></span><span class="count                ">      1</span><span>const posts = empty();</span></pre>
<pre><span class="lineno"><a href="#line_4335" id="line_4335"> 4335.</a></span><span class="count                ">      1</span><span>const pres = empty();</span></pre>
<pre><span class="lineno"><a href="#line_4336" id="line_4336"> 4336.</a></span><span class="count                ">      1</span><span>const preaction = action(pres);</span></pre>
<pre><span class="lineno"><a href="#line_4337" id="line_4337"> 4337.</a></span><span class="count                ">      1</span><span>const postaction = action(posts);</span></pre>
<pre><span class="lineno"><a href="#line_4338" id="line_4338"> 4338.</a></span><span class="count                ">      1</span><span>const preamble = amble(pres);</span></pre>
<pre><span class="lineno"><a href="#line_4339" id="line_4339"> 4339.</a></span><span class="count                ">      1</span><span>const postamble = amble(posts);</span></pre>
<pre><span class="lineno"><a href="#line_4340" id="line_4340"> 4340.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4341" id="line_4341"> 4341.</a></span><span class="count                ">  46762</span><span>function walk_expression(thing) {</span></pre>
<pre><span class="lineno"><a href="#line_4342" id="line_4342"> 4342.</a></span><span class="count                ">  29192</span><span>    if (thing) {</span></pre>
<pre><span class="lineno"><a href="#line_4343" id="line_4343"> 4343.</a></span><span class="count                ">  29192</span><span>        if (Array.isArray(thing)) {</span></pre>
<pre><span class="lineno"><a href="#line_4344" id="line_4344"> 4344.</a></span><span class="count                ">  29192</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4345" id="line_4345"> 4345.</a></span><span class="count                ">  29192</span><span>// cause: &quot;0&amp;&amp;0&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4346" id="line_4346"> 4346.</a></span><span class="count                ">  29192</span><span>// cause: &quot;(function(){}())&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4347" id="line_4347"> 4347.</a></span><span class="count                ">  29192</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4348" id="line_4348"> 4348.</a></span><span class="count                ">  29192</span><span>            thing.forEach(walk_expression);</span></pre>
<pre><span class="lineno"><a href="#line_4349" id="line_4349"> 4349.</a></span><span class="count                ">  29192</span><span>        } else {</span></pre>
<pre><span class="lineno"><a href="#line_4350" id="line_4350"> 4350.</a></span><span class="count                ">  29192</span><span>            preamble(thing);</span></pre>
<pre><span class="lineno"><a href="#line_4351" id="line_4351"> 4351.</a></span><span class="count                ">  29192</span><span>            walk_expression(thing.expression);</span></pre>
<pre><span class="lineno"><a href="#line_4352" id="line_4352"> 4352.</a></span><span class="count                ">  29192</span><span>            if (thing.id === &quot;function&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_4353" id="line_4353"> 4353.</a></span><span class="count                ">  29192</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4354" id="line_4354"> 4354.</a></span><span class="count                ">  29192</span><span>// cause: &quot;aa=function(){}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4355" id="line_4355"> 4355.</a></span><span class="count                ">  29192</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4356" id="line_4356"> 4356.</a></span><span class="count                ">  29192</span><span>                walk_statement(thing.block);</span></pre>
<pre><span class="lineno"><a href="#line_4357" id="line_4357"> 4357.</a></span><span class="count                ">  29192</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_4358" id="line_4358"> 4358.</a></span><span class="count                ">  29192</span><span>            if (thing.arity === &quot;pre&quot; || thing.arity === &quot;post&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_4359" id="line_4359"> 4359.</a></span><span class="count                ">  29192</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4360" id="line_4360"> 4360.</a></span><span class="count                ">  29192</span><span>// cause: &quot;aa=++aa&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4361" id="line_4361"> 4361.</a></span><span class="count                ">  29192</span><span>// cause: &quot;aa=--aa&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4362" id="line_4362"> 4362.</a></span><span class="count                ">  29192</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4363" id="line_4363"> 4363.</a></span><span class="count                ">  29192</span><span>                warn(&quot;unexpected_a&quot;, thing);</span></pre>
<pre><span class="lineno"><a href="#line_4364" id="line_4364"> 4364.</a></span><span class="count                ">  29192</span><span>            } else if (</span></pre>
<pre><span class="lineno"><a href="#line_4365" id="line_4365"> 4365.</a></span><span class="count                ">  29192</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4366" id="line_4366"> 4366.</a></span><span class="count                ">  29192</span><span>// cause: &quot;aa=0&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4367" id="line_4367"> 4367.</a></span><span class="count                ">  29192</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4368" id="line_4368"> 4368.</a></span><span class="count                ">  29192</span><span>                thing.arity === &quot;statement&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4369" id="line_4369"> 4369.</a></span><span class="count                ">  29192</span><span>                || thing.arity === &quot;assignment&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4370" id="line_4370"> 4370.</a></span><span class="count                ">  29192</span><span>            ) {</span></pre>
<pre><span class="lineno"><a href="#line_4371" id="line_4371"> 4371.</a></span><span class="count                ">  29192</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4372" id="line_4372"> 4372.</a></span><span class="count                ">  29192</span><span>// cause: &quot;aa[aa=0]&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4373" id="line_4373"> 4373.</a></span><span class="count                ">  29192</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4374" id="line_4374"> 4374.</a></span><span class="count                ">  29192</span><span>                warn(&quot;unexpected_statement_a&quot;, thing); // deadcode?</span></pre>
<pre><span class="lineno"><a href="#line_4375" id="line_4375"> 4375.</a></span><span class="count                ">  29192</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_4376" id="line_4376"> 4376.</a></span><span class="count                ">  29192</span><span>            postamble(thing);</span></pre>
<pre><span class="lineno"><a href="#line_4377" id="line_4377"> 4377.</a></span><span class="count                ">  29192</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_4378" id="line_4378"> 4378.</a></span><span class="count                ">  29192</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_4379" id="line_4379"> 4379.</a></span><span class="count                ">  46762</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_4380" id="line_4380"> 4380.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4381" id="line_4381"> 4381.</a></span><span class="count                ">  22420</span><span>function walk_statement(thing) {</span></pre>
<pre><span class="lineno"><a href="#line_4382" id="line_4382"> 4382.</a></span><span class="count                ">  10278</span><span>    if (thing) {</span></pre>
<pre><span class="lineno"><a href="#line_4383" id="line_4383"> 4383.</a></span><span class="count                ">  10278</span><span>        if (Array.isArray(thing)) {</span></pre>
<pre><span class="lineno"><a href="#line_4384" id="line_4384"> 4384.</a></span><span class="count                ">  10278</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4385" id="line_4385"> 4385.</a></span><span class="count                ">  10278</span><span>// cause: &quot;+[]&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4386" id="line_4386"> 4386.</a></span><span class="count                ">  10278</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4387" id="line_4387"> 4387.</a></span><span class="count                ">  10278</span><span>            thing.forEach(walk_statement);</span></pre>
<pre><span class="lineno"><a href="#line_4388" id="line_4388"> 4388.</a></span><span class="count                ">  10278</span><span>        } else {</span></pre>
<pre><span class="lineno"><a href="#line_4389" id="line_4389"> 4389.</a></span><span class="count                ">  10278</span><span>            preamble(thing);</span></pre>
<pre><span class="lineno"><a href="#line_4390" id="line_4390"> 4390.</a></span><span class="count                ">  10278</span><span>            walk_expression(thing.expression);</span></pre>
<pre><span class="lineno"><a href="#line_4391" id="line_4391"> 4391.</a></span><span class="count                ">  10278</span><span>            if (thing.arity === &quot;binary&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_4392" id="line_4392"> 4392.</a></span><span class="count                ">  10278</span><span>                if (thing.id !== &quot;(&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_4393" id="line_4393"> 4393.</a></span><span class="count                ">  10278</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4394" id="line_4394"> 4394.</a></span><span class="count                ">  10278</span><span>// cause: &quot;0&amp;&amp;0&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4395" id="line_4395"> 4395.</a></span><span class="count                ">  10278</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4396" id="line_4396"> 4396.</a></span><span class="count                ">  10278</span><span>                    warn(&quot;unexpected_expression_a&quot;, thing);</span></pre>
<pre><span class="lineno"><a href="#line_4397" id="line_4397"> 4397.</a></span><span class="count                ">  10278</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_4398" id="line_4398"> 4398.</a></span><span class="count                ">  10278</span><span>            } else if (</span></pre>
<pre><span class="lineno"><a href="#line_4399" id="line_4399"> 4399.</a></span><span class="count                ">  10278</span><span>                thing.arity !== &quot;statement&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4400" id="line_4400"> 4400.</a></span><span class="count                ">  10278</span><span>                &amp;&amp; thing.arity !== &quot;assignment&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4401" id="line_4401"> 4401.</a></span><span class="count                ">  10278</span><span>                &amp;&amp; thing.id !== &quot;import&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4402" id="line_4402"> 4402.</a></span><span class="count                ">  10278</span><span>                &amp;&amp; thing.id !== &quot;await&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4403" id="line_4403"> 4403.</a></span><span class="count                ">  10278</span><span>            ) {</span></pre>
<pre><span class="lineno"><a href="#line_4404" id="line_4404"> 4404.</a></span><span class="count                ">  10278</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4405" id="line_4405"> 4405.</a></span><span class="count                ">  10278</span><span>// cause: &quot;!0&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4406" id="line_4406"> 4406.</a></span><span class="count                ">  10278</span><span>// cause: &quot;+[]&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4407" id="line_4407"> 4407.</a></span><span class="count                ">  10278</span><span>// cause: &quot;+new aa()&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4408" id="line_4408"> 4408.</a></span><span class="count                ">  10278</span><span>// cause: &quot;0&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4409" id="line_4409"> 4409.</a></span><span class="count                ">  10278</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4410" id="line_4410"> 4410.</a></span><span class="count                ">  10278</span><span>                warn(&quot;unexpected_expression_a&quot;, thing);</span></pre>
<pre><span class="lineno"><a href="#line_4411" id="line_4411"> 4411.</a></span><span class="count                ">  10278</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_4412" id="line_4412"> 4412.</a></span><span class="count                ">  10278</span><span>            walk_statement(thing.block);</span></pre>
<pre><span class="lineno"><a href="#line_4413" id="line_4413"> 4413.</a></span><span class="count                ">  10278</span><span>            walk_statement(thing.else);</span></pre>
<pre><span class="lineno"><a href="#line_4414" id="line_4414"> 4414.</a></span><span class="count                ">  10278</span><span>            postamble(thing);</span></pre>
<pre><span class="lineno"><a href="#line_4415" id="line_4415"> 4415.</a></span><span class="count                ">  10278</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_4416" id="line_4416"> 4416.</a></span><span class="count                ">  10278</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_4417" id="line_4417"> 4417.</a></span><span class="count                ">  22420</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_4418" id="line_4418"> 4418.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4419" id="line_4419"> 4419.</a></span><span class="count                ">   8727</span><span>function lookup(thing) {</span></pre>
<pre><span class="lineno"><a href="#line_4420" id="line_4420"> 4420.</a></span><span class="count                ">   8726</span><span>    if (thing.arity === &quot;variable&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_4421" id="line_4421"> 4421.</a></span><span class="count                ">   8726</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4422" id="line_4422"> 4422.</a></span><span class="count                ">   8726</span><span>// Look up the variable in the current context.</span></pre>
<pre><span class="lineno"><a href="#line_4423" id="line_4423"> 4423.</a></span><span class="count                ">   8726</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4424" id="line_4424"> 4424.</a></span><span class="count                ">   8726</span><span>        let the_variable = functionage.context[thing.id];</span></pre>
<pre><span class="lineno"><a href="#line_4425" id="line_4425"> 4425.</a></span><span class="count                ">   8726</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4426" id="line_4426"> 4426.</a></span><span class="count                ">   8726</span><span>// If it isn&apos;t local, search all the other contexts. If there are name</span></pre>
<pre><span class="lineno"><a href="#line_4427" id="line_4427"> 4427.</a></span><span class="count                ">   8726</span><span>// collisions, take the most recent.</span></pre>
<pre><span class="lineno"><a href="#line_4428" id="line_4428"> 4428.</a></span><span class="count                ">   8726</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4429" id="line_4429"> 4429.</a></span><span class="count                ">   8726</span><span>        if (the_variable === undefined) {</span></pre>
<pre><span class="lineno"><a href="#line_4430" id="line_4430"> 4430.</a></span><span class="count                ">   8726</span><span>            stack.forEach(function (outer) {</span></pre>
<pre><span class="lineno"><a href="#line_4431" id="line_4431"> 4431.</a></span><span class="count                ">   8726</span><span>                const a_variable = outer.context[thing.id];</span></pre>
<pre><span class="lineno"><a href="#line_4432" id="line_4432"> 4432.</a></span><span class="count                ">   8726</span><span>                if (</span></pre>
<pre><span class="lineno"><a href="#line_4433" id="line_4433"> 4433.</a></span><span class="count                ">   8726</span><span>                    a_variable !== undefined</span></pre>
<pre><span class="lineno"><a href="#line_4434" id="line_4434"> 4434.</a></span><span class="count                ">   8726</span><span>                    &amp;&amp; a_variable.role !== &quot;label&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4435" id="line_4435"> 4435.</a></span><span class="count                ">   8726</span><span>                ) {</span></pre>
<pre><span class="lineno"><a href="#line_4436" id="line_4436"> 4436.</a></span><span class="count                ">   8726</span><span>                    the_variable = a_variable;</span></pre>
<pre><span class="lineno"><a href="#line_4437" id="line_4437"> 4437.</a></span><span class="count                ">   8726</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_4438" id="line_4438"> 4438.</a></span><span class="count                ">   8726</span><span>            });</span></pre>
<pre><span class="lineno"><a href="#line_4439" id="line_4439"> 4439.</a></span><span class="count                ">   8726</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4440" id="line_4440"> 4440.</a></span><span class="count                ">   8726</span><span>// If it isn&apos;t in any of those either, perhaps it is a predefined global.</span></pre>
<pre><span class="lineno"><a href="#line_4441" id="line_4441"> 4441.</a></span><span class="count                ">   8726</span><span>// If so, add it to the global context.</span></pre>
<pre><span class="lineno"><a href="#line_4442" id="line_4442"> 4442.</a></span><span class="count                ">   8726</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4443" id="line_4443"> 4443.</a></span><span class="count                ">   8726</span><span>            if (the_variable === undefined) {</span></pre>
<pre><span class="lineno"><a href="#line_4444" id="line_4444"> 4444.</a></span><span class="count                ">   8726</span><span>                if (declared_globals[thing.id] === undefined) {</span></pre>
<pre><span class="lineno"><a href="#line_4445" id="line_4445"> 4445.</a></span><span class="count                ">   8726</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4446" id="line_4446"> 4446.</a></span><span class="count                ">   8726</span><span>// cause: &quot;aa&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4447" id="line_4447"> 4447.</a></span><span class="count                ">   8726</span><span>// cause: &quot;class aa{}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4448" id="line_4448"> 4448.</a></span><span class="count                ">   8726</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4449" id="line_4449"> 4449.</a></span><span class="count                ">   8726</span><span>                    warn(&quot;undeclared_a&quot;, thing);</span></pre>
<pre><span class="lineno"><a href="#line_4450" id="line_4450"> 4450.</a></span><span class="count                ">   8726</span><span>                    return;</span></pre>
<pre><span class="lineno"><a href="#line_4451" id="line_4451"> 4451.</a></span><span class="count                ">   8726</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_4452" id="line_4452"> 4452.</a></span><span class="count                ">   8726</span><span>                the_variable = {</span></pre>
<pre><span class="lineno"><a href="#line_4453" id="line_4453"> 4453.</a></span><span class="count                ">   8726</span><span>                    dead: false,</span></pre>
<pre><span class="lineno"><a href="#line_4454" id="line_4454"> 4454.</a></span><span class="count                ">   8726</span><span>                    id: thing.id,</span></pre>
<pre><span class="lineno"><a href="#line_4455" id="line_4455"> 4455.</a></span><span class="count                ">   8726</span><span>                    init: true,</span></pre>
<pre><span class="lineno"><a href="#line_4456" id="line_4456"> 4456.</a></span><span class="count                ">   8726</span><span>                    parent: global,</span></pre>
<pre><span class="lineno"><a href="#line_4457" id="line_4457"> 4457.</a></span><span class="count                ">   8726</span><span>                    role: &quot;variable&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_4458" id="line_4458"> 4458.</a></span><span class="count                ">   8726</span><span>                    used: 0,</span></pre>
<pre><span class="lineno"><a href="#line_4459" id="line_4459"> 4459.</a></span><span class="count                ">   8726</span><span>                    writable: false</span></pre>
<pre><span class="lineno"><a href="#line_4460" id="line_4460"> 4460.</a></span><span class="count                ">   8726</span><span>                };</span></pre>
<pre><span class="lineno"><a href="#line_4461" id="line_4461"> 4461.</a></span><span class="count                ">   8726</span><span>                global.context[thing.id] = the_variable;</span></pre>
<pre><span class="lineno"><a href="#line_4462" id="line_4462"> 4462.</a></span><span class="count                ">   8726</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_4463" id="line_4463"> 4463.</a></span><span class="count                ">   8726</span><span>            the_variable.closure = true;</span></pre>
<pre><span class="lineno"><a href="#line_4464" id="line_4464"> 4464.</a></span><span class="count                ">   8726</span><span>            functionage.context[thing.id] = the_variable;</span></pre>
<pre><span class="lineno"><a href="#line_4465" id="line_4465"> 4465.</a></span><span class="count                ">   8726</span><span>        } else if (the_variable.role === &quot;label&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_4466" id="line_4466"> 4466.</a></span><span class="count                ">   8726</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4467" id="line_4467"> 4467.</a></span><span class="count                ">   8726</span><span>// cause: &quot;aa:while(0){aa;}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4468" id="line_4468"> 4468.</a></span><span class="count                ">   8726</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4469" id="line_4469"> 4469.</a></span><span class="count                ">   8726</span><span>            warn(&quot;label_a&quot;, thing);</span></pre>
<pre><span class="lineno"><a href="#line_4470" id="line_4470"> 4470.</a></span><span class="count                ">   8726</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_4471" id="line_4471"> 4471.</a></span><span class="count                ">   8726</span><span>        if (</span></pre>
<pre><span class="lineno"><a href="#line_4472" id="line_4472"> 4472.</a></span><span class="count                ">   8726</span><span>            the_variable.dead</span></pre>
<pre><span class="lineno"><a href="#line_4473" id="line_4473"> 4473.</a></span><span class="count                ">   8726</span><span>            &amp;&amp; (</span></pre>
<pre><span class="lineno"><a href="#line_4474" id="line_4474"> 4474.</a></span><span class="count                ">   8726</span><span>                the_variable.calls === undefined</span></pre>
<pre><span class="lineno"><a href="#line_4475" id="line_4475"> 4475.</a></span><span class="count                ">   8726</span><span>                || functionage.name === undefined</span></pre>
<pre><span class="lineno"><a href="#line_4476" id="line_4476"> 4476.</a></span><span class="count                ">   8726</span><span>                || the_variable.calls[functionage.name.id] === undefined</span></pre>
<pre><span class="lineno"><a href="#line_4477" id="line_4477"> 4477.</a></span><span class="count                ">   8726</span><span>            )</span></pre>
<pre><span class="lineno"><a href="#line_4478" id="line_4478"> 4478.</a></span><span class="count                ">   8726</span><span>        ) {</span></pre>
<pre><span class="lineno"><a href="#line_4479" id="line_4479"> 4479.</a></span><span class="count                ">   8726</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4480" id="line_4480"> 4480.</a></span><span class="count                ">   8726</span><span>// cause: &quot;function aa(){bb();}\nfunction bb(){}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4481" id="line_4481"> 4481.</a></span><span class="count                ">   8726</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4482" id="line_4482"> 4482.</a></span><span class="count                ">   8726</span><span>            warn(&quot;out_of_scope_a&quot;, thing);</span></pre>
<pre><span class="lineno"><a href="#line_4483" id="line_4483"> 4483.</a></span><span class="count                ">   8726</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_4484" id="line_4484"> 4484.</a></span><span class="count                ">   8726</span><span>        return the_variable;</span></pre>
<pre><span class="lineno"><a href="#line_4485" id="line_4485"> 4485.</a></span><span class="count                ">   8726</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_4486" id="line_4486"> 4486.</a></span><span class="count                ">   8727</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_4487" id="line_4487"> 4487.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4488" id="line_4488"> 4488.</a></span><span class="count                ">     70</span><span>function subactivate(name) {</span></pre>
<pre><span class="lineno"><a href="#line_4489" id="line_4489"> 4489.</a></span><span class="count                ">     70</span><span>    name.init = true;</span></pre>
<pre><span class="lineno"><a href="#line_4490" id="line_4490"> 4490.</a></span><span class="count                ">     70</span><span>    name.dead = false;</span></pre>
<pre><span class="lineno"><a href="#line_4491" id="line_4491"> 4491.</a></span><span class="count                ">     70</span><span>    blockage.live.push(name);</span></pre>
<pre><span class="lineno"><a href="#line_4492" id="line_4492"> 4492.</a></span><span class="count                ">     70</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_4493" id="line_4493"> 4493.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4494" id="line_4494"> 4494.</a></span><span class="count                ">    590</span><span>function preaction_function(thing) {</span></pre>
<pre><span class="lineno"><a href="#line_4495" id="line_4495"> 4495.</a></span><span class="count                ">    590</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4496" id="line_4496"> 4496.</a></span><span class="count                ">    590</span><span>// cause: &quot;()=&gt;0&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4497" id="line_4497"> 4497.</a></span><span class="count                ">    590</span><span>// cause: &quot;(function (){}())&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4498" id="line_4498"> 4498.</a></span><span class="count                ">    590</span><span>// cause: &quot;function aa(){}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4499" id="line_4499"> 4499.</a></span><span class="count                ">    590</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4500" id="line_4500"> 4500.</a></span><span class="count                ">    235</span><span>    if (thing.arity === &quot;statement&quot; &amp;&amp; blockage.body !== true) {</span></pre>
<pre><span class="lineno"><a href="#line_4501" id="line_4501"> 4501.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4502" id="line_4502"> 4502.</a></span><span class="count                ">      1</span><span>// cause: &quot;if(0){function aa(){}\n}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4503" id="line_4503"> 4503.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4504" id="line_4504"> 4504.</a></span><span class="count                ">      1</span><span>        warn(&quot;unexpected_a&quot;, thing);</span></pre>
<pre><span class="lineno"><a href="#line_4505" id="line_4505"> 4505.</a></span><span class="count                ">      1</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_4506" id="line_4506"> 4506.</a></span><span class="count                ">    590</span><span>    stack.push(functionage);</span></pre>
<pre><span class="lineno"><a href="#line_4507" id="line_4507"> 4507.</a></span><span class="count                ">    590</span><span>    block_stack.push(blockage);</span></pre>
<pre><span class="lineno"><a href="#line_4508" id="line_4508"> 4508.</a></span><span class="count                ">    590</span><span>    functionage = thing;</span></pre>
<pre><span class="lineno"><a href="#line_4509" id="line_4509"> 4509.</a></span><span class="count                ">    590</span><span>    blockage = thing;</span></pre>
<pre><span class="lineno"><a href="#line_4510" id="line_4510"> 4510.</a></span><span class="count                ">    590</span><span>    thing.live = [];</span></pre>
<pre><span class="lineno"><a href="#line_4511" id="line_4511"> 4511.</a></span><span class="count                ">    296</span><span>    if (typeof thing.name === &quot;object&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_4512" id="line_4512"> 4512.</a></span><span class="count                ">    296</span><span>        thing.name.dead = false;</span></pre>
<pre><span class="lineno"><a href="#line_4513" id="line_4513"> 4513.</a></span><span class="count                ">    296</span><span>        thing.name.init = true;</span></pre>
<pre><span class="lineno"><a href="#line_4514" id="line_4514"> 4514.</a></span><span class="count                ">    296</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_4515" id="line_4515"> 4515.</a></span><span class="count                ">      6</span><span>    if (thing.extra === &quot;get&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_4516" id="line_4516"> 4516.</a></span><span class="count                ">      6</span><span>        if (thing.parameters.length !== 0) {</span></pre>
<pre><span class="lineno"><a href="#line_4517" id="line_4517"> 4517.</a></span><span class="count                ">      6</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4518" id="line_4518"> 4518.</a></span><span class="count                ">      6</span><span>// cause: &quot;/*jslint getset*/\naa={get aa(aa){}}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4519" id="line_4519"> 4519.</a></span><span class="count                ">      6</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4520" id="line_4520"> 4520.</a></span><span class="count                ">      6</span><span>            warn(&quot;bad_get&quot;, thing);</span></pre>
<pre><span class="lineno"><a href="#line_4521" id="line_4521"> 4521.</a></span><span class="count                ">      6</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_4522" id="line_4522"> 4522.</a></span><span class="count                ">    584</span><span>    } else if (thing.extra === &quot;set&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_4523" id="line_4523"> 4523.</a></span><span class="count                ">    584</span><span>        if (thing.parameters.length !== 1) {</span></pre>
<pre><span class="lineno"><a href="#line_4524" id="line_4524"> 4524.</a></span><span class="count                ">    584</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4525" id="line_4525"> 4525.</a></span><span class="count                ">    584</span><span>// cause: &quot;/*jslint getset*/\naa={set aa(){}}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4526" id="line_4526"> 4526.</a></span><span class="count                ">    584</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4527" id="line_4527"> 4527.</a></span><span class="count                ">    584</span><span>            warn(&quot;bad_set&quot;, thing);</span></pre>
<pre><span class="lineno"><a href="#line_4528" id="line_4528"> 4528.</a></span><span class="count                ">    584</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_4529" id="line_4529"> 4529.</a></span><span class="count                ">    584</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_4530" id="line_4530"> 4530.</a></span><span class="count                ">    470</span><span>    thing.parameters.forEach(function (name) {</span></pre>
<pre><span class="lineno"><a href="#line_4531" id="line_4531"> 4531.</a></span><span class="count                ">    470</span><span>        walk_expression(name.expression);</span></pre>
<pre><span class="lineno"><a href="#line_4532" id="line_4532"> 4532.</a></span><span class="count                ">    448</span><span>        if (name.id === &quot;{&quot; || name.id === &quot;[&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_4533" id="line_4533"> 4533.</a></span><span class="count                ">     27</span><span>            name.names.forEach(subactivate);</span></pre>
<pre><span class="lineno"><a href="#line_4534" id="line_4534"> 4534.</a></span><span class="count                ">    443</span><span>        } else {</span></pre>
<pre><span class="lineno"><a href="#line_4535" id="line_4535"> 4535.</a></span><span class="count                ">    443</span><span>            name.dead = false;</span></pre>
<pre><span class="lineno"><a href="#line_4536" id="line_4536"> 4536.</a></span><span class="count                ">    443</span><span>            name.init = true;</span></pre>
<pre><span class="lineno"><a href="#line_4537" id="line_4537"> 4537.</a></span><span class="count                ">    443</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_4538" id="line_4538"> 4538.</a></span><span class="count                ">    470</span><span>    });</span></pre>
<pre><span class="lineno"><a href="#line_4539" id="line_4539"> 4539.</a></span><span class="count                ">    590</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_4540" id="line_4540"> 4540.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4541" id="line_4541"> 4541.</a></span><span class="count                ">  10594</span><span>function bitwise_check(thing) {</span></pre>
<pre><span class="lineno"><a href="#line_4542" id="line_4542"> 4542.</a></span><span class="count                ">  10162</span><span>    if (!option.bitwise &amp;&amp; bitwiseop[thing.id] === true) {</span></pre>
<pre><span class="lineno"><a href="#line_4543" id="line_4543"> 4543.</a></span><span class="count                ">      1</span><span>        warn(&quot;unexpected_a&quot;, thing);</span></pre>
<pre><span class="lineno"><a href="#line_4544" id="line_4544"> 4544.</a></span><span class="count                ">      1</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_4545" id="line_4545"> 4545.</a></span><span class="count                ">  10594</span><span>    if (</span></pre>
<pre><span class="lineno"><a href="#line_4546" id="line_4546"> 4546.</a></span><span class="count                ">  10594</span><span>        thing.id !== &quot;(&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4547" id="line_4547"> 4547.</a></span><span class="count                ">   7716</span><span>        &amp;&amp; thing.id !== &quot;&amp;&amp;&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4548" id="line_4548"> 4548.</a></span><span class="count                ">   7329</span><span>        &amp;&amp; thing.id !== &quot;||&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4549" id="line_4549"> 4549.</a></span><span class="count                ">   6969</span><span>        &amp;&amp; thing.id !== &quot;=&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4550" id="line_4550"> 4550.</a></span><span class="count                ">   5810</span><span>        &amp;&amp; Array.isArray(thing.expression)</span></pre>
<pre><span class="lineno"><a href="#line_4551" id="line_4551"> 4551.</a></span><span class="count                ">   2471</span><span>        &amp;&amp; thing.expression.length === 2</span></pre>
<pre><span class="lineno"><a href="#line_4552" id="line_4552"> 4552.</a></span><span class="count                ">   2447</span><span>        &amp;&amp; (</span></pre>
<pre><span class="lineno"><a href="#line_4553" id="line_4553"> 4553.</a></span><span class="count                ">   2447</span><span>            relationop[thing.expression[0].id] === true</span></pre>
<pre><span class="lineno"><a href="#line_4554" id="line_4554"> 4554.</a></span><span class="count                ">   2447</span><span>            || relationop[thing.expression[1].id] === true</span></pre>
<pre><span class="lineno"><a href="#line_4555" id="line_4555"> 4555.</a></span><span class="count                ">   2447</span><span>        )</span></pre>
<pre><span class="lineno"><a href="#line_4556" id="line_4556"> 4556.</a></span><span class="count                ">      1</span><span>    ) {</span></pre>
<pre><span class="lineno"><a href="#line_4557" id="line_4557"> 4557.</a></span><span class="count                ">      1</span><span>        warn(&quot;unexpected_a&quot;, thing);</span></pre>
<pre><span class="lineno"><a href="#line_4558" id="line_4558"> 4558.</a></span><span class="count                ">      1</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_4559" id="line_4559"> 4559.</a></span><span class="count                ">  10594</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_4560" id="line_4560"> 4560.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4561" id="line_4561"> 4561.</a></span><span class="count                ">   2586</span><span>function pop_block() {</span></pre>
<pre><span class="lineno"><a href="#line_4562" id="line_4562"> 4562.</a></span><span class="count                ">    600</span><span>    blockage.live.forEach(function (name) {</span></pre>
<pre><span class="lineno"><a href="#line_4563" id="line_4563"> 4563.</a></span><span class="count                ">    600</span><span>        name.dead = true;</span></pre>
<pre><span class="lineno"><a href="#line_4564" id="line_4564"> 4564.</a></span><span class="count                ">    600</span><span>    });</span></pre>
<pre><span class="lineno"><a href="#line_4565" id="line_4565"> 4565.</a></span><span class="count                ">   2586</span><span>    delete blockage.live;</span></pre>
<pre><span class="lineno"><a href="#line_4566" id="line_4566"> 4566.</a></span><span class="count                ">   2586</span><span>    blockage = block_stack.pop();</span></pre>
<pre><span class="lineno"><a href="#line_4567" id="line_4567"> 4567.</a></span><span class="count                ">   2586</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_4568" id="line_4568"> 4568.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4569" id="line_4569"> 4569.</a></span><span class="count                ">    726</span><span>function action_var(thing) {</span></pre>
<pre><span class="lineno"><a href="#line_4570" id="line_4570"> 4570.</a></span><span class="count                ">    730</span><span>    thing.names.forEach(function (name) {</span></pre>
<pre><span class="lineno"><a href="#line_4571" id="line_4571"> 4571.</a></span><span class="count                ">    730</span><span>        name.dead = false;</span></pre>
<pre><span class="lineno"><a href="#line_4572" id="line_4572"> 4572.</a></span><span class="count                ">    474</span><span>        if (name.expression !== undefined) {</span></pre>
<pre><span class="lineno"><a href="#line_4573" id="line_4573"> 4573.</a></span><span class="count                ">    474</span><span>            walk_expression(name.expression);</span></pre>
<pre><span class="lineno"><a href="#line_4574" id="line_4574"> 4574.</a></span><span class="count                uncovered">      0</span><span>            if (name.id === &quot;{&quot; || name.id === &quot;[&quot;) </span><span class="uncovered">{</span></pre>
<pre><span class="lineno"><a href="#line_4575" id="line_4575"> 4575.</a></span><span class="count                uncovered">      0</span><span></span><span class="uncovered">                name.names.forEach(subactivate);</span></pre>
<pre><span class="lineno"><a href="#line_4576" id="line_4576"> 4576.</a></span><span class="count                uncovered">      0</span><span></span><span class="uncovered">            }</span><span> else {</span></pre>
<pre><span class="lineno"><a href="#line_4577" id="line_4577"> 4577.</a></span><span class="count                ">    474</span><span>                name.init = true;</span></pre>
<pre><span class="lineno"><a href="#line_4578" id="line_4578"> 4578.</a></span><span class="count                ">    474</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_4579" id="line_4579"> 4579.</a></span><span class="count                ">    474</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_4580" id="line_4580"> 4580.</a></span><span class="count                ">    730</span><span>        blockage.live.push(name);</span></pre>
<pre><span class="lineno"><a href="#line_4581" id="line_4581"> 4581.</a></span><span class="count                ">    730</span><span>    });</span></pre>
<pre><span class="lineno"><a href="#line_4582" id="line_4582"> 4582.</a></span><span class="count                ">    726</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_4583" id="line_4583"> 4583.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4584" id="line_4584"> 4584.</a></span><span class="count                ">      1</span><span>preaction(&quot;assignment&quot;, bitwise_check);</span></pre>
<pre><span class="lineno"><a href="#line_4585" id="line_4585"> 4585.</a></span><span class="count                ">      1</span><span>preaction(&quot;binary&quot;, bitwise_check);</span></pre>
<pre><span class="lineno"><a href="#line_4586" id="line_4586"> 4586.</a></span><span class="count                ">   9317</span><span>preaction(&quot;binary&quot;, function (thing) {</span></pre>
<pre><span class="lineno"><a href="#line_4587" id="line_4587"> 4587.</a></span><span class="count                ">   1557</span><span>    if (relationop[thing.id] === true) {</span></pre>
<pre><span class="lineno"><a href="#line_4588" id="line_4588"> 4588.</a></span><span class="count                ">   1557</span><span>        const left = thing.expression[0];</span></pre>
<pre><span class="lineno"><a href="#line_4589" id="line_4589"> 4589.</a></span><span class="count                ">   1557</span><span>        const right = thing.expression[1];</span></pre>
<pre><span class="lineno"><a href="#line_4590" id="line_4590"> 4590.</a></span><span class="count                ">   1557</span><span>        if (left.id === &quot;NaN&quot; || right.id === &quot;NaN&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_4591" id="line_4591"> 4591.</a></span><span class="count                ">   1557</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4592" id="line_4592"> 4592.</a></span><span class="count                ">   1557</span><span>// cause: &quot;NaN===NaN&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4593" id="line_4593"> 4593.</a></span><span class="count                ">   1557</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4594" id="line_4594"> 4594.</a></span><span class="count                ">   1557</span><span>            warn(&quot;number_isNaN&quot;, thing);</span></pre>
<pre><span class="lineno"><a href="#line_4595" id="line_4595"> 4595.</a></span><span class="count                ">   1557</span><span>        } else if (left.id === &quot;typeof&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_4596" id="line_4596"> 4596.</a></span><span class="count                ">   1557</span><span>            if (right.id !== &quot;(string)&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_4597" id="line_4597"> 4597.</a></span><span class="count                ">   1557</span><span>                if (right.id !== &quot;typeof&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_4598" id="line_4598"> 4598.</a></span><span class="count                ">   1557</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4599" id="line_4599"> 4599.</a></span><span class="count                ">   1557</span><span>// cause: &quot;typeof 0===0&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4600" id="line_4600"> 4600.</a></span><span class="count                ">   1557</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4601" id="line_4601"> 4601.</a></span><span class="count                ">   1557</span><span>                    warn(&quot;expected_string_a&quot;, right);</span></pre>
<pre><span class="lineno"><a href="#line_4602" id="line_4602"> 4602.</a></span><span class="count                ">   1557</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_4603" id="line_4603"> 4603.</a></span><span class="count                ">   1557</span><span>            } else {</span></pre>
<pre><span class="lineno"><a href="#line_4604" id="line_4604"> 4604.</a></span><span class="count                ">   1557</span><span>                const value = right.value;</span></pre>
<pre><span class="lineno"><a href="#line_4605" id="line_4605"> 4605.</a></span><span class="count                ">   1557</span><span>                if (value === &quot;null&quot; || value === &quot;undefined&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_4606" id="line_4606"> 4606.</a></span><span class="count                ">   1557</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4607" id="line_4607"> 4607.</a></span><span class="count                ">   1557</span><span>// cause: &quot;typeof aa===\&quot;undefined\&quot;&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4608" id="line_4608"> 4608.</a></span><span class="count                ">   1557</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4609" id="line_4609"> 4609.</a></span><span class="count                ">   1557</span><span>                    warn(&quot;unexpected_typeof_a&quot;, right, value);</span></pre>
<pre><span class="lineno"><a href="#line_4610" id="line_4610"> 4610.</a></span><span class="count                ">   1557</span><span>                } else if (</span></pre>
<pre><span class="lineno"><a href="#line_4611" id="line_4611"> 4611.</a></span><span class="count                ">   1557</span><span>                    value !== &quot;boolean&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4612" id="line_4612"> 4612.</a></span><span class="count                ">   1557</span><span>                    &amp;&amp; value !== &quot;function&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4613" id="line_4613"> 4613.</a></span><span class="count                ">   1557</span><span>                    &amp;&amp; value !== &quot;number&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4614" id="line_4614"> 4614.</a></span><span class="count                ">   1557</span><span>                    &amp;&amp; value !== &quot;object&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4615" id="line_4615"> 4615.</a></span><span class="count                ">   1557</span><span>                    &amp;&amp; value !== &quot;string&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4616" id="line_4616"> 4616.</a></span><span class="count                ">   1557</span><span>                    &amp;&amp; value !== &quot;symbol&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4617" id="line_4617"> 4617.</a></span><span class="count                ">   1557</span><span>                ) {</span></pre>
<pre><span class="lineno"><a href="#line_4618" id="line_4618"> 4618.</a></span><span class="count                ">   1557</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4619" id="line_4619"> 4619.</a></span><span class="count                ">   1557</span><span>// cause: &quot;typeof 0===\&quot;aa\&quot;&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4620" id="line_4620"> 4620.</a></span><span class="count                ">   1557</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4621" id="line_4621"> 4621.</a></span><span class="count                ">   1557</span><span>                    warn(&quot;expected_type_string_a&quot;, right, value);</span></pre>
<pre><span class="lineno"><a href="#line_4622" id="line_4622"> 4622.</a></span><span class="count                ">   1557</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_4623" id="line_4623"> 4623.</a></span><span class="count                ">   1557</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_4624" id="line_4624"> 4624.</a></span><span class="count                ">   1557</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_4625" id="line_4625"> 4625.</a></span><span class="count                ">   1557</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_4626" id="line_4626"> 4626.</a></span><span class="count                ">   9317</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_4627" id="line_4627"> 4627.</a></span><span class="count                ">      2</span><span>preaction(&quot;binary&quot;, &quot;==&quot;, function (thing) {</span></pre>
<pre><span class="lineno"><a href="#line_4628" id="line_4628"> 4628.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4629" id="line_4629"> 4629.</a></span><span class="count                ">      2</span><span>// cause: &quot;0==0&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4630" id="line_4630"> 4630.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4631" id="line_4631"> 4631.</a></span><span class="count                ">      2</span><span>    warn(&quot;expected_a_b&quot;, thing, &quot;===&quot;, &quot;==&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_4632" id="line_4632"> 4632.</a></span><span class="count                ">      2</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_4633" id="line_4633"> 4633.</a></span><span class="count                ">      1</span><span>preaction(&quot;binary&quot;, &quot;!=&quot;, function (thing) {</span></pre>
<pre><span class="lineno"><a href="#line_4634" id="line_4634"> 4634.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4635" id="line_4635"> 4635.</a></span><span class="count                ">      1</span><span>// cause: &quot;0!=0&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4636" id="line_4636"> 4636.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4637" id="line_4637"> 4637.</a></span><span class="count                ">      1</span><span>    warn(&quot;expected_a_b&quot;, thing, &quot;!==&quot;, &quot;!=&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_4638" id="line_4638"> 4638.</a></span><span class="count                ">      1</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_4639" id="line_4639"> 4639.</a></span><span class="count                ">      1</span><span>preaction(&quot;binary&quot;, &quot;=&gt;&quot;, preaction_function);</span></pre>
<pre><span class="lineno"><a href="#line_4640" id="line_4640"> 4640.</a></span><span class="count                ">    360</span><span>preaction(&quot;binary&quot;, &quot;||&quot;, function (thing) {</span></pre>
<pre><span class="lineno"><a href="#line_4641" id="line_4641"> 4641.</a></span><span class="count                ">    720</span><span>    thing.expression.forEach(function (thang) {</span></pre>
<pre><span class="lineno"><a href="#line_4642" id="line_4642"> 4642.</a></span><span class="count                ">     65</span><span>        if (thang.id === &quot;&amp;&amp;&quot; &amp;&amp; !thang.wrapped) {</span></pre>
<pre><span class="lineno"><a href="#line_4643" id="line_4643"> 4643.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4644" id="line_4644"> 4644.</a></span><span class="count                ">      1</span><span>// cause: &quot;0&amp;&amp;0||0&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4645" id="line_4645"> 4645.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4646" id="line_4646"> 4646.</a></span><span class="count                ">      1</span><span>            warn(&quot;and&quot;, thang);</span></pre>
<pre><span class="lineno"><a href="#line_4647" id="line_4647"> 4647.</a></span><span class="count                ">      1</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_4648" id="line_4648"> 4648.</a></span><span class="count                ">    720</span><span>    });</span></pre>
<pre><span class="lineno"><a href="#line_4649" id="line_4649"> 4649.</a></span><span class="count                ">    360</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_4650" id="line_4650"> 4650.</a></span><span class="count                ">   2878</span><span>preaction(&quot;binary&quot;, &quot;(&quot;, function (thing) {</span></pre>
<pre><span class="lineno"><a href="#line_4651" id="line_4651"> 4651.</a></span><span class="count                ">   2878</span><span>    const left = thing.expression[0];</span></pre>
<pre><span class="lineno"><a href="#line_4652" id="line_4652"> 4652.</a></span><span class="count                ">   2878</span><span>    if (</span></pre>
<pre><span class="lineno"><a href="#line_4653" id="line_4653"> 4653.</a></span><span class="count                ">   2878</span><span>        left.identifier</span></pre>
<pre><span class="lineno"><a href="#line_4654" id="line_4654"> 4654.</a></span><span class="count                ">   2208</span><span>        &amp;&amp; functionage.context[left.id] === undefined</span></pre>
<pre><span class="lineno"><a href="#line_4655" id="line_4655"> 4655.</a></span><span class="count                ">   1111</span><span>        &amp;&amp; typeof functionage.name === &quot;object&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4656" id="line_4656"> 4656.</a></span><span class="count                ">    624</span><span>    ) {</span></pre>
<pre><span class="lineno"><a href="#line_4657" id="line_4657"> 4657.</a></span><span class="count                ">    624</span><span>        const parent = functionage.name.parent;</span></pre>
<pre><span class="lineno"><a href="#line_4658" id="line_4658"> 4658.</a></span><span class="count                ">    624</span><span>        if (parent) {</span></pre>
<pre><span class="lineno"><a href="#line_4659" id="line_4659"> 4659.</a></span><span class="count                ">    624</span><span>            const left_variable = parent.context[left.id];</span></pre>
<pre><span class="lineno"><a href="#line_4660" id="line_4660"> 4660.</a></span><span class="count                ">    624</span><span>            if (</span></pre>
<pre><span class="lineno"><a href="#line_4661" id="line_4661"> 4661.</a></span><span class="count                ">    624</span><span>                left_variable !== undefined</span></pre>
<pre><span class="lineno"><a href="#line_4662" id="line_4662"> 4662.</a></span><span class="count                ">    624</span><span>                &amp;&amp; left_variable.dead</span></pre>
<pre><span class="lineno"><a href="#line_4663" id="line_4663"> 4663.</a></span><span class="count                ">    624</span><span>                &amp;&amp; left_variable.parent === parent</span></pre>
<pre><span class="lineno"><a href="#line_4664" id="line_4664"> 4664.</a></span><span class="count                ">    624</span><span>                &amp;&amp; left_variable.calls !== undefined</span></pre>
<pre><span class="lineno"><a href="#line_4665" id="line_4665"> 4665.</a></span><span class="count                ">    624</span><span>                &amp;&amp; left_variable.calls[functionage.name.id] !== undefined</span></pre>
<pre><span class="lineno"><a href="#line_4666" id="line_4666"> 4666.</a></span><span class="count                ">    624</span><span>            ) {</span></pre>
<pre><span class="lineno"><a href="#line_4667" id="line_4667"> 4667.</a></span><span class="count                ">    624</span><span>                left_variable.dead = false;</span></pre>
<pre><span class="lineno"><a href="#line_4668" id="line_4668"> 4668.</a></span><span class="count                ">    624</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_4669" id="line_4669"> 4669.</a></span><span class="count                ">    624</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_4670" id="line_4670"> 4670.</a></span><span class="count                ">    624</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_4671" id="line_4671"> 4671.</a></span><span class="count                ">   2878</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_4672" id="line_4672"> 4672.</a></span><span class="count                ">      1</span><span>preaction(&quot;binary&quot;, &quot;in&quot;, function (thing) {</span></pre>
<pre><span class="lineno"><a href="#line_4673" id="line_4673"> 4673.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4674" id="line_4674"> 4674.</a></span><span class="count                ">      1</span><span>// cause: &quot;aa in aa&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4675" id="line_4675"> 4675.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4676" id="line_4676"> 4676.</a></span><span class="count                ">      1</span><span>    warn(&quot;infix_in&quot;, thing);</span></pre>
<pre><span class="lineno"><a href="#line_4677" id="line_4677"> 4677.</a></span><span class="count                ">      1</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_4678" id="line_4678"> 4678.</a></span><span class="count                ">      1</span><span>preaction(&quot;binary&quot;, &quot;instanceof&quot;, function (thing) {</span></pre>
<pre><span class="lineno"><a href="#line_4679" id="line_4679"> 4679.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4680" id="line_4680"> 4680.</a></span><span class="count                ">      1</span><span>// cause: &quot;0 instanceof 0&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4681" id="line_4681"> 4681.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4682" id="line_4682"> 4682.</a></span><span class="count                ">      1</span><span>    warn(&quot;unexpected_a&quot;, thing);</span></pre>
<pre><span class="lineno"><a href="#line_4683" id="line_4683"> 4683.</a></span><span class="count                ">      1</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_4684" id="line_4684"> 4684.</a></span><span class="count                ">   1996</span><span>preaction(&quot;statement&quot;, &quot;{&quot;, function (thing) {</span></pre>
<pre><span class="lineno"><a href="#line_4685" id="line_4685"> 4685.</a></span><span class="count                ">   1996</span><span>    block_stack.push(blockage);</span></pre>
<pre><span class="lineno"><a href="#line_4686" id="line_4686"> 4686.</a></span><span class="count                ">   1996</span><span>    blockage = thing;</span></pre>
<pre><span class="lineno"><a href="#line_4687" id="line_4687"> 4687.</a></span><span class="count                ">   1996</span><span>    thing.live = [];</span></pre>
<pre><span class="lineno"><a href="#line_4688" id="line_4688"> 4688.</a></span><span class="count                ">   1996</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_4689" id="line_4689"> 4689.</a></span><span class="count                ">      7</span><span>preaction(&quot;statement&quot;, &quot;for&quot;, function (thing) {</span></pre>
<pre><span class="lineno"><a href="#line_4690" id="line_4690"> 4690.</a></span><span class="count                ">      3</span><span>    if (thing.name !== undefined) {</span></pre>
<pre><span class="lineno"><a href="#line_4691" id="line_4691"> 4691.</a></span><span class="count                ">      3</span><span>        const the_variable = lookup(thing.name);</span></pre>
<pre><span class="lineno"><a href="#line_4692" id="line_4692"> 4692.</a></span><span class="count                ">      3</span><span>        if (the_variable !== undefined) {</span></pre>
<pre><span class="lineno"><a href="#line_4693" id="line_4693"> 4693.</a></span><span class="count                ">      3</span><span>            the_variable.init = true;</span></pre>
<pre><span class="lineno"><a href="#line_4694" id="line_4694"> 4694.</a></span><span class="count                ">      3</span><span>            if (!the_variable.writable) {</span></pre>
<pre><span class="lineno"><a href="#line_4695" id="line_4695"> 4695.</a></span><span class="count                ">      3</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4696" id="line_4696"> 4696.</a></span><span class="count                ">      3</span><span>// cause: &quot;const aa=0;for(aa in aa){}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4697" id="line_4697"> 4697.</a></span><span class="count                ">      3</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4698" id="line_4698"> 4698.</a></span><span class="count                ">      3</span><span>                warn(&quot;bad_assignment_a&quot;, thing.name);</span></pre>
<pre><span class="lineno"><a href="#line_4699" id="line_4699"> 4699.</a></span><span class="count                ">      3</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_4700" id="line_4700"> 4700.</a></span><span class="count                ">      3</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_4701" id="line_4701"> 4701.</a></span><span class="count                ">      3</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_4702" id="line_4702"> 4702.</a></span><span class="count                ">      7</span><span>    walk_statement(thing.initial);</span></pre>
<pre><span class="lineno"><a href="#line_4703" id="line_4703"> 4703.</a></span><span class="count                ">      7</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_4704" id="line_4704"> 4704.</a></span><span class="count                ">      1</span><span>preaction(&quot;statement&quot;, &quot;function&quot;, preaction_function);</span></pre>
<pre><span class="lineno"><a href="#line_4705" id="line_4705"> 4705.</a></span><span class="count                ">      1</span><span>preaction(&quot;unary&quot;, &quot;~&quot;, bitwise_check);</span></pre>
<pre><span class="lineno"><a href="#line_4706" id="line_4706"> 4706.</a></span><span class="count                ">      1</span><span>preaction(&quot;unary&quot;, &quot;function&quot;, preaction_function);</span></pre>
<pre><span class="lineno"><a href="#line_4707" id="line_4707"> 4707.</a></span><span class="count                ">   8144</span><span>preaction(&quot;variable&quot;, function (thing) {</span></pre>
<pre><span class="lineno"><a href="#line_4708" id="line_4708"> 4708.</a></span><span class="count                ">   8144</span><span>    const the_variable = lookup(thing);</span></pre>
<pre><span class="lineno"><a href="#line_4709" id="line_4709"> 4709.</a></span><span class="count                ">   8078</span><span>    if (the_variable !== undefined) {</span></pre>
<pre><span class="lineno"><a href="#line_4710" id="line_4710"> 4710.</a></span><span class="count                ">   8078</span><span>        thing.variable = the_variable;</span></pre>
<pre><span class="lineno"><a href="#line_4711" id="line_4711"> 4711.</a></span><span class="count                ">   8078</span><span>        the_variable.used += 1;</span></pre>
<pre><span class="lineno"><a href="#line_4712" id="line_4712"> 4712.</a></span><span class="count                ">   8078</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_4713" id="line_4713"> 4713.</a></span><span class="count                ">   8144</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_4714" id="line_4714"> 4714.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4715" id="line_4715"> 4715.</a></span><span class="count                ">    580</span><span>function init_variable(name) {</span></pre>
<pre><span class="lineno"><a href="#line_4716" id="line_4716"> 4716.</a></span><span class="count                ">    580</span><span>    const the_variable = lookup(name);</span></pre>
<pre><span class="lineno"><a href="#line_4717" id="line_4717"> 4717.</a></span><span class="count                ">    543</span><span>    if (the_variable !== undefined) {</span></pre>
<pre><span class="lineno"><a href="#line_4718" id="line_4718"> 4718.</a></span><span class="count                ">    543</span><span>        if (the_variable.writable) {</span></pre>
<pre><span class="lineno"><a href="#line_4719" id="line_4719"> 4719.</a></span><span class="count                ">    543</span><span>            the_variable.init = true;</span></pre>
<pre><span class="lineno"><a href="#line_4720" id="line_4720"> 4720.</a></span><span class="count                ">    543</span><span>            return;</span></pre>
<pre><span class="lineno"><a href="#line_4721" id="line_4721"> 4721.</a></span><span class="count                ">    543</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_4722" id="line_4722"> 4722.</a></span><span class="count                ">    543</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_4723" id="line_4723"> 4723.</a></span><span class="count                ">     37</span><span>    warn(&quot;bad_assignment_a&quot;, name);</span></pre>
<pre><span class="lineno"><a href="#line_4724" id="line_4724"> 4724.</a></span><span class="count                ">     37</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_4725" id="line_4725"> 4725.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4726" id="line_4726"> 4726.</a></span><span class="count                ">    101</span><span>postaction(&quot;assignment&quot;, &quot;+=&quot;, function (thing) {</span></pre>
<pre><span class="lineno"><a href="#line_4727" id="line_4727"> 4727.</a></span><span class="count                ">    101</span><span>    let right = thing.expression[1];</span></pre>
<pre><span class="lineno"><a href="#line_4728" id="line_4728"> 4728.</a></span><span class="count                ">     64</span><span>    if (right.constant) {</span></pre>
<pre><span class="lineno"><a href="#line_4729" id="line_4729"> 4729.</a></span><span class="count                ">     64</span><span>        if (</span></pre>
<pre><span class="lineno"><a href="#line_4730" id="line_4730"> 4730.</a></span><span class="count                ">     64</span><span>            right.value === &quot;&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4731" id="line_4731"> 4731.</a></span><span class="count                ">     64</span><span>            || (right.id === &quot;(number)&quot; &amp;&amp; right.value === &quot;0&quot;)</span></pre>
<pre><span class="lineno"><a href="#line_4732" id="line_4732"> 4732.</a></span><span class="count                ">     64</span><span>            || right.id === &quot;(boolean)&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4733" id="line_4733"> 4733.</a></span><span class="count                ">     64</span><span>            || right.id === &quot;null&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4734" id="line_4734"> 4734.</a></span><span class="count                ">     64</span><span>            || right.id === &quot;undefined&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4735" id="line_4735"> 4735.</a></span><span class="count                ">     64</span><span>            || Number.isNaN(right.value)</span></pre>
<pre><span class="lineno"><a href="#line_4736" id="line_4736"> 4736.</a></span><span class="count                ">     64</span><span>        ) {</span></pre>
<pre><span class="lineno"><a href="#line_4737" id="line_4737"> 4737.</a></span><span class="count                ">     64</span><span>            warn(&quot;unexpected_a&quot;, right);</span></pre>
<pre><span class="lineno"><a href="#line_4738" id="line_4738"> 4738.</a></span><span class="count                ">     64</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_4739" id="line_4739"> 4739.</a></span><span class="count                ">     64</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_4740" id="line_4740"> 4740.</a></span><span class="count                ">    101</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_4741" id="line_4741"> 4741.</a></span><span class="count                ">   1277</span><span>postaction(&quot;assignment&quot;, function (thing) {</span></pre>
<pre><span class="lineno"><a href="#line_4742" id="line_4742"> 4742.</a></span><span class="count                ">   1277</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4743" id="line_4743"> 4743.</a></span><span class="count                ">   1277</span><span>// Assignment using = sets the init property of a variable. No other assignment</span></pre>
<pre><span class="lineno"><a href="#line_4744" id="line_4744"> 4744.</a></span><span class="count                ">   1277</span><span>// operator can do this. A = token keeps that variable (or array of variables</span></pre>
<pre><span class="lineno"><a href="#line_4745" id="line_4745"> 4745.</a></span><span class="count                ">   1277</span><span>// in case of destructuring) in its name property.</span></pre>
<pre><span class="lineno"><a href="#line_4746" id="line_4746"> 4746.</a></span><span class="count                ">   1277</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4747" id="line_4747"> 4747.</a></span><span class="count                ">   1277</span><span>    const lvalue = thing.expression[0];</span></pre>
<pre><span class="lineno"><a href="#line_4748" id="line_4748"> 4748.</a></span><span class="count                ">   1159</span><span>    if (thing.id === &quot;=&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_4749" id="line_4749"> 4749.</a></span><span class="count                ">   1159</span><span>        if (thing.names !== undefined) {</span></pre>
<pre><span class="lineno"><a href="#line_4750" id="line_4750"> 4750.</a></span><span class="count                uncovered">      0</span><span>            if (Array.isArray(thing.names)) </span><span class="uncovered">{</span></pre>
<pre><span class="lineno"><a href="#line_4751" id="line_4751"> 4751.</a></span><span class="count                uncovered">      0</span><span></span><span class="uncovered">                thing.names.forEach(init_variable);</span></pre>
<pre><span class="lineno"><a href="#line_4752" id="line_4752"> 4752.</a></span><span class="count                uncovered">      0</span><span></span><span class="uncovered">            }</span><span> else {</span></pre>
<pre><span class="lineno"><a href="#line_4753" id="line_4753"> 4753.</a></span><span class="count                ">   1159</span><span>                init_variable(thing.names);</span></pre>
<pre><span class="lineno"><a href="#line_4754" id="line_4754"> 4754.</a></span><span class="count                ">   1159</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_4755" id="line_4755"> 4755.</a></span><span class="count                ">   1159</span><span>        } else {</span></pre>
<pre><span class="lineno"><a href="#line_4756" id="line_4756"> 4756.</a></span><span class="count                ">   1159</span><span>            if (lvalue.id === &quot;[&quot; || lvalue.id === &quot;{&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_4757" id="line_4757"> 4757.</a></span><span class="count                ">   1159</span><span>                lvalue.expression.forEach(function (thing) {</span></pre>
<pre><span class="lineno"><a href="#line_4758" id="line_4758"> 4758.</a></span><span class="count                ">   1159</span><span>                    if (thing.variable) {</span></pre>
<pre><span class="lineno"><a href="#line_4759" id="line_4759"> 4759.</a></span><span class="count                ">   1159</span><span>                        thing.variable.init = true;</span></pre>
<pre><span class="lineno"><a href="#line_4760" id="line_4760"> 4760.</a></span><span class="count                ">   1159</span><span>                    }</span></pre>
<pre><span class="lineno"><a href="#line_4761" id="line_4761"> 4761.</a></span><span class="count                ">   1159</span><span>                });</span></pre>
<pre><span class="lineno"><a href="#line_4762" id="line_4762"> 4762.</a></span><span class="count                ">   1159</span><span>            } else if (</span></pre>
<pre><span class="lineno"><a href="#line_4763" id="line_4763"> 4763.</a></span><span class="count                ">   1159</span><span>                lvalue.id === &quot;.&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4764" id="line_4764"> 4764.</a></span><span class="count                ">   1159</span><span>                &amp;&amp; thing.expression[1].id === &quot;undefined&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4765" id="line_4765"> 4765.</a></span><span class="count                ">   1159</span><span>            ) {</span></pre>
<pre><span class="lineno"><a href="#line_4766" id="line_4766"> 4766.</a></span><span class="count                ">   1159</span><span>                warn(</span></pre>
<pre><span class="lineno"><a href="#line_4767" id="line_4767"> 4767.</a></span><span class="count                ">   1159</span><span>                    &quot;expected_a_b&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_4768" id="line_4768"> 4768.</a></span><span class="count                ">   1159</span><span>                    lvalue.expression,</span></pre>
<pre><span class="lineno"><a href="#line_4769" id="line_4769"> 4769.</a></span><span class="count                ">   1159</span><span>                    &quot;delete&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_4770" id="line_4770"> 4770.</a></span><span class="count                ">   1159</span><span>                    &quot;undefined&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4771" id="line_4771"> 4771.</a></span><span class="count                ">   1159</span><span>                );</span></pre>
<pre><span class="lineno"><a href="#line_4772" id="line_4772"> 4772.</a></span><span class="count                ">   1159</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_4773" id="line_4773"> 4773.</a></span><span class="count                ">   1159</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_4774" id="line_4774"> 4774.</a></span><span class="count                ">   1159</span><span>    } else {</span></pre>
<pre><span class="lineno"><a href="#line_4775" id="line_4775"> 4775.</a></span><span class="count                ">    118</span><span>        if (lvalue.arity === &quot;variable&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_4776" id="line_4776"> 4776.</a></span><span class="count                ">    118</span><span>            if (!lvalue.variable || lvalue.variable.writable !== true) {</span></pre>
<pre><span class="lineno"><a href="#line_4777" id="line_4777"> 4777.</a></span><span class="count                ">    118</span><span>                warn(&quot;bad_assignment_a&quot;, lvalue);</span></pre>
<pre><span class="lineno"><a href="#line_4778" id="line_4778"> 4778.</a></span><span class="count                ">    118</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_4779" id="line_4779"> 4779.</a></span><span class="count                ">    118</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_4780" id="line_4780"> 4780.</a></span><span class="count                ">    118</span><span>        const right = syntax[thing.expression[1].id];</span></pre>
<pre><span class="lineno"><a href="#line_4781" id="line_4781"> 4781.</a></span><span class="count                ">    118</span><span>        if (</span></pre>
<pre><span class="lineno"><a href="#line_4782" id="line_4782"> 4782.</a></span><span class="count                ">    118</span><span>            right !== undefined</span></pre>
<pre><span class="lineno"><a href="#line_4783" id="line_4783"> 4783.</a></span><span class="count                ">    118</span><span>            &amp;&amp; (</span></pre>
<pre><span class="lineno"><a href="#line_4784" id="line_4784"> 4784.</a></span><span class="count                ">    118</span><span>                right.id === &quot;function&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4785" id="line_4785"> 4785.</a></span><span class="count                ">    118</span><span>                || right.id === &quot;=&gt;&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4786" id="line_4786"> 4786.</a></span><span class="count                ">    118</span><span>                || (</span></pre>
<pre><span class="lineno"><a href="#line_4787" id="line_4787"> 4787.</a></span><span class="count                ">    118</span><span>                    right.constant</span></pre>
<pre><span class="lineno"><a href="#line_4788" id="line_4788"> 4788.</a></span><span class="count                ">    118</span><span>                    &amp;&amp; right.id !== &quot;(number)&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4789" id="line_4789"> 4789.</a></span><span class="count                ">    118</span><span>                    &amp;&amp; (right.id !== &quot;(string)&quot; || thing.id !== &quot;+=&quot;)</span></pre>
<pre><span class="lineno"><a href="#line_4790" id="line_4790"> 4790.</a></span><span class="count                ">    118</span><span>                )</span></pre>
<pre><span class="lineno"><a href="#line_4791" id="line_4791"> 4791.</a></span><span class="count                ">    118</span><span>            )</span></pre>
<pre><span class="lineno"><a href="#line_4792" id="line_4792"> 4792.</a></span><span class="count                ">    118</span><span>        ) {</span></pre>
<pre><span class="lineno"><a href="#line_4793" id="line_4793"> 4793.</a></span><span class="count                ">    118</span><span>            warn(&quot;unexpected_a&quot;, thing.expression[1]);</span></pre>
<pre><span class="lineno"><a href="#line_4794" id="line_4794"> 4794.</a></span><span class="count                ">    118</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_4795" id="line_4795"> 4795.</a></span><span class="count                ">    118</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_4796" id="line_4796"> 4796.</a></span><span class="count                ">   1277</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_4797" id="line_4797"> 4797.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4798" id="line_4798"> 4798.</a></span><span class="count                ">    590</span><span>function postaction_function(thing) {</span></pre>
<pre><span class="lineno"><a href="#line_4799" id="line_4799"> 4799.</a></span><span class="count                ">    590</span><span>    delete functionage.finally;</span></pre>
<pre><span class="lineno"><a href="#line_4800" id="line_4800"> 4800.</a></span><span class="count                ">    590</span><span>    delete functionage.loop;</span></pre>
<pre><span class="lineno"><a href="#line_4801" id="line_4801"> 4801.</a></span><span class="count                ">    590</span><span>    delete functionage.switch;</span></pre>
<pre><span class="lineno"><a href="#line_4802" id="line_4802"> 4802.</a></span><span class="count                ">    590</span><span>    delete functionage.try;</span></pre>
<pre><span class="lineno"><a href="#line_4803" id="line_4803"> 4803.</a></span><span class="count                ">    590</span><span>    functionage = stack.pop();</span></pre>
<pre><span class="lineno"><a href="#line_4804" id="line_4804"> 4804.</a></span><span class="count                ">      1</span><span>    if (thing.wrapped) {</span></pre>
<pre><span class="lineno"><a href="#line_4805" id="line_4805"> 4805.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4806" id="line_4806"> 4806.</a></span><span class="count                ">      1</span><span>// cause: &quot;aa=(function(){})&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4807" id="line_4807"> 4807.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4808" id="line_4808"> 4808.</a></span><span class="count                ">      1</span><span>        warn(&quot;unexpected_parens&quot;, thing);</span></pre>
<pre><span class="lineno"><a href="#line_4809" id="line_4809"> 4809.</a></span><span class="count                ">      1</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_4810" id="line_4810"> 4810.</a></span><span class="count                ">    590</span><span>    return pop_block();</span></pre>
<pre><span class="lineno"><a href="#line_4811" id="line_4811"> 4811.</a></span><span class="count                ">    590</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_4812" id="line_4812"> 4812.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4813" id="line_4813"> 4813.</a></span><span class="count                ">   9317</span><span>postaction(&quot;binary&quot;, function (thing) {</span></pre>
<pre><span class="lineno"><a href="#line_4814" id="line_4814"> 4814.</a></span><span class="count                ">   9317</span><span>    let right;</span></pre>
<pre><span class="lineno"><a href="#line_4815" id="line_4815"> 4815.</a></span><span class="count                ">   1557</span><span>    if (relationop[thing.id]) {</span></pre>
<pre><span class="lineno"><a href="#line_4816" id="line_4816"> 4816.</a></span><span class="count                ">   1557</span><span>        if (</span></pre>
<pre><span class="lineno"><a href="#line_4817" id="line_4817"> 4817.</a></span><span class="count                ">   1557</span><span>            is_weird(thing.expression[0])</span></pre>
<pre><span class="lineno"><a href="#line_4818" id="line_4818"> 4818.</a></span><span class="count                ">   1557</span><span>            || is_weird(thing.expression[1])</span></pre>
<pre><span class="lineno"><a href="#line_4819" id="line_4819"> 4819.</a></span><span class="count                ">   1557</span><span>            || are_similar(thing.expression[0], thing.expression[1])</span></pre>
<pre><span class="lineno"><a href="#line_4820" id="line_4820"> 4820.</a></span><span class="count                ">   1557</span><span>            || (</span></pre>
<pre><span class="lineno"><a href="#line_4821" id="line_4821"> 4821.</a></span><span class="count                ">   1557</span><span>                thing.expression[0].constant === true</span></pre>
<pre><span class="lineno"><a href="#line_4822" id="line_4822"> 4822.</a></span><span class="count                ">   1557</span><span>                &amp;&amp; thing.expression[1].constant === true</span></pre>
<pre><span class="lineno"><a href="#line_4823" id="line_4823"> 4823.</a></span><span class="count                ">   1557</span><span>            )</span></pre>
<pre><span class="lineno"><a href="#line_4824" id="line_4824"> 4824.</a></span><span class="count                ">   1557</span><span>        ) {</span></pre>
<pre><span class="lineno"><a href="#line_4825" id="line_4825"> 4825.</a></span><span class="count                ">   1557</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4826" id="line_4826"> 4826.</a></span><span class="count                ">   1557</span><span>// cause: &quot;if(0===0){0}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4827" id="line_4827"> 4827.</a></span><span class="count                ">   1557</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4828" id="line_4828"> 4828.</a></span><span class="count                ">   1557</span><span>            warn(&quot;weird_relation_a&quot;, thing);</span></pre>
<pre><span class="lineno"><a href="#line_4829" id="line_4829"> 4829.</a></span><span class="count                ">   1557</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_4830" id="line_4830"> 4830.</a></span><span class="count                ">   1557</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_4831" id="line_4831"> 4831.</a></span><span class="count                ">    284</span><span>    if (thing.id === &quot;+&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_4832" id="line_4832"> 4832.</a></span><span class="count                ">    284</span><span>        if (!option.convert) {</span></pre>
<pre><span class="lineno"><a href="#line_4833" id="line_4833"> 4833.</a></span><span class="count                ">    284</span><span>            if (thing.expression[0].value === &quot;&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_4834" id="line_4834"> 4834.</a></span><span class="count                ">    284</span><span>                warn(&quot;expected_a_b&quot;, thing, &quot;String(...)&quot;, &quot;\&quot;\&quot; +&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_4835" id="line_4835"> 4835.</a></span><span class="count                ">    284</span><span>            } else if (thing.expression[1].value === &quot;&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_4836" id="line_4836"> 4836.</a></span><span class="count                ">    284</span><span>                warn(&quot;expected_a_b&quot;, thing, &quot;String(...)&quot;, &quot;+ \&quot;\&quot;&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_4837" id="line_4837"> 4837.</a></span><span class="count                ">    284</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_4838" id="line_4838"> 4838.</a></span><span class="count                ">    284</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_4839" id="line_4839"> 4839.</a></span><span class="count                ">   9033</span><span>    } else if (thing.id === &quot;[&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_4840" id="line_4840"> 4840.</a></span><span class="count                ">   9033</span><span>        if (thing.expression[0].id === &quot;window&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_4841" id="line_4841"> 4841.</a></span><span class="count                ">   9033</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4842" id="line_4842"> 4842.</a></span><span class="count                ">   9033</span><span>// cause: &quot;aa=window[0]&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4843" id="line_4843"> 4843.</a></span><span class="count                ">   9033</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4844" id="line_4844"> 4844.</a></span><span class="count                ">   9033</span><span>            warn(&quot;weird_expression_a&quot;, thing, &quot;window[...]&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_4845" id="line_4845"> 4845.</a></span><span class="count                ">   9033</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_4846" id="line_4846"> 4846.</a></span><span class="count                ">   9033</span><span>        if (thing.expression[0].id === &quot;self&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_4847" id="line_4847"> 4847.</a></span><span class="count                ">   9033</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4848" id="line_4848"> 4848.</a></span><span class="count                ">   9033</span><span>// cause: &quot;aa=self[0]&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4849" id="line_4849"> 4849.</a></span><span class="count                ">   9033</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4850" id="line_4850"> 4850.</a></span><span class="count                ">   9033</span><span>            warn(&quot;weird_expression_a&quot;, thing, &quot;self[...]&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_4851" id="line_4851"> 4851.</a></span><span class="count                ">   9033</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_4852" id="line_4852"> 4852.</a></span><span class="count                ">   9033</span><span>    } else if (thing.id === &quot;.&quot; || thing.id === &quot;?.&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_4853" id="line_4853"> 4853.</a></span><span class="count                ">   9033</span><span>        if (thing.expression.id === &quot;RegExp&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_4854" id="line_4854"> 4854.</a></span><span class="count                ">   9033</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4855" id="line_4855"> 4855.</a></span><span class="count                ">   9033</span><span>// cause: &quot;aa=RegExp.aa&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4856" id="line_4856"> 4856.</a></span><span class="count                ">   9033</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4857" id="line_4857"> 4857.</a></span><span class="count                ">   9033</span><span>            warn(&quot;weird_expression_a&quot;, thing);</span></pre>
<pre><span class="lineno"><a href="#line_4858" id="line_4858"> 4858.</a></span><span class="count                ">   9033</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_4859" id="line_4859"> 4859.</a></span><span class="count                ">   9033</span><span>    } else if (thing.id !== &quot;=&gt;&quot; &amp;&amp; thing.id !== &quot;(&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_4860" id="line_4860"> 4860.</a></span><span class="count                ">   9033</span><span>        right = thing.expression[1];</span></pre>
<pre><span class="lineno"><a href="#line_4861" id="line_4861"> 4861.</a></span><span class="count                ">   9033</span><span>        if (</span></pre>
<pre><span class="lineno"><a href="#line_4862" id="line_4862"> 4862.</a></span><span class="count                ">   9033</span><span>            (thing.id === &quot;+&quot; || thing.id === &quot;-&quot;)</span></pre>
<pre><span class="lineno"><a href="#line_4863" id="line_4863"> 4863.</a></span><span class="count                ">   9033</span><span>            &amp;&amp; right.id === thing.id</span></pre>
<pre><span class="lineno"><a href="#line_4864" id="line_4864"> 4864.</a></span><span class="count                ">   9033</span><span>            &amp;&amp; right.arity === &quot;unary&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4865" id="line_4865"> 4865.</a></span><span class="count                ">   9033</span><span>            &amp;&amp; !right.wrapped</span></pre>
<pre><span class="lineno"><a href="#line_4866" id="line_4866"> 4866.</a></span><span class="count                ">   9033</span><span>        ) {</span></pre>
<pre><span class="lineno"><a href="#line_4867" id="line_4867"> 4867.</a></span><span class="count                ">   9033</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4868" id="line_4868"> 4868.</a></span><span class="count                ">   9033</span><span>// cause: &quot;0- -0&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4869" id="line_4869"> 4869.</a></span><span class="count                ">   9033</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4870" id="line_4870"> 4870.</a></span><span class="count                ">   9033</span><span>            warn(&quot;wrap_unary&quot;, right);</span></pre>
<pre><span class="lineno"><a href="#line_4871" id="line_4871"> 4871.</a></span><span class="count                ">   9033</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_4872" id="line_4872"> 4872.</a></span><span class="count                ">   9033</span><span>        if (</span></pre>
<pre><span class="lineno"><a href="#line_4873" id="line_4873"> 4873.</a></span><span class="count                ">   9033</span><span>            thing.expression[0].constant === true</span></pre>
<pre><span class="lineno"><a href="#line_4874" id="line_4874"> 4874.</a></span><span class="count                ">   9033</span><span>            &amp;&amp; right.constant === true</span></pre>
<pre><span class="lineno"><a href="#line_4875" id="line_4875"> 4875.</a></span><span class="count                ">   9033</span><span>        ) {</span></pre>
<pre><span class="lineno"><a href="#line_4876" id="line_4876"> 4876.</a></span><span class="count                ">   9033</span><span>            thing.constant = true;</span></pre>
<pre><span class="lineno"><a href="#line_4877" id="line_4877"> 4877.</a></span><span class="count                ">   9033</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_4878" id="line_4878"> 4878.</a></span><span class="count                ">   9033</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_4879" id="line_4879"> 4879.</a></span><span class="count                ">   9317</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_4880" id="line_4880"> 4880.</a></span><span class="count                ">    387</span><span>postaction(&quot;binary&quot;, &quot;&amp;&amp;&quot;, function (thing) {</span></pre>
<pre><span class="lineno"><a href="#line_4881" id="line_4881"> 4881.</a></span><span class="count                ">    387</span><span>    if (</span></pre>
<pre><span class="lineno"><a href="#line_4882" id="line_4882"> 4882.</a></span><span class="count                ">    387</span><span>        is_weird(thing.expression[0])</span></pre>
<pre><span class="lineno"><a href="#line_4883" id="line_4883"> 4883.</a></span><span class="count                ">    387</span><span>        || are_similar(thing.expression[0], thing.expression[1])</span></pre>
<pre><span class="lineno"><a href="#line_4884" id="line_4884"> 4884.</a></span><span class="count                ">    374</span><span>        || thing.expression[0].constant === true</span></pre>
<pre><span class="lineno"><a href="#line_4885" id="line_4885"> 4885.</a></span><span class="count                ">    373</span><span>        || thing.expression[1].constant === true</span></pre>
<pre><span class="lineno"><a href="#line_4886" id="line_4886"> 4886.</a></span><span class="count                ">     14</span><span>    ) {</span></pre>
<pre><span class="lineno"><a href="#line_4887" id="line_4887"> 4887.</a></span><span class="count                ">     14</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4888" id="line_4888"> 4888.</a></span><span class="count                ">     14</span><span>// cause: &quot;aa=0&amp;&amp;0&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4889" id="line_4889"> 4889.</a></span><span class="count                ">     14</span><span>// cause: &quot;aa=`${0}`&amp;&amp;`${0}`&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4890" id="line_4890"> 4890.</a></span><span class="count                ">     14</span><span>// cause: &quot;aa=(``?``:``)&amp;&amp;(``?``:``)&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4891" id="line_4891"> 4891.</a></span><span class="count                ">     14</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4892" id="line_4892"> 4892.</a></span><span class="count                ">     14</span><span>        warn(&quot;weird_condition_a&quot;, thing);</span></pre>
<pre><span class="lineno"><a href="#line_4893" id="line_4893"> 4893.</a></span><span class="count                ">     14</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_4894" id="line_4894"> 4894.</a></span><span class="count                ">    387</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_4895" id="line_4895"> 4895.</a></span><span class="count                ">    360</span><span>postaction(&quot;binary&quot;, &quot;||&quot;, function (thing) {</span></pre>
<pre><span class="lineno"><a href="#line_4896" id="line_4896"> 4896.</a></span><span class="count                ">    360</span><span>    if (</span></pre>
<pre><span class="lineno"><a href="#line_4897" id="line_4897"> 4897.</a></span><span class="count                ">    360</span><span>        is_weird(thing.expression[0])</span></pre>
<pre><span class="lineno"><a href="#line_4898" id="line_4898"> 4898.</a></span><span class="count                ">    360</span><span>        || are_similar(thing.expression[0], thing.expression[1])</span></pre>
<pre><span class="lineno"><a href="#line_4899" id="line_4899"> 4899.</a></span><span class="count                ">    359</span><span>        || thing.expression[0].constant === true</span></pre>
<pre><span class="lineno"><a href="#line_4900" id="line_4900"> 4900.</a></span><span class="count                ">      2</span><span>    ) {</span></pre>
<pre><span class="lineno"><a href="#line_4901" id="line_4901"> 4901.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4902" id="line_4902"> 4902.</a></span><span class="count                ">      2</span><span>// cause: &quot;aa=0||0&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4903" id="line_4903"> 4903.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4904" id="line_4904"> 4904.</a></span><span class="count                ">      2</span><span>        warn(&quot;weird_condition_a&quot;, thing);</span></pre>
<pre><span class="lineno"><a href="#line_4905" id="line_4905"> 4905.</a></span><span class="count                ">      2</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_4906" id="line_4906"> 4906.</a></span><span class="count                ">    360</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_4907" id="line_4907"> 4907.</a></span><span class="count                ">      1</span><span>postaction(&quot;binary&quot;, &quot;=&gt;&quot;, postaction_function);</span></pre>
<pre><span class="lineno"><a href="#line_4908" id="line_4908"> 4908.</a></span><span class="count                ">   2878</span><span>postaction(&quot;binary&quot;, &quot;(&quot;, function (thing) {</span></pre>
<pre><span class="lineno"><a href="#line_4909" id="line_4909"> 4909.</a></span><span class="count                ">   2878</span><span>    let left = thing.expression[0];</span></pre>
<pre><span class="lineno"><a href="#line_4910" id="line_4910"> 4910.</a></span><span class="count                ">   2878</span><span>    let the_new;</span></pre>
<pre><span class="lineno"><a href="#line_4911" id="line_4911"> 4911.</a></span><span class="count                ">   2878</span><span>    let arg;</span></pre>
<pre><span class="lineno"><a href="#line_4912" id="line_4912"> 4912.</a></span><span class="count                ">     29</span><span>    if (left.id === &quot;new&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_4913" id="line_4913"> 4913.</a></span><span class="count                ">     29</span><span>        the_new = left;</span></pre>
<pre><span class="lineno"><a href="#line_4914" id="line_4914"> 4914.</a></span><span class="count                ">     29</span><span>        left = left.expression;</span></pre>
<pre><span class="lineno"><a href="#line_4915" id="line_4915"> 4915.</a></span><span class="count                ">     29</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_4916" id="line_4916"> 4916.</a></span><span class="count                ">     65</span><span>    if (left.id === &quot;function&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_4917" id="line_4917"> 4917.</a></span><span class="count                ">     65</span><span>        if (!thing.wrapped) {</span></pre>
<pre><span class="lineno"><a href="#line_4918" id="line_4918"> 4918.</a></span><span class="count                ">     65</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4919" id="line_4919"> 4919.</a></span><span class="count                ">     65</span><span>// cause: &quot;aa=function(){}()&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4920" id="line_4920"> 4920.</a></span><span class="count                ">     65</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4921" id="line_4921"> 4921.</a></span><span class="count                ">     65</span><span>            warn(&quot;wrap_immediate&quot;, thing);</span></pre>
<pre><span class="lineno"><a href="#line_4922" id="line_4922"> 4922.</a></span><span class="count                ">     65</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_4923" id="line_4923"> 4923.</a></span><span class="count                ">   2813</span><span>    } else if (left.identifier) {</span></pre>
<pre><span class="lineno"><a href="#line_4924" id="line_4924"> 4924.</a></span><span class="count                ">   2813</span><span>        if (the_new !== undefined) {</span></pre>
<pre><span class="lineno"><a href="#line_4925" id="line_4925"> 4925.</a></span><span class="count                ">   2813</span><span>            if (</span></pre>
<pre><span class="lineno"><a href="#line_4926" id="line_4926"> 4926.</a></span><span class="count                ">   2813</span><span>                left.id[0] &gt; &quot;Z&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4927" id="line_4927"> 4927.</a></span><span class="count                ">   2813</span><span>                || left.id === &quot;Boolean&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4928" id="line_4928"> 4928.</a></span><span class="count                ">   2813</span><span>                || left.id === &quot;Number&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4929" id="line_4929"> 4929.</a></span><span class="count                ">   2813</span><span>                || left.id === &quot;String&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4930" id="line_4930"> 4930.</a></span><span class="count                ">   2813</span><span>                || left.id === &quot;Symbol&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4931" id="line_4931"> 4931.</a></span><span class="count                ">   2813</span><span>            ) {</span></pre>
<pre><span class="lineno"><a href="#line_4932" id="line_4932"> 4932.</a></span><span class="count                ">   2813</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4933" id="line_4933"> 4933.</a></span><span class="count                ">   2813</span><span>// cause: &quot;new Boolean()&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4934" id="line_4934"> 4934.</a></span><span class="count                ">   2813</span><span>// cause: &quot;new Number()&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4935" id="line_4935"> 4935.</a></span><span class="count                ">   2813</span><span>// cause: &quot;new String()&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4936" id="line_4936"> 4936.</a></span><span class="count                ">   2813</span><span>// cause: &quot;new Symbol()&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4937" id="line_4937"> 4937.</a></span><span class="count                ">   2813</span><span>// cause: &quot;new aa()&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4938" id="line_4938"> 4938.</a></span><span class="count                ">   2813</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4939" id="line_4939"> 4939.</a></span><span class="count                ">   2813</span><span>                warn(&quot;unexpected_a&quot;, the_new);</span></pre>
<pre><span class="lineno"><a href="#line_4940" id="line_4940"> 4940.</a></span><span class="count                ">   2813</span><span>            } else if (left.id === &quot;Function&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_4941" id="line_4941"> 4941.</a></span><span class="count                ">   2813</span><span>                if (!option.eval) {</span></pre>
<pre><span class="lineno"><a href="#line_4942" id="line_4942"> 4942.</a></span><span class="count                ">   2813</span><span>                    warn(&quot;unexpected_a&quot;, left, &quot;new Function&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_4943" id="line_4943"> 4943.</a></span><span class="count                ">   2813</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_4944" id="line_4944"> 4944.</a></span><span class="count                ">   2813</span><span>            } else if (left.id === &quot;Array&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_4945" id="line_4945"> 4945.</a></span><span class="count                ">   2813</span><span>                arg = thing.expression;</span></pre>
<pre><span class="lineno"><a href="#line_4946" id="line_4946"> 4946.</a></span><span class="count                ">   2813</span><span>                if (arg.length !== 2 || arg[1].id === &quot;(string)&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_4947" id="line_4947"> 4947.</a></span><span class="count                ">   2813</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4948" id="line_4948"> 4948.</a></span><span class="count                ">   2813</span><span>// cause: &quot;new Array()&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4949" id="line_4949"> 4949.</a></span><span class="count                ">   2813</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4950" id="line_4950"> 4950.</a></span><span class="count                ">   2813</span><span>                    warn(&quot;expected_a_b&quot;, left, &quot;[]&quot;, &quot;new Array&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_4951" id="line_4951"> 4951.</a></span><span class="count                ">   2813</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_4952" id="line_4952"> 4952.</a></span><span class="count                ">   2813</span><span>            } else if (left.id === &quot;Object&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_4953" id="line_4953"> 4953.</a></span><span class="count                ">   2813</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4954" id="line_4954"> 4954.</a></span><span class="count                ">   2813</span><span>// cause: &quot;new Object()&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4955" id="line_4955"> 4955.</a></span><span class="count                ">   2813</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4956" id="line_4956"> 4956.</a></span><span class="count                ">   2813</span><span>                warn(</span></pre>
<pre><span class="lineno"><a href="#line_4957" id="line_4957"> 4957.</a></span><span class="count                ">   2813</span><span>                    &quot;expected_a_b&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_4958" id="line_4958"> 4958.</a></span><span class="count                ">   2813</span><span>                    left,</span></pre>
<pre><span class="lineno"><a href="#line_4959" id="line_4959"> 4959.</a></span><span class="count                ">   2813</span><span>                    &quot;Object.create(null)&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_4960" id="line_4960"> 4960.</a></span><span class="count                ">   2813</span><span>                    &quot;new Object&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4961" id="line_4961"> 4961.</a></span><span class="count                ">   2813</span><span>                );</span></pre>
<pre><span class="lineno"><a href="#line_4962" id="line_4962"> 4962.</a></span><span class="count                ">   2813</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_4963" id="line_4963"> 4963.</a></span><span class="count                ">   2813</span><span>        } else {</span></pre>
<pre><span class="lineno"><a href="#line_4964" id="line_4964"> 4964.</a></span><span class="count                ">   2813</span><span>            if (</span></pre>
<pre><span class="lineno"><a href="#line_4965" id="line_4965"> 4965.</a></span><span class="count                ">   2813</span><span>                left.id[0] &gt;= &quot;A&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4966" id="line_4966"> 4966.</a></span><span class="count                ">   2813</span><span>                &amp;&amp; left.id[0] &lt;= &quot;Z&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4967" id="line_4967"> 4967.</a></span><span class="count                ">   2813</span><span>                &amp;&amp; left.id !== &quot;Boolean&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4968" id="line_4968"> 4968.</a></span><span class="count                ">   2813</span><span>                &amp;&amp; left.id !== &quot;Number&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4969" id="line_4969"> 4969.</a></span><span class="count                ">   2813</span><span>                &amp;&amp; left.id !== &quot;String&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4970" id="line_4970"> 4970.</a></span><span class="count                ">   2813</span><span>                &amp;&amp; left.id !== &quot;Symbol&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4971" id="line_4971"> 4971.</a></span><span class="count                ">   2813</span><span>            ) {</span></pre>
<pre><span class="lineno"><a href="#line_4972" id="line_4972"> 4972.</a></span><span class="count                ">   2813</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4973" id="line_4973"> 4973.</a></span><span class="count                ">   2813</span><span>// cause: &quot;let Aa=Aa()&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4974" id="line_4974"> 4974.</a></span><span class="count                ">   2813</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4975" id="line_4975"> 4975.</a></span><span class="count                ">   2813</span><span>                warn(</span></pre>
<pre><span class="lineno"><a href="#line_4976" id="line_4976"> 4976.</a></span><span class="count                ">   2813</span><span>                    &quot;expected_a_before_b&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_4977" id="line_4977"> 4977.</a></span><span class="count                ">   2813</span><span>                    left,</span></pre>
<pre><span class="lineno"><a href="#line_4978" id="line_4978"> 4978.</a></span><span class="count                ">   2813</span><span>                    &quot;new&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_4979" id="line_4979"> 4979.</a></span><span class="count                ">   2813</span><span>                    artifact(left)</span></pre>
<pre><span class="lineno"><a href="#line_4980" id="line_4980"> 4980.</a></span><span class="count                ">   2813</span><span>                );</span></pre>
<pre><span class="lineno"><a href="#line_4981" id="line_4981"> 4981.</a></span><span class="count                ">   2813</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_4982" id="line_4982"> 4982.</a></span><span class="count                ">   2813</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_4983" id="line_4983"> 4983.</a></span><span class="count                ">   2813</span><span>    } else if (left.id === &quot;.&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_4984" id="line_4984"> 4984.</a></span><span class="count                ">   2813</span><span>        let cack = the_new !== undefined;</span></pre>
<pre><span class="lineno"><a href="#line_4985" id="line_4985"> 4985.</a></span><span class="count                ">   2813</span><span>        if (left.expression.id === &quot;Date&quot; &amp;&amp; left.name.id === &quot;UTC&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_4986" id="line_4986"> 4986.</a></span><span class="count                ">   2813</span><span>            cack = !cack;</span></pre>
<pre><span class="lineno"><a href="#line_4987" id="line_4987"> 4987.</a></span><span class="count                ">   2813</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_4988" id="line_4988"> 4988.</a></span><span class="count                ">   2813</span><span>        if (rx_cap.test(left.name.id) !== cack) {</span></pre>
<pre><span class="lineno"><a href="#line_4989" id="line_4989"> 4989.</a></span><span class="count                ">   2813</span><span>            if (the_new !== undefined) {</span></pre>
<pre><span class="lineno"><a href="#line_4990" id="line_4990"> 4990.</a></span><span class="count                ">   2813</span><span>                warn(&quot;unexpected_a&quot;, the_new);</span></pre>
<pre><span class="lineno"><a href="#line_4991" id="line_4991"> 4991.</a></span><span class="count                ">   2813</span><span>            } else {</span></pre>
<pre><span class="lineno"><a href="#line_4992" id="line_4992"> 4992.</a></span><span class="count                ">   2813</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4993" id="line_4993"> 4993.</a></span><span class="count                ">   2813</span><span>// cause: &quot;let Aa=Aa.Aa()&quot;</span></pre>
<pre><span class="lineno"><a href="#line_4994" id="line_4994"> 4994.</a></span><span class="count                ">   2813</span><span></span></pre>
<pre><span class="lineno"><a href="#line_4995" id="line_4995"> 4995.</a></span><span class="count                ">   2813</span><span>                warn(</span></pre>
<pre><span class="lineno"><a href="#line_4996" id="line_4996"> 4996.</a></span><span class="count                ">   2813</span><span>                    &quot;expected_a_before_b&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_4997" id="line_4997"> 4997.</a></span><span class="count                ">   2813</span><span>                    left.expression,</span></pre>
<pre><span class="lineno"><a href="#line_4998" id="line_4998"> 4998.</a></span><span class="count                ">   2813</span><span>                    &quot;new&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_4999" id="line_4999"> 4999.</a></span><span class="count                ">   2813</span><span>                    left.name.id</span></pre>
<pre><span class="lineno"><a href="#line_5000" id="line_5000"> 5000.</a></span><span class="count                ">   2813</span><span>                );</span></pre>
<pre><span class="lineno"><a href="#line_5001" id="line_5001"> 5001.</a></span><span class="count                ">   2813</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_5002" id="line_5002"> 5002.</a></span><span class="count                ">   2813</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_5003" id="line_5003"> 5003.</a></span><span class="count                ">   2813</span><span>        if (left.name.id === &quot;getTime&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_5004" id="line_5004"> 5004.</a></span><span class="count                ">   2813</span><span>            const paren = left.expression;</span></pre>
<pre><span class="lineno"><a href="#line_5005" id="line_5005"> 5005.</a></span><span class="count                ">   2813</span><span>            if (paren.id === &quot;(&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_5006" id="line_5006"> 5006.</a></span><span class="count                ">   2813</span><span>                const array = paren.expression;</span></pre>
<pre><span class="lineno"><a href="#line_5007" id="line_5007"> 5007.</a></span><span class="count                ">   2813</span><span>                if (array.length === 1) {</span></pre>
<pre><span class="lineno"><a href="#line_5008" id="line_5008"> 5008.</a></span><span class="count                ">   2813</span><span>                    const new_date = array[0];</span></pre>
<pre><span class="lineno"><a href="#line_5009" id="line_5009"> 5009.</a></span><span class="count                ">   2813</span><span>                    if (</span></pre>
<pre><span class="lineno"><a href="#line_5010" id="line_5010"> 5010.</a></span><span class="count                ">   2813</span><span>                        new_date.id === &quot;new&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5011" id="line_5011"> 5011.</a></span><span class="count                ">   2813</span><span>                        &amp;&amp; new_date.expression.id === &quot;Date&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5012" id="line_5012"> 5012.</a></span><span class="count                ">   2813</span><span>                    ) {</span></pre>
<pre><span class="lineno"><a href="#line_5013" id="line_5013"> 5013.</a></span><span class="count                ">   2813</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5014" id="line_5014"> 5014.</a></span><span class="count                ">   2813</span><span>// cause: &quot;new Date().getTime()&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5015" id="line_5015"> 5015.</a></span><span class="count                ">   2813</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5016" id="line_5016"> 5016.</a></span><span class="count                ">   2813</span><span>                        warn(</span></pre>
<pre><span class="lineno"><a href="#line_5017" id="line_5017"> 5017.</a></span><span class="count                ">   2813</span><span>                            &quot;expected_a_b&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_5018" id="line_5018"> 5018.</a></span><span class="count                ">   2813</span><span>                            new_date,</span></pre>
<pre><span class="lineno"><a href="#line_5019" id="line_5019"> 5019.</a></span><span class="count                ">   2813</span><span>                            &quot;Date.now()&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_5020" id="line_5020"> 5020.</a></span><span class="count                ">   2813</span><span>                            &quot;new Date().getTime()&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5021" id="line_5021"> 5021.</a></span><span class="count                ">   2813</span><span>                        );</span></pre>
<pre><span class="lineno"><a href="#line_5022" id="line_5022"> 5022.</a></span><span class="count                ">   2813</span><span>                    }</span></pre>
<pre><span class="lineno"><a href="#line_5023" id="line_5023"> 5023.</a></span><span class="count                ">   2813</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_5024" id="line_5024"> 5024.</a></span><span class="count                ">   2813</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_5025" id="line_5025"> 5025.</a></span><span class="count                ">   2813</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_5026" id="line_5026"> 5026.</a></span><span class="count                ">   2813</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_5027" id="line_5027"> 5027.</a></span><span class="count                ">   2878</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_5028" id="line_5028"> 5028.</a></span><span class="count                ">    417</span><span>postaction(&quot;binary&quot;, &quot;[&quot;, function (thing) {</span></pre>
<pre><span class="lineno"><a href="#line_5029" id="line_5029"> 5029.</a></span><span class="count                ">      1</span><span>    if (thing.expression[0].id === &quot;RegExp&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_5030" id="line_5030"> 5030.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5031" id="line_5031"> 5031.</a></span><span class="count                ">      1</span><span>// cause: &quot;aa=RegExp[0]&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5032" id="line_5032"> 5032.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5033" id="line_5033"> 5033.</a></span><span class="count                ">      1</span><span>        warn(&quot;weird_expression_a&quot;, thing);</span></pre>
<pre><span class="lineno"><a href="#line_5034" id="line_5034"> 5034.</a></span><span class="count                ">      1</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_5035" id="line_5035"> 5035.</a></span><span class="count                ">      1</span><span>    if (is_weird(thing.expression[1])) {</span></pre>
<pre><span class="lineno"><a href="#line_5036" id="line_5036"> 5036.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5037" id="line_5037"> 5037.</a></span><span class="count                ">      1</span><span>// cause: &quot;aa[[0]]&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5038" id="line_5038"> 5038.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5039" id="line_5039"> 5039.</a></span><span class="count                ">      1</span><span>        warn(&quot;weird_expression_a&quot;, thing.expression[1]);</span></pre>
<pre><span class="lineno"><a href="#line_5040" id="line_5040"> 5040.</a></span><span class="count                ">      1</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_5041" id="line_5041"> 5041.</a></span><span class="count                ">    417</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_5042" id="line_5042"> 5042.</a></span><span class="count                ">      1</span><span>postaction(&quot;statement&quot;, &quot;{&quot;, pop_block);</span></pre>
<pre><span class="lineno"><a href="#line_5043" id="line_5043"> 5043.</a></span><span class="count                ">      1</span><span>postaction(&quot;statement&quot;, &quot;const&quot;, action_var);</span></pre>
<pre><span class="lineno"><a href="#line_5044" id="line_5044"> 5044.</a></span><span class="count                ">      1</span><span>postaction(&quot;statement&quot;, &quot;export&quot;, top_level_only);</span></pre>
<pre><span class="lineno"><a href="#line_5045" id="line_5045"> 5045.</a></span><span class="count                ">      7</span><span>postaction(&quot;statement&quot;, &quot;for&quot;, function (thing) {</span></pre>
<pre><span class="lineno"><a href="#line_5046" id="line_5046"> 5046.</a></span><span class="count                ">      7</span><span>    walk_statement(thing.inc);</span></pre>
<pre><span class="lineno"><a href="#line_5047" id="line_5047"> 5047.</a></span><span class="count                ">      7</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_5048" id="line_5048"> 5048.</a></span><span class="count                ">      1</span><span>postaction(&quot;statement&quot;, &quot;function&quot;, postaction_function);</span></pre>
<pre><span class="lineno"><a href="#line_5049" id="line_5049"> 5049.</a></span><span class="count                ">     11</span><span>postaction(&quot;statement&quot;, &quot;import&quot;, function (the_thing) {</span></pre>
<pre><span class="lineno"><a href="#line_5050" id="line_5050"> 5050.</a></span><span class="count                ">     11</span><span>    const name = the_thing.name;</span></pre>
<pre><span class="lineno"><a href="#line_5051" id="line_5051"> 5051.</a></span><span class="count                ">     11</span><span>    if (name) {</span></pre>
<pre><span class="lineno"><a href="#line_5052" id="line_5052"> 5052.</a></span><span class="count                ">      3</span><span>        if (Array.isArray(name)) {</span></pre>
<pre><span class="lineno"><a href="#line_5053" id="line_5053"> 5053.</a></span><span class="count                ">      3</span><span>            name.forEach(function (name) {</span></pre>
<pre><span class="lineno"><a href="#line_5054" id="line_5054"> 5054.</a></span><span class="count                ">      3</span><span>                name.dead = false;</span></pre>
<pre><span class="lineno"><a href="#line_5055" id="line_5055"> 5055.</a></span><span class="count                ">      3</span><span>                name.init = true;</span></pre>
<pre><span class="lineno"><a href="#line_5056" id="line_5056"> 5056.</a></span><span class="count                ">      3</span><span>                blockage.live.push(name);</span></pre>
<pre><span class="lineno"><a href="#line_5057" id="line_5057"> 5057.</a></span><span class="count                ">      3</span><span>            });</span></pre>
<pre><span class="lineno"><a href="#line_5058" id="line_5058"> 5058.</a></span><span class="count                ">      8</span><span>        } else {</span></pre>
<pre><span class="lineno"><a href="#line_5059" id="line_5059"> 5059.</a></span><span class="count                ">      8</span><span>            name.dead = false;</span></pre>
<pre><span class="lineno"><a href="#line_5060" id="line_5060"> 5060.</a></span><span class="count                ">      8</span><span>            name.init = true;</span></pre>
<pre><span class="lineno"><a href="#line_5061" id="line_5061"> 5061.</a></span><span class="count                ">      8</span><span>            blockage.live.push(name);</span></pre>
<pre><span class="lineno"><a href="#line_5062" id="line_5062"> 5062.</a></span><span class="count                ">      8</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_5063" id="line_5063"> 5063.</a></span><span class="count                ">     11</span><span>        return top_level_only(the_thing);</span></pre>
<pre><span class="lineno"><a href="#line_5064" id="line_5064"> 5064.</a></span><span class="count                ">     11</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_5065" id="line_5065"> 5065.</a></span><span class="count                ">     11</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_5066" id="line_5066"> 5066.</a></span><span class="count                ">      1</span><span>postaction(&quot;statement&quot;, &quot;let&quot;, action_var);</span></pre>
<pre><span class="lineno"><a href="#line_5067" id="line_5067"> 5067.</a></span><span class="count                ">     11</span><span>postaction(&quot;statement&quot;, &quot;try&quot;, function (thing) {</span></pre>
<pre><span class="lineno"><a href="#line_5068" id="line_5068"> 5068.</a></span><span class="count                ">     10</span><span>    if (thing.catch !== undefined) {</span></pre>
<pre><span class="lineno"><a href="#line_5069" id="line_5069"> 5069.</a></span><span class="count                ">     10</span><span>        const the_name = thing.catch.name;</span></pre>
<pre><span class="lineno"><a href="#line_5070" id="line_5070"> 5070.</a></span><span class="count                ">     10</span><span>        if (the_name !== undefined) {</span></pre>
<pre><span class="lineno"><a href="#line_5071" id="line_5071"> 5071.</a></span><span class="count                ">     10</span><span>            const the_variable = functionage.context[the_name.id];</span></pre>
<pre><span class="lineno"><a href="#line_5072" id="line_5072"> 5072.</a></span><span class="count                ">     10</span><span>            the_variable.dead = false;</span></pre>
<pre><span class="lineno"><a href="#line_5073" id="line_5073"> 5073.</a></span><span class="count                ">     10</span><span>            the_variable.init = true;</span></pre>
<pre><span class="lineno"><a href="#line_5074" id="line_5074"> 5074.</a></span><span class="count                ">     10</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_5075" id="line_5075"> 5075.</a></span><span class="count                ">     10</span><span>        walk_statement(thing.catch.block);</span></pre>
<pre><span class="lineno"><a href="#line_5076" id="line_5076"> 5076.</a></span><span class="count                ">     10</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_5077" id="line_5077"> 5077.</a></span><span class="count                ">     11</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_5078" id="line_5078"> 5078.</a></span><span class="count                ">      1</span><span>postaction(&quot;statement&quot;, &quot;var&quot;, action_var);</span></pre>
<pre><span class="lineno"><a href="#line_5079" id="line_5079"> 5079.</a></span><span class="count                ">     59</span><span>postaction(&quot;ternary&quot;, function (thing) {</span></pre>
<pre><span class="lineno"><a href="#line_5080" id="line_5080"> 5080.</a></span><span class="count                ">     59</span><span>    if (</span></pre>
<pre><span class="lineno"><a href="#line_5081" id="line_5081"> 5081.</a></span><span class="count                ">     59</span><span>        is_weird(thing.expression[0])</span></pre>
<pre><span class="lineno"><a href="#line_5082" id="line_5082"> 5082.</a></span><span class="count                ">     59</span><span>        || thing.expression[0].constant === true</span></pre>
<pre><span class="lineno"><a href="#line_5083" id="line_5083"> 5083.</a></span><span class="count                ">     53</span><span>        || are_similar(thing.expression[1], thing.expression[2])</span></pre>
<pre><span class="lineno"><a href="#line_5084" id="line_5084"> 5084.</a></span><span class="count                ">      6</span><span>    ) {</span></pre>
<pre><span class="lineno"><a href="#line_5085" id="line_5085"> 5085.</a></span><span class="count                ">      6</span><span>        warn(&quot;unexpected_a&quot;, thing);</span></pre>
<pre><span class="lineno"><a href="#line_5086" id="line_5086"> 5086.</a></span><span class="count                ">     53</span><span>    } else if (are_similar(thing.expression[0], thing.expression[1])) {</span></pre>
<pre><span class="lineno"><a href="#line_5087" id="line_5087"> 5087.</a></span><span class="count                ">     53</span><span>        warn(&quot;expected_a_b&quot;, thing, &quot;||&quot;, &quot;?&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_5088" id="line_5088"> 5088.</a></span><span class="count                ">     53</span><span>    } else if (are_similar(thing.expression[0], thing.expression[2])) {</span></pre>
<pre><span class="lineno"><a href="#line_5089" id="line_5089"> 5089.</a></span><span class="count                ">     53</span><span>        warn(&quot;expected_a_b&quot;, thing, &quot;&amp;&amp;&quot;, &quot;?&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_5090" id="line_5090"> 5090.</a></span><span class="count                ">     53</span><span>    } else if (</span></pre>
<pre><span class="lineno"><a href="#line_5091" id="line_5091"> 5091.</a></span><span class="count                ">     53</span><span>        thing.expression[1].id === &quot;true&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5092" id="line_5092"> 5092.</a></span><span class="count                ">     53</span><span>        &amp;&amp; thing.expression[2].id === &quot;false&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5093" id="line_5093"> 5093.</a></span><span class="count                ">     53</span><span>    ) {</span></pre>
<pre><span class="lineno"><a href="#line_5094" id="line_5094"> 5094.</a></span><span class="count                ">     53</span><span>        warn(&quot;expected_a_b&quot;, thing, &quot;!!&quot;, &quot;?&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_5095" id="line_5095"> 5095.</a></span><span class="count                ">     53</span><span>    } else if (</span></pre>
<pre><span class="lineno"><a href="#line_5096" id="line_5096"> 5096.</a></span><span class="count                ">     53</span><span>        thing.expression[1].id === &quot;false&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5097" id="line_5097"> 5097.</a></span><span class="count                ">     53</span><span>        &amp;&amp; thing.expression[2].id === &quot;true&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5098" id="line_5098"> 5098.</a></span><span class="count                ">     53</span><span>    ) {</span></pre>
<pre><span class="lineno"><a href="#line_5099" id="line_5099"> 5099.</a></span><span class="count                ">     53</span><span>        warn(&quot;expected_a_b&quot;, thing, &quot;!&quot;, &quot;?&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_5100" id="line_5100"> 5100.</a></span><span class="count                ">     53</span><span>    } else if (</span></pre>
<pre><span class="lineno"><a href="#line_5101" id="line_5101"> 5101.</a></span><span class="count                ">     53</span><span>        thing.expression[0].wrapped !== true</span></pre>
<pre><span class="lineno"><a href="#line_5102" id="line_5102"> 5102.</a></span><span class="count                ">     53</span><span>        &amp;&amp; (</span></pre>
<pre><span class="lineno"><a href="#line_5103" id="line_5103"> 5103.</a></span><span class="count                ">     53</span><span>            thing.expression[0].id === &quot;||&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5104" id="line_5104"> 5104.</a></span><span class="count                ">     53</span><span>            || thing.expression[0].id === &quot;&amp;&amp;&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5105" id="line_5105"> 5105.</a></span><span class="count                ">     53</span><span>        )</span></pre>
<pre><span class="lineno"><a href="#line_5106" id="line_5106"> 5106.</a></span><span class="count                ">     53</span><span>    ) {</span></pre>
<pre><span class="lineno"><a href="#line_5107" id="line_5107"> 5107.</a></span><span class="count                ">     53</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5108" id="line_5108"> 5108.</a></span><span class="count                ">     53</span><span>// cause: &quot;(aa&amp;&amp;!aa?0:1)&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5109" id="line_5109"> 5109.</a></span><span class="count                ">     53</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5110" id="line_5110"> 5110.</a></span><span class="count                ">     53</span><span>        warn(&quot;wrap_condition&quot;, thing.expression[0]);</span></pre>
<pre><span class="lineno"><a href="#line_5111" id="line_5111"> 5111.</a></span><span class="count                ">     53</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_5112" id="line_5112"> 5112.</a></span><span class="count                ">     59</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_5113" id="line_5113"> 5113.</a></span><span class="count                ">    920</span><span>postaction(&quot;unary&quot;, function (thing) {</span></pre>
<pre><span class="lineno"><a href="#line_5114" id="line_5114"> 5114.</a></span><span class="count                ">     34</span><span>    if (thing.id === &quot;`&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_5115" id="line_5115"> 5115.</a></span><span class="count                ">     34</span><span>        if (thing.expression.every(function (thing) {</span></pre>
<pre><span class="lineno"><a href="#line_5116" id="line_5116"> 5116.</a></span><span class="count                ">     34</span><span>            return thing.constant;</span></pre>
<pre><span class="lineno"><a href="#line_5117" id="line_5117"> 5117.</a></span><span class="count                ">     34</span><span>        })) {</span></pre>
<pre><span class="lineno"><a href="#line_5118" id="line_5118"> 5118.</a></span><span class="count                ">     34</span><span>            thing.constant = true;</span></pre>
<pre><span class="lineno"><a href="#line_5119" id="line_5119"> 5119.</a></span><span class="count                ">     34</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_5120" id="line_5120"> 5120.</a></span><span class="count                ">    886</span><span>    } else if (thing.id === &quot;!&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_5121" id="line_5121"> 5121.</a></span><span class="count                ">    886</span><span>        if (thing.expression.constant === true) {</span></pre>
<pre><span class="lineno"><a href="#line_5122" id="line_5122"> 5122.</a></span><span class="count                ">    886</span><span>            warn(&quot;unexpected_a&quot;, thing);</span></pre>
<pre><span class="lineno"><a href="#line_5123" id="line_5123"> 5123.</a></span><span class="count                ">    886</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_5124" id="line_5124"> 5124.</a></span><span class="count                ">    886</span><span>    } else if (thing.id === &quot;!!&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_5125" id="line_5125"> 5125.</a></span><span class="count                ">    886</span><span>        if (!option.convert) {</span></pre>
<pre><span class="lineno"><a href="#line_5126" id="line_5126"> 5126.</a></span><span class="count                ">    886</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5127" id="line_5127"> 5127.</a></span><span class="count                ">    886</span><span>// cause: &quot;!!0&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5128" id="line_5128"> 5128.</a></span><span class="count                ">    886</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5129" id="line_5129"> 5129.</a></span><span class="count                ">    886</span><span>            warn(&quot;expected_a_b&quot;, thing, &quot;Boolean(...)&quot;, &quot;!!&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_5130" id="line_5130"> 5130.</a></span><span class="count                ">    886</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_5131" id="line_5131"> 5131.</a></span><span class="count                ">    886</span><span>    } else if (</span></pre>
<pre><span class="lineno"><a href="#line_5132" id="line_5132"> 5132.</a></span><span class="count                ">    886</span><span>        thing.id !== &quot;[&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5133" id="line_5133"> 5133.</a></span><span class="count                ">    886</span><span>        &amp;&amp; thing.id !== &quot;{&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5134" id="line_5134"> 5134.</a></span><span class="count                ">    886</span><span>        &amp;&amp; thing.id !== &quot;function&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5135" id="line_5135"> 5135.</a></span><span class="count                ">    886</span><span>        &amp;&amp; thing.id !== &quot;new&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5136" id="line_5136"> 5136.</a></span><span class="count                ">    886</span><span>    ) {</span></pre>
<pre><span class="lineno"><a href="#line_5137" id="line_5137"> 5137.</a></span><span class="count                ">    886</span><span>        if (thing.expression.constant === true) {</span></pre>
<pre><span class="lineno"><a href="#line_5138" id="line_5138"> 5138.</a></span><span class="count                ">    886</span><span>            thing.constant = true;</span></pre>
<pre><span class="lineno"><a href="#line_5139" id="line_5139"> 5139.</a></span><span class="count                ">    886</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_5140" id="line_5140"> 5140.</a></span><span class="count                ">    886</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_5141" id="line_5141"> 5141.</a></span><span class="count                ">    920</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_5142" id="line_5142"> 5142.</a></span><span class="count                ">      1</span><span>postaction(&quot;unary&quot;, &quot;function&quot;, postaction_function);</span></pre>
<pre><span class="lineno"><a href="#line_5143" id="line_5143"> 5143.</a></span><span class="count                ">      9</span><span>postaction(&quot;unary&quot;, &quot;+&quot;, function (thing) {</span></pre>
<pre><span class="lineno"><a href="#line_5144" id="line_5144"> 5144.</a></span><span class="count                ">      9</span><span>    if (!option.convert) {</span></pre>
<pre><span class="lineno"><a href="#line_5145" id="line_5145"> 5145.</a></span><span class="count                ">      9</span><span>        warn(&quot;expected_a_b&quot;, thing, &quot;Number(...)&quot;, &quot;+&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_5146" id="line_5146"> 5146.</a></span><span class="count                ">      9</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_5147" id="line_5147"> 5147.</a></span><span class="count                ">      9</span><span>    const right = thing.expression;</span></pre>
<pre><span class="lineno"><a href="#line_5148" id="line_5148"> 5148.</a></span><span class="count                ">      1</span><span>    if (right.id === &quot;(&quot; &amp;&amp; right.expression[0].id === &quot;new&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_5149" id="line_5149"> 5149.</a></span><span class="count                ">      1</span><span>        warn(&quot;unexpected_a_before_b&quot;, thing, &quot;+&quot;, &quot;new&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_5150" id="line_5150"> 5150.</a></span><span class="count                ">      8</span><span>    } else if (</span></pre>
<pre><span class="lineno"><a href="#line_5151" id="line_5151"> 5151.</a></span><span class="count                ">      8</span><span>        right.constant</span></pre>
<pre><span class="lineno"><a href="#line_5152" id="line_5152"> 5152.</a></span><span class="count                ">      8</span><span>        || right.id === &quot;{&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5153" id="line_5153"> 5153.</a></span><span class="count                ">      8</span><span>        || (right.id === &quot;[&quot; &amp;&amp; right.arity !== &quot;binary&quot;)</span></pre>
<pre><span class="lineno"><a href="#line_5154" id="line_5154"> 5154.</a></span><span class="count                ">      8</span><span>    ) {</span></pre>
<pre><span class="lineno"><a href="#line_5155" id="line_5155"> 5155.</a></span><span class="count                ">      8</span><span>        warn(&quot;unexpected_a&quot;, thing, &quot;+&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_5156" id="line_5156"> 5156.</a></span><span class="count                ">      8</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_5157" id="line_5157"> 5157.</a></span><span class="count                ">      9</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_5158" id="line_5158"> 5158.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5159" id="line_5159"> 5159.</a></span><span class="count                ">    567</span><span>function delve(the_function) {</span></pre>
<pre><span class="lineno"><a href="#line_5160" id="line_5160"> 5160.</a></span><span class="count                ">   3797</span><span>    Object.keys(the_function.context).forEach(function (id) {</span></pre>
<pre><span class="lineno"><a href="#line_5161" id="line_5161"> 5161.</a></span><span class="count                ">   3784</span><span>        if (id !== &quot;ignore&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_5162" id="line_5162"> 5162.</a></span><span class="count                ">   3784</span><span>            const name = the_function.context[id];</span></pre>
<pre><span class="lineno"><a href="#line_5163" id="line_5163"> 5163.</a></span><span class="count                ">   3784</span><span>            if (name.parent === the_function) {</span></pre>
<pre><span class="lineno"><a href="#line_5164" id="line_5164"> 5164.</a></span><span class="count                ">   3784</span><span>                if (</span></pre>
<pre><span class="lineno"><a href="#line_5165" id="line_5165"> 5165.</a></span><span class="count                ">   3784</span><span>                    name.used === 0</span></pre>
<pre><span class="lineno"><a href="#line_5166" id="line_5166"> 5166.</a></span><span class="count                ">   3784</span><span>                    &amp;&amp; (</span></pre>
<pre><span class="lineno"><a href="#line_5167" id="line_5167"> 5167.</a></span><span class="count                ">   3784</span><span>                        name.role !== &quot;function&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5168" id="line_5168"> 5168.</a></span><span class="count                uncovered">      0</span><span>                        </span><span class="uncovered">|| name.parent.arity !== &quot;unary&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5169" id="line_5169"> 5169.</a></span><span class="count                ">   3784</span><span>                    )</span></pre>
<pre><span class="lineno"><a href="#line_5170" id="line_5170"> 5170.</a></span><span class="count                ">   3784</span><span>                ) {</span></pre>
<pre><span class="lineno"><a href="#line_5171" id="line_5171"> 5171.</a></span><span class="count                ">   3784</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5172" id="line_5172"> 5172.</a></span><span class="count                ">   3784</span><span>// cause: &quot;/*jslint node*/\nlet aa;&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5173" id="line_5173"> 5173.</a></span><span class="count                ">   3784</span><span>// cause: &quot;function aa(aa){return;}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5174" id="line_5174"> 5174.</a></span><span class="count                ">   3784</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5175" id="line_5175"> 5175.</a></span><span class="count                ">   3784</span><span>                    warn(&quot;unused_a&quot;, name);</span></pre>
<pre><span class="lineno"><a href="#line_5176" id="line_5176"> 5176.</a></span><span class="count                ">   3784</span><span>                } else if (!name.init) {</span></pre>
<pre><span class="lineno"><a href="#line_5177" id="line_5177"> 5177.</a></span><span class="count                ">   3784</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5178" id="line_5178"> 5178.</a></span><span class="count                ">   3784</span><span>// cause: &quot;/*jslint node*/\nlet aa;aa();&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5179" id="line_5179"> 5179.</a></span><span class="count                ">   3784</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5180" id="line_5180"> 5180.</a></span><span class="count                ">   3784</span><span>                    warn(&quot;uninitialized_a&quot;, name);</span></pre>
<pre><span class="lineno"><a href="#line_5181" id="line_5181"> 5181.</a></span><span class="count                ">   3784</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_5182" id="line_5182"> 5182.</a></span><span class="count                ">   3784</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_5183" id="line_5183"> 5183.</a></span><span class="count                ">   3784</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_5184" id="line_5184"> 5184.</a></span><span class="count                ">   3797</span><span>    });</span></pre>
<pre><span class="lineno"><a href="#line_5185" id="line_5185"> 5185.</a></span><span class="count                ">    567</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_5186" id="line_5186"> 5186.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5187" id="line_5187"> 5187.</a></span><span class="count                ">     69</span><span>function uninitialized_and_unused() {</span></pre>
<pre><span class="lineno"><a href="#line_5188" id="line_5188"> 5188.</a></span><span class="count                ">     69</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5189" id="line_5189"> 5189.</a></span><span class="count                ">     69</span><span>// Delve into the functions looking for variables that were not initialized</span></pre>
<pre><span class="lineno"><a href="#line_5190" id="line_5190"> 5190.</a></span><span class="count                ">     69</span><span>// or used. If the file imports or exports, then its global object is also</span></pre>
<pre><span class="lineno"><a href="#line_5191" id="line_5191"> 5191.</a></span><span class="count                ">     69</span><span>// delved.</span></pre>
<pre><span class="lineno"><a href="#line_5192" id="line_5192"> 5192.</a></span><span class="count                ">     69</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5193" id="line_5193"> 5193.</a></span><span class="count                ">     61</span><span>    if (module_mode === true || option.node) {</span></pre>
<pre><span class="lineno"><a href="#line_5194" id="line_5194"> 5194.</a></span><span class="count                ">     18</span><span>        delve(global);</span></pre>
<pre><span class="lineno"><a href="#line_5195" id="line_5195"> 5195.</a></span><span class="count                ">     18</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_5196" id="line_5196"> 5196.</a></span><span class="count                ">     69</span><span>    functions.forEach(delve);</span></pre>
<pre><span class="lineno"><a href="#line_5197" id="line_5197"> 5197.</a></span><span class="count                ">     69</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_5198" id="line_5198"> 5198.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5199" id="line_5199"> 5199.</a></span><span class="count                ">      1</span><span>// Go through the token list, looking at usage of whitespace.</span></pre>
<pre><span class="lineno"><a href="#line_5200" id="line_5200"> 5200.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5201" id="line_5201"> 5201.</a></span><span class="count                ">     67</span><span>function whitage() {</span></pre>
<pre><span class="lineno"><a href="#line_5202" id="line_5202"> 5202.</a></span><span class="count                ">     67</span><span>    let closer = &quot;(end)&quot;;</span></pre>
<pre><span class="lineno"><a href="#line_5203" id="line_5203"> 5203.</a></span><span class="count                ">     67</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5204" id="line_5204"> 5204.</a></span><span class="count                ">     67</span><span>// free = false</span></pre>
<pre><span class="lineno"><a href="#line_5205" id="line_5205"> 5205.</a></span><span class="count                ">     67</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5206" id="line_5206"> 5206.</a></span><span class="count                ">     67</span><span>// cause: &quot;()=&gt;0&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5207" id="line_5207"> 5207.</a></span><span class="count                ">     67</span><span>// cause: &quot;aa()&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5208" id="line_5208"> 5208.</a></span><span class="count                ">     67</span><span>// cause: &quot;aa(0,0)&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5209" id="line_5209"> 5209.</a></span><span class="count                ">     67</span><span>// cause: &quot;function(){}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5210" id="line_5210"> 5210.</a></span><span class="count                ">     67</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5211" id="line_5211"> 5211.</a></span><span class="count                ">     67</span><span>    let free = false;</span></pre>
<pre><span class="lineno"><a href="#line_5212" id="line_5212"> 5212.</a></span><span class="count                ">     67</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5213" id="line_5213"> 5213.</a></span><span class="count                ">     67</span><span>// cause: &quot;(0)&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5214" id="line_5214"> 5214.</a></span><span class="count                ">     67</span><span>// cause: &quot;(aa)&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5215" id="line_5215"> 5215.</a></span><span class="count                ">     67</span><span>// cause: &quot;aa(0)&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5216" id="line_5216"> 5216.</a></span><span class="count                ">     67</span><span>// cause: &quot;do{}while()&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5217" id="line_5217"> 5217.</a></span><span class="count                ">     67</span><span>// cause: &quot;for(){}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5218" id="line_5218"> 5218.</a></span><span class="count                ">     67</span><span>// cause: &quot;if(){}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5219" id="line_5219"> 5219.</a></span><span class="count                ">     67</span><span>// cause: &quot;switch(){}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5220" id="line_5220"> 5220.</a></span><span class="count                ">     67</span><span>// cause: &quot;while(){}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5221" id="line_5221"> 5221.</a></span><span class="count                ">     67</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5222" id="line_5222"> 5222.</a></span><span class="count                ">     67</span><span>    // let free = true;</span></pre>
<pre><span class="lineno"><a href="#line_5223" id="line_5223"> 5223.</a></span><span class="count                ">     67</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5224" id="line_5224"> 5224.</a></span><span class="count                ">     67</span><span>    let left = global;</span></pre>
<pre><span class="lineno"><a href="#line_5225" id="line_5225"> 5225.</a></span><span class="count                ">     67</span><span>    let margin = 0;</span></pre>
<pre><span class="lineno"><a href="#line_5226" id="line_5226"> 5226.</a></span><span class="count                ">     67</span><span>    let nr_comments_skipped = 0;</span></pre>
<pre><span class="lineno"><a href="#line_5227" id="line_5227"> 5227.</a></span><span class="count                ">     67</span><span>    let open = true;</span></pre>
<pre><span class="lineno"><a href="#line_5228" id="line_5228"> 5228.</a></span><span class="count                ">     67</span><span>    let opening = true;</span></pre>
<pre><span class="lineno"><a href="#line_5229" id="line_5229"> 5229.</a></span><span class="count                ">     67</span><span>    let right;</span></pre>
<pre><span class="lineno"><a href="#line_5230" id="line_5230"> 5230.</a></span><span class="count                ">     67</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5231" id="line_5231"> 5231.</a></span><span class="count                ">   6751</span><span>    function pop() {</span></pre>
<pre><span class="lineno"><a href="#line_5232" id="line_5232"> 5232.</a></span><span class="count                ">   6751</span><span>        const previous = stack.pop();</span></pre>
<pre><span class="lineno"><a href="#line_5233" id="line_5233"> 5233.</a></span><span class="count                ">   6751</span><span>        closer = previous.closer;</span></pre>
<pre><span class="lineno"><a href="#line_5234" id="line_5234"> 5234.</a></span><span class="count                ">   6751</span><span>        free = previous.free;</span></pre>
<pre><span class="lineno"><a href="#line_5235" id="line_5235"> 5235.</a></span><span class="count                ">   6751</span><span>        margin = previous.margin;</span></pre>
<pre><span class="lineno"><a href="#line_5236" id="line_5236"> 5236.</a></span><span class="count                ">   6751</span><span>        open = previous.open;</span></pre>
<pre><span class="lineno"><a href="#line_5237" id="line_5237"> 5237.</a></span><span class="count                ">   6751</span><span>        opening = previous.opening;</span></pre>
<pre><span class="lineno"><a href="#line_5238" id="line_5238"> 5238.</a></span><span class="count                ">   6751</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_5239" id="line_5239"> 5239.</a></span><span class="count                ">     67</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5240" id="line_5240"> 5240.</a></span><span class="count                ">   6751</span><span>    function push() {</span></pre>
<pre><span class="lineno"><a href="#line_5241" id="line_5241"> 5241.</a></span><span class="count                ">   6751</span><span>        stack.push({</span></pre>
<pre><span class="lineno"><a href="#line_5242" id="line_5242"> 5242.</a></span><span class="count                ">   6751</span><span>            closer,</span></pre>
<pre><span class="lineno"><a href="#line_5243" id="line_5243"> 5243.</a></span><span class="count                ">   6751</span><span>            free,</span></pre>
<pre><span class="lineno"><a href="#line_5244" id="line_5244"> 5244.</a></span><span class="count                ">   6751</span><span>            margin,</span></pre>
<pre><span class="lineno"><a href="#line_5245" id="line_5245"> 5245.</a></span><span class="count                ">   6751</span><span>            open,</span></pre>
<pre><span class="lineno"><a href="#line_5246" id="line_5246"> 5246.</a></span><span class="count                ">   6751</span><span>            opening</span></pre>
<pre><span class="lineno"><a href="#line_5247" id="line_5247"> 5247.</a></span><span class="count                ">   6751</span><span>        });</span></pre>
<pre><span class="lineno"><a href="#line_5248" id="line_5248"> 5248.</a></span><span class="count                ">   6751</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_5249" id="line_5249"> 5249.</a></span><span class="count                ">     67</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5250" id="line_5250"> 5250.</a></span><span class="count                ">     27</span><span>    function expected_at(at) {</span></pre>
<pre><span class="lineno"><a href="#line_5251" id="line_5251"> 5251.</a></span><span class="count                ">     27</span><span>        assert_or_throw(right !== undefined, &quot;Expected right !== undefined.&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_5252" id="line_5252"> 5252.</a></span><span class="count                ">     27</span><span>//      Probably deadcode.</span></pre>
<pre><span class="lineno"><a href="#line_5253" id="line_5253"> 5253.</a></span><span class="count                ">     27</span><span>//      if (right === undefined) {</span></pre>
<pre><span class="lineno"><a href="#line_5254" id="line_5254"> 5254.</a></span><span class="count                ">     27</span><span>//          right = next_token;</span></pre>
<pre><span class="lineno"><a href="#line_5255" id="line_5255"> 5255.</a></span><span class="count                ">     27</span><span>//      }</span></pre>
<pre><span class="lineno"><a href="#line_5256" id="line_5256"> 5256.</a></span><span class="count                ">     27</span><span>        warn(</span></pre>
<pre><span class="lineno"><a href="#line_5257" id="line_5257"> 5257.</a></span><span class="count                ">     27</span><span>            &quot;expected_a_at_b_c&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_5258" id="line_5258"> 5258.</a></span><span class="count                ">     27</span><span>            right,</span></pre>
<pre><span class="lineno"><a href="#line_5259" id="line_5259"> 5259.</a></span><span class="count                ">     27</span><span>            artifact(right),</span></pre>
<pre><span class="lineno"><a href="#line_5260" id="line_5260"> 5260.</a></span><span class="count                ">     27</span><span>            fudge + at,</span></pre>
<pre><span class="lineno"><a href="#line_5261" id="line_5261"> 5261.</a></span><span class="count                ">     27</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5262" id="line_5262"> 5262.</a></span><span class="count                ">     27</span><span>// Return the fudged column number of an artifact.</span></pre>
<pre><span class="lineno"><a href="#line_5263" id="line_5263"> 5263.</a></span><span class="count                ">     27</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5264" id="line_5264"> 5264.</a></span><span class="count                ">     27</span><span>            right.from + fudge</span></pre>
<pre><span class="lineno"><a href="#line_5265" id="line_5265"> 5265.</a></span><span class="count                ">     27</span><span>        );</span></pre>
<pre><span class="lineno"><a href="#line_5266" id="line_5266"> 5266.</a></span><span class="count                ">     27</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_5267" id="line_5267"> 5267.</a></span><span class="count                ">     67</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5268" id="line_5268"> 5268.</a></span><span class="count                ">   9683</span><span>    function at_margin(fit) {</span></pre>
<pre><span class="lineno"><a href="#line_5269" id="line_5269"> 5269.</a></span><span class="count                ">   9683</span><span>        const at = margin + fit;</span></pre>
<pre><span class="lineno"><a href="#line_5270" id="line_5270"> 5270.</a></span><span class="count                ">     22</span><span>        if (right.from !== at) {</span></pre>
<pre><span class="lineno"><a href="#line_5271" id="line_5271"> 5271.</a></span><span class="count                ">     22</span><span>            return expected_at(at);</span></pre>
<pre><span class="lineno"><a href="#line_5272" id="line_5272"> 5272.</a></span><span class="count                ">     22</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_5273" id="line_5273"> 5273.</a></span><span class="count                ">   9683</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_5274" id="line_5274"> 5274.</a></span><span class="count                ">     67</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5275" id="line_5275"> 5275.</a></span><span class="count                ">  26043</span><span>    function no_space_only() {</span></pre>
<pre><span class="lineno"><a href="#line_5276" id="line_5276"> 5276.</a></span><span class="count                ">  26043</span><span>        if (</span></pre>
<pre><span class="lineno"><a href="#line_5277" id="line_5277"> 5277.</a></span><span class="count                ">  26043</span><span>            left.id !== &quot;(global)&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5278" id="line_5278"> 5278.</a></span><span class="count                ">  26042</span><span>            &amp;&amp; left.nr + 1 === right.nr</span></pre>
<pre><span class="lineno"><a href="#line_5279" id="line_5279"> 5279.</a></span><span class="count                ">  26042</span><span>            &amp;&amp; (</span></pre>
<pre><span class="lineno"><a href="#line_5280" id="line_5280"> 5280.</a></span><span class="count                ">  26042</span><span>                left.line !== right.line</span></pre>
<pre><span class="lineno"><a href="#line_5281" id="line_5281"> 5281.</a></span><span class="count                ">  26042</span><span>                || left.thru !== right.from</span></pre>
<pre><span class="lineno"><a href="#line_5282" id="line_5282"> 5282.</a></span><span class="count                ">  26042</span><span>            )</span></pre>
<pre><span class="lineno"><a href="#line_5283" id="line_5283"> 5283.</a></span><span class="count                ">     13</span><span>        ) {</span></pre>
<pre><span class="lineno"><a href="#line_5284" id="line_5284"> 5284.</a></span><span class="count                ">     13</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5285" id="line_5285"> 5285.</a></span><span class="count                ">     13</span><span>// cause:</span></pre>
<pre><span class="lineno"><a href="#line_5286" id="line_5286"> 5286.</a></span><span class="count                ">     13</span><span>//  (</span></pre>
<pre><span class="lineno"><a href="#line_5287" id="line_5287"> 5287.</a></span><span class="count                ">     13</span><span>// function aa (</span></pre>
<pre><span class="lineno"><a href="#line_5288" id="line_5288"> 5288.</a></span><span class="count                ">     13</span><span>// bb</span></pre>
<pre><span class="lineno"><a href="#line_5289" id="line_5289"> 5289.</a></span><span class="count                ">     13</span><span>// ,</span></pre>
<pre><span class="lineno"><a href="#line_5290" id="line_5290"> 5290.</a></span><span class="count                ">     13</span><span>// [</span></pre>
<pre><span class="lineno"><a href="#line_5291" id="line_5291"> 5291.</a></span><span class="count                ">     13</span><span>// cc,dd</span></pre>
<pre><span class="lineno"><a href="#line_5292" id="line_5292"> 5292.</a></span><span class="count                ">     13</span><span>// ]</span></pre>
<pre><span class="lineno"><a href="#line_5293" id="line_5293"> 5293.</a></span><span class="count                ">     13</span><span>// ,</span></pre>
<pre><span class="lineno"><a href="#line_5294" id="line_5294"> 5294.</a></span><span class="count                ">     13</span><span>// {</span></pre>
<pre><span class="lineno"><a href="#line_5295" id="line_5295"> 5295.</a></span><span class="count                ">     13</span><span>// ee,ff=( 0 )</span></pre>
<pre><span class="lineno"><a href="#line_5296" id="line_5296"> 5296.</a></span><span class="count                ">     13</span><span>// }</span></pre>
<pre><span class="lineno"><a href="#line_5297" id="line_5297"> 5297.</a></span><span class="count                ">     13</span><span>// ,</span></pre>
<pre><span class="lineno"><a href="#line_5298" id="line_5298"> 5298.</a></span><span class="count                ">     13</span><span>// ... zz</span></pre>
<pre><span class="lineno"><a href="#line_5299" id="line_5299"> 5299.</a></span><span class="count                ">     13</span><span>// )</span></pre>
<pre><span class="lineno"><a href="#line_5300" id="line_5300"> 5300.</a></span><span class="count                ">     13</span><span>// {</span></pre>
<pre><span class="lineno"><a href="#line_5301" id="line_5301"> 5301.</a></span><span class="count                ">     13</span><span>// return {</span></pre>
<pre><span class="lineno"><a href="#line_5302" id="line_5302"> 5302.</a></span><span class="count                ">     13</span><span>// aa,bb</span></pre>
<pre><span class="lineno"><a href="#line_5303" id="line_5303"> 5303.</a></span><span class="count                ">     13</span><span>// }</span></pre>
<pre><span class="lineno"><a href="#line_5304" id="line_5304"> 5304.</a></span><span class="count                ">     13</span><span>// ;</span></pre>
<pre><span class="lineno"><a href="#line_5305" id="line_5305"> 5305.</a></span><span class="count                ">     13</span><span>// }</span></pre>
<pre><span class="lineno"><a href="#line_5306" id="line_5306"> 5306.</a></span><span class="count                ">     13</span><span>// (</span></pre>
<pre><span class="lineno"><a href="#line_5307" id="line_5307"> 5307.</a></span><span class="count                ">     13</span><span>// )</span></pre>
<pre><span class="lineno"><a href="#line_5308" id="line_5308"> 5308.</a></span><span class="count                ">     13</span><span>//  )</span></pre>
<pre><span class="lineno"><a href="#line_5309" id="line_5309"> 5309.</a></span><span class="count                ">     13</span><span>//  ;</span></pre>
<pre><span class="lineno"><a href="#line_5310" id="line_5310"> 5310.</a></span><span class="count                ">     13</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5311" id="line_5311"> 5311.</a></span><span class="count                ">     13</span><span>            warn(</span></pre>
<pre><span class="lineno"><a href="#line_5312" id="line_5312"> 5312.</a></span><span class="count                ">     13</span><span>                &quot;unexpected_space_a_b&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_5313" id="line_5313"> 5313.</a></span><span class="count                ">     13</span><span>                right,</span></pre>
<pre><span class="lineno"><a href="#line_5314" id="line_5314"> 5314.</a></span><span class="count                ">     13</span><span>                artifact(left),</span></pre>
<pre><span class="lineno"><a href="#line_5315" id="line_5315"> 5315.</a></span><span class="count                ">     13</span><span>                artifact(right)</span></pre>
<pre><span class="lineno"><a href="#line_5316" id="line_5316"> 5316.</a></span><span class="count                ">     13</span><span>            );</span></pre>
<pre><span class="lineno"><a href="#line_5317" id="line_5317"> 5317.</a></span><span class="count                ">     13</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_5318" id="line_5318"> 5318.</a></span><span class="count                ">  26043</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_5319" id="line_5319"> 5319.</a></span><span class="count                ">     67</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5320" id="line_5320"> 5320.</a></span><span class="count                ">    958</span><span>    function no_space() {</span></pre>
<pre><span class="lineno"><a href="#line_5321" id="line_5321"> 5321.</a></span><span class="count                ">    956</span><span>        if (left.line === right.line) {</span></pre>
<pre><span class="lineno"><a href="#line_5322" id="line_5322"> 5322.</a></span><span class="count                ">    956</span><span>            if (left.thru !== right.from &amp;&amp; nr_comments_skipped === 0) {</span></pre>
<pre><span class="lineno"><a href="#line_5323" id="line_5323"> 5323.</a></span><span class="count                ">    956</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5324" id="line_5324"> 5324.</a></span><span class="count                ">    956</span><span>// cause: &quot;let aa = aa()( );&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5325" id="line_5325"> 5325.</a></span><span class="count                ">    956</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5326" id="line_5326"> 5326.</a></span><span class="count                ">    956</span><span>                warn(</span></pre>
<pre><span class="lineno"><a href="#line_5327" id="line_5327"> 5327.</a></span><span class="count                ">    956</span><span>                    &quot;unexpected_space_a_b&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_5328" id="line_5328"> 5328.</a></span><span class="count                ">    956</span><span>                    right,</span></pre>
<pre><span class="lineno"><a href="#line_5329" id="line_5329"> 5329.</a></span><span class="count                ">    956</span><span>                    artifact(left),</span></pre>
<pre><span class="lineno"><a href="#line_5330" id="line_5330"> 5330.</a></span><span class="count                ">    956</span><span>                    artifact(right)</span></pre>
<pre><span class="lineno"><a href="#line_5331" id="line_5331"> 5331.</a></span><span class="count                ">    956</span><span>                );</span></pre>
<pre><span class="lineno"><a href="#line_5332" id="line_5332"> 5332.</a></span><span class="count                ">    956</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_5333" id="line_5333"> 5333.</a></span><span class="count                ">    956</span><span>        } else {</span></pre>
<pre><span class="lineno"><a href="#line_5334" id="line_5334"> 5334.</a></span><span class="count                ">      2</span><span>            if (open) {</span></pre>
<pre><span class="lineno"><a href="#line_5335" id="line_5335"> 5335.</a></span><span class="count                ">      2</span><span>                const at = (</span></pre>
<pre><span class="lineno"><a href="#line_5336" id="line_5336"> 5336.</a></span><span class="count                ">      2</span><span>                    free</span></pre>
<pre><span class="lineno"><a href="#line_5337" id="line_5337"> 5337.</a></span><span class="count                ">      2</span><span>                    ? margin</span></pre>
<pre><span class="lineno"><a href="#line_5338" id="line_5338"> 5338.</a></span><span class="count                uncovered">      0</span><span>                    </span><span class="uncovered">: margin + 8</span><span> // deadcode?</span></pre>
<pre><span class="lineno"><a href="#line_5339" id="line_5339"> 5339.</a></span><span class="count                ">      2</span><span>                );</span></pre>
<pre><span class="lineno"><a href="#line_5340" id="line_5340"> 5340.</a></span><span class="count                ">      2</span><span>                if (right.from &lt; at) {</span></pre>
<pre><span class="lineno"><a href="#line_5341" id="line_5341"> 5341.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5342" id="line_5342"> 5342.</a></span><span class="count                ">      2</span><span>// cause:</span></pre>
<pre><span class="lineno"><a href="#line_5343" id="line_5343"> 5343.</a></span><span class="count                ">      2</span><span>// let aa = aa(</span></pre>
<pre><span class="lineno"><a href="#line_5344" id="line_5344"> 5344.</a></span><span class="count                ">      2</span><span>//     aa</span></pre>
<pre><span class="lineno"><a href="#line_5345" id="line_5345"> 5345.</a></span><span class="count                ">      2</span><span>// ()</span></pre>
<pre><span class="lineno"><a href="#line_5346" id="line_5346"> 5346.</a></span><span class="count                ">      2</span><span>// );</span></pre>
<pre><span class="lineno"><a href="#line_5347" id="line_5347"> 5347.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5348" id="line_5348"> 5348.</a></span><span class="count                ">      2</span><span>                    expected_at(at);</span></pre>
<pre><span class="lineno"><a href="#line_5349" id="line_5349"> 5349.</a></span><span class="count                ">      2</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_5350" id="line_5350"> 5350.</a></span><span class="count                uncovered">      0</span><span>            }</span><span class="uncovered"> else { // deadcode?</span></pre>
<pre><span class="lineno"><a href="#line_5351" id="line_5351"> 5351.</a></span><span class="count                uncovered">      0</span><span></span><span class="uncovered">                if (right.from !== margin + 8) {</span></pre>
<pre><span class="lineno"><a href="#line_5352" id="line_5352"> 5352.</a></span><span class="count                uncovered">      0</span><span></span><span class="uncovered">                    expected_at(margin + 8);</span></pre>
<pre><span class="lineno"><a href="#line_5353" id="line_5353"> 5353.</a></span><span class="count                uncovered">      0</span><span></span><span class="uncovered">                }</span></pre>
<pre><span class="lineno"><a href="#line_5354" id="line_5354"> 5354.</a></span><span class="count                uncovered">      0</span><span></span><span class="uncovered">            }</span></pre>
<pre><span class="lineno"><a href="#line_5355" id="line_5355"> 5355.</a></span><span class="count                ">      2</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_5356" id="line_5356"> 5356.</a></span><span class="count                ">    958</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_5357" id="line_5357"> 5357.</a></span><span class="count                ">     67</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5358" id="line_5358"> 5358.</a></span><span class="count                ">   2537</span><span>    function one_space_only() {</span></pre>
<pre><span class="lineno"><a href="#line_5359" id="line_5359"> 5359.</a></span><span class="count                ">   2536</span><span>        if (left.line !== right.line || left.thru + 1 !== right.from) {</span></pre>
<pre><span class="lineno"><a href="#line_5360" id="line_5360"> 5360.</a></span><span class="count                ">      6</span><span>            warn(</span></pre>
<pre><span class="lineno"><a href="#line_5361" id="line_5361"> 5361.</a></span><span class="count                ">      6</span><span>                &quot;expected_space_a_b&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_5362" id="line_5362"> 5362.</a></span><span class="count                ">      6</span><span>                right,</span></pre>
<pre><span class="lineno"><a href="#line_5363" id="line_5363"> 5363.</a></span><span class="count                ">      6</span><span>                artifact(left),</span></pre>
<pre><span class="lineno"><a href="#line_5364" id="line_5364"> 5364.</a></span><span class="count                ">      6</span><span>                artifact(right)</span></pre>
<pre><span class="lineno"><a href="#line_5365" id="line_5365"> 5365.</a></span><span class="count                ">      6</span><span>            );</span></pre>
<pre><span class="lineno"><a href="#line_5366" id="line_5366"> 5366.</a></span><span class="count                ">      6</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_5367" id="line_5367"> 5367.</a></span><span class="count                ">   2537</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_5368" id="line_5368"> 5368.</a></span><span class="count                ">     67</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5369" id="line_5369"> 5369.</a></span><span class="count                ">  13964</span><span>    function one_space() {</span></pre>
<pre><span class="lineno"><a href="#line_5370" id="line_5370"> 5370.</a></span><span class="count                ">  13446</span><span>        if (left.line === right.line || !open) {</span></pre>
<pre><span class="lineno"><a href="#line_5371" id="line_5371"> 5371.</a></span><span class="count                ">  13446</span><span>            if (left.thru + 1 !== right.from &amp;&amp; nr_comments_skipped === 0) {</span></pre>
<pre><span class="lineno"><a href="#line_5372" id="line_5372"> 5372.</a></span><span class="count                ">  13446</span><span>                warn(</span></pre>
<pre><span class="lineno"><a href="#line_5373" id="line_5373"> 5373.</a></span><span class="count                ">  13446</span><span>                    &quot;expected_space_a_b&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_5374" id="line_5374"> 5374.</a></span><span class="count                ">  13446</span><span>                    right,</span></pre>
<pre><span class="lineno"><a href="#line_5375" id="line_5375"> 5375.</a></span><span class="count                ">  13446</span><span>                    artifact(left),</span></pre>
<pre><span class="lineno"><a href="#line_5376" id="line_5376"> 5376.</a></span><span class="count                ">  13446</span><span>                    artifact(right)</span></pre>
<pre><span class="lineno"><a href="#line_5377" id="line_5377"> 5377.</a></span><span class="count                ">  13446</span><span>                );</span></pre>
<pre><span class="lineno"><a href="#line_5378" id="line_5378"> 5378.</a></span><span class="count                ">  13446</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_5379" id="line_5379"> 5379.</a></span><span class="count                ">  13446</span><span>        } else {</span></pre>
<pre><span class="lineno"><a href="#line_5380" id="line_5380"> 5380.</a></span><span class="count                ">    518</span><span>            if (right.from !== margin) {</span></pre>
<pre><span class="lineno"><a href="#line_5381" id="line_5381"> 5381.</a></span><span class="count                ">    518</span><span>                expected_at(margin);</span></pre>
<pre><span class="lineno"><a href="#line_5382" id="line_5382"> 5382.</a></span><span class="count                ">    518</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_5383" id="line_5383"> 5383.</a></span><span class="count                ">    518</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_5384" id="line_5384"> 5384.</a></span><span class="count                ">  13964</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_5385" id="line_5385"> 5385.</a></span><span class="count                ">     67</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5386" id="line_5386"> 5386.</a></span><span class="count                ">     67</span><span>    stack = [];</span></pre>
<pre><span class="lineno"><a href="#line_5387" id="line_5387"> 5387.</a></span><span class="count                ">  55061</span><span>    tokens.forEach(function (the_token) {</span></pre>
<pre><span class="lineno"><a href="#line_5388" id="line_5388"> 5388.</a></span><span class="count                ">  55061</span><span>        right = the_token;</span></pre>
<pre><span class="lineno"><a href="#line_5389" id="line_5389"> 5389.</a></span><span class="count                ">  53417</span><span>        if (right.id === &quot;(comment)&quot; || right.id === &quot;(end)&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_5390" id="line_5390"> 5390.</a></span><span class="count                ">   1712</span><span>            nr_comments_skipped += 1;</span></pre>
<pre><span class="lineno"><a href="#line_5391" id="line_5391"> 5391.</a></span><span class="count                ">  53349</span><span>        } else {</span></pre>
<pre><span class="lineno"><a href="#line_5392" id="line_5392"> 5392.</a></span><span class="count                ">  53349</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5393" id="line_5393"> 5393.</a></span><span class="count                ">  53349</span><span>// If left is an opener and right is not the closer, then push the previous</span></pre>
<pre><span class="lineno"><a href="#line_5394" id="line_5394"> 5394.</a></span><span class="count                ">  53349</span><span>// state. If the token following the opener is on the next line, then this is</span></pre>
<pre><span class="lineno"><a href="#line_5395" id="line_5395"> 5395.</a></span><span class="count                ">  53349</span><span>// an open form. If the tokens are on the same line, then it is a closed form.</span></pre>
<pre><span class="lineno"><a href="#line_5396" id="line_5396"> 5396.</a></span><span class="count                ">  53349</span><span>// Open form is more readable, with each item (statement, argument, parameter,</span></pre>
<pre><span class="lineno"><a href="#line_5397" id="line_5397"> 5397.</a></span><span class="count                ">  53349</span><span>// etc) starting on its own line. Closed form is more compact. Statement blocks</span></pre>
<pre><span class="lineno"><a href="#line_5398" id="line_5398"> 5398.</a></span><span class="count                ">  53349</span><span>// are always in open form.</span></pre>
<pre><span class="lineno"><a href="#line_5399" id="line_5399"> 5399.</a></span><span class="count                ">  53349</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5400" id="line_5400"> 5400.</a></span><span class="count                ">  53349</span><span>            const new_closer = opener[left.id];</span></pre>
<pre><span class="lineno"><a href="#line_5401" id="line_5401"> 5401.</a></span><span class="count                ">  53349</span><span>            if (typeof new_closer === &quot;string&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_5402" id="line_5402"> 5402.</a></span><span class="count                ">  53349</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5403" id="line_5403"> 5403.</a></span><span class="count                ">  53349</span><span>// cause: &quot;${&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5404" id="line_5404"> 5404.</a></span><span class="count                ">  53349</span><span>// cause: &quot;(&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5405" id="line_5405"> 5405.</a></span><span class="count                ">  53349</span><span>// cause: &quot;[&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5406" id="line_5406"> 5406.</a></span><span class="count                ">  53349</span><span>// cause: &quot;{&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5407" id="line_5407"> 5407.</a></span><span class="count                ">  53349</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5408" id="line_5408"> 5408.</a></span><span class="count                ">  53349</span><span>                if (new_closer !== right.id) {</span></pre>
<pre><span class="lineno"><a href="#line_5409" id="line_5409"> 5409.</a></span><span class="count                ">  53349</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5410" id="line_5410"> 5410.</a></span><span class="count                ">  53349</span><span>// cause: &quot;${0&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5411" id="line_5411"> 5411.</a></span><span class="count                ">  53349</span><span>// cause: &quot;(0&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5412" id="line_5412"> 5412.</a></span><span class="count                ">  53349</span><span>// cause: &quot;[0&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5413" id="line_5413"> 5413.</a></span><span class="count                ">  53349</span><span>// cause: &quot;{0&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5414" id="line_5414"> 5414.</a></span><span class="count                ">  53349</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5415" id="line_5415"> 5415.</a></span><span class="count                ">  53349</span><span>                    opening = left.open || (left.line !== right.line);</span></pre>
<pre><span class="lineno"><a href="#line_5416" id="line_5416"> 5416.</a></span><span class="count                ">  53349</span><span>                    push();</span></pre>
<pre><span class="lineno"><a href="#line_5417" id="line_5417"> 5417.</a></span><span class="count                ">  53349</span><span>                    closer = new_closer;</span></pre>
<pre><span class="lineno"><a href="#line_5418" id="line_5418"> 5418.</a></span><span class="count                ">  53349</span><span>                    if (opening) {</span></pre>
<pre><span class="lineno"><a href="#line_5419" id="line_5419"> 5419.</a></span><span class="count                ">  53349</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5420" id="line_5420"> 5420.</a></span><span class="count                ">  53349</span><span>// cause: &quot;${\n0\n}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5421" id="line_5421"> 5421.</a></span><span class="count                ">  53349</span><span>// cause: &quot;(\n0\n)&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5422" id="line_5422"> 5422.</a></span><span class="count                ">  53349</span><span>// cause: &quot;[\n0\n]&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5423" id="line_5423"> 5423.</a></span><span class="count                ">  53349</span><span>// cause: &quot;{\n0\n}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5424" id="line_5424"> 5424.</a></span><span class="count                ">  53349</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5425" id="line_5425"> 5425.</a></span><span class="count                ">  53349</span><span>                        free = closer === &quot;)&quot; &amp;&amp; left.free;</span></pre>
<pre><span class="lineno"><a href="#line_5426" id="line_5426"> 5426.</a></span><span class="count                ">  53349</span><span>                        open = true;</span></pre>
<pre><span class="lineno"><a href="#line_5427" id="line_5427"> 5427.</a></span><span class="count                ">  53349</span><span>                        margin += 4;</span></pre>
<pre><span class="lineno"><a href="#line_5428" id="line_5428"> 5428.</a></span><span class="count                ">  53349</span><span>                        if (right.role === &quot;label&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_5429" id="line_5429"> 5429.</a></span><span class="count                ">  53349</span><span>                            if (right.from !== 0) {</span></pre>
<pre><span class="lineno"><a href="#line_5430" id="line_5430"> 5430.</a></span><span class="count                ">  53349</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5431" id="line_5431"> 5431.</a></span><span class="count                ">  53349</span><span>// cause:</span></pre>
<pre><span class="lineno"><a href="#line_5432" id="line_5432"> 5432.</a></span><span class="count                ">  53349</span><span>// function aa() {</span></pre>
<pre><span class="lineno"><a href="#line_5433" id="line_5433"> 5433.</a></span><span class="count                ">  53349</span><span>//  bb:</span></pre>
<pre><span class="lineno"><a href="#line_5434" id="line_5434"> 5434.</a></span><span class="count                ">  53349</span><span>//     while (aa) {</span></pre>
<pre><span class="lineno"><a href="#line_5435" id="line_5435"> 5435.</a></span><span class="count                ">  53349</span><span>//         if (aa) {</span></pre>
<pre><span class="lineno"><a href="#line_5436" id="line_5436"> 5436.</a></span><span class="count                ">  53349</span><span>//             break bb;</span></pre>
<pre><span class="lineno"><a href="#line_5437" id="line_5437"> 5437.</a></span><span class="count                ">  53349</span><span>//         }</span></pre>
<pre><span class="lineno"><a href="#line_5438" id="line_5438"> 5438.</a></span><span class="count                ">  53349</span><span>//     }</span></pre>
<pre><span class="lineno"><a href="#line_5439" id="line_5439"> 5439.</a></span><span class="count                ">  53349</span><span>// }</span></pre>
<pre><span class="lineno"><a href="#line_5440" id="line_5440"> 5440.</a></span><span class="count                ">  53349</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5441" id="line_5441"> 5441.</a></span><span class="count                ">  53349</span><span>                                expected_at(0);</span></pre>
<pre><span class="lineno"><a href="#line_5442" id="line_5442"> 5442.</a></span><span class="count                ">  53349</span><span>                            }</span></pre>
<pre><span class="lineno"><a href="#line_5443" id="line_5443"> 5443.</a></span><span class="count                ">  53349</span><span>                        } else if (right.switch) {</span></pre>
<pre><span class="lineno"><a href="#line_5444" id="line_5444"> 5444.</a></span><span class="count                ">  53349</span><span>                            at_margin(-4);</span></pre>
<pre><span class="lineno"><a href="#line_5445" id="line_5445"> 5445.</a></span><span class="count                ">  53349</span><span>                        } else {</span></pre>
<pre><span class="lineno"><a href="#line_5446" id="line_5446"> 5446.</a></span><span class="count                ">  53349</span><span>                            at_margin(0);</span></pre>
<pre><span class="lineno"><a href="#line_5447" id="line_5447"> 5447.</a></span><span class="count                ">  53349</span><span>                        }</span></pre>
<pre><span class="lineno"><a href="#line_5448" id="line_5448"> 5448.</a></span><span class="count                ">  53349</span><span>                    } else {</span></pre>
<pre><span class="lineno"><a href="#line_5449" id="line_5449"> 5449.</a></span><span class="count                ">  53349</span><span>                        if (right.statement || right.role === &quot;label&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_5450" id="line_5450"> 5450.</a></span><span class="count                ">  53349</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5451" id="line_5451"> 5451.</a></span><span class="count                ">  53349</span><span>// cause:</span></pre>
<pre><span class="lineno"><a href="#line_5452" id="line_5452"> 5452.</a></span><span class="count                ">  53349</span><span>// function aa() {bb:</span></pre>
<pre><span class="lineno"><a href="#line_5453" id="line_5453"> 5453.</a></span><span class="count                ">  53349</span><span>//     while (aa) {aa();</span></pre>
<pre><span class="lineno"><a href="#line_5454" id="line_5454"> 5454.</a></span><span class="count                ">  53349</span><span>//     }</span></pre>
<pre><span class="lineno"><a href="#line_5455" id="line_5455"> 5455.</a></span><span class="count                ">  53349</span><span>// }</span></pre>
<pre><span class="lineno"><a href="#line_5456" id="line_5456"> 5456.</a></span><span class="count                ">  53349</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5457" id="line_5457"> 5457.</a></span><span class="count                ">  53349</span><span>                            warn(</span></pre>
<pre><span class="lineno"><a href="#line_5458" id="line_5458"> 5458.</a></span><span class="count                ">  53349</span><span>                                &quot;expected_line_break_a_b&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_5459" id="line_5459"> 5459.</a></span><span class="count                ">  53349</span><span>                                right,</span></pre>
<pre><span class="lineno"><a href="#line_5460" id="line_5460"> 5460.</a></span><span class="count                ">  53349</span><span>                                artifact(left),</span></pre>
<pre><span class="lineno"><a href="#line_5461" id="line_5461"> 5461.</a></span><span class="count                ">  53349</span><span>                                artifact(right)</span></pre>
<pre><span class="lineno"><a href="#line_5462" id="line_5462"> 5462.</a></span><span class="count                ">  53349</span><span>                            );</span></pre>
<pre><span class="lineno"><a href="#line_5463" id="line_5463"> 5463.</a></span><span class="count                ">  53349</span><span>                        }</span></pre>
<pre><span class="lineno"><a href="#line_5464" id="line_5464"> 5464.</a></span><span class="count                ">  53349</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5465" id="line_5465"> 5465.</a></span><span class="count                ">  53349</span><span>// cause: &quot;${0}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5466" id="line_5466"> 5466.</a></span><span class="count                ">  53349</span><span>// cause: &quot;(0)&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5467" id="line_5467"> 5467.</a></span><span class="count                ">  53349</span><span>// cause: &quot;[0]&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5468" id="line_5468"> 5468.</a></span><span class="count                ">  53349</span><span>// cause: &quot;{0}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5469" id="line_5469"> 5469.</a></span><span class="count                ">  53349</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5470" id="line_5470"> 5470.</a></span><span class="count                ">  53349</span><span>                        free = false;</span></pre>
<pre><span class="lineno"><a href="#line_5471" id="line_5471"> 5471.</a></span><span class="count                ">  53349</span><span>                        open = false;</span></pre>
<pre><span class="lineno"><a href="#line_5472" id="line_5472"> 5472.</a></span><span class="count                ">  53349</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5473" id="line_5473"> 5473.</a></span><span class="count                ">  53349</span><span>// cause: &quot;let aa = ( 0 );&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5474" id="line_5474"> 5474.</a></span><span class="count                ">  53349</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5475" id="line_5475"> 5475.</a></span><span class="count                ">  53349</span><span>                        no_space_only();</span></pre>
<pre><span class="lineno"><a href="#line_5476" id="line_5476"> 5476.</a></span><span class="count                ">  53349</span><span>                    }</span></pre>
<pre><span class="lineno"><a href="#line_5477" id="line_5477"> 5477.</a></span><span class="count                ">  53349</span><span>                } else {</span></pre>
<pre><span class="lineno"><a href="#line_5478" id="line_5478"> 5478.</a></span><span class="count                ">  53349</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5479" id="line_5479"> 5479.</a></span><span class="count                ">  53349</span><span>// If left and right are opener and closer, then the placement of right depends</span></pre>
<pre><span class="lineno"><a href="#line_5480" id="line_5480"> 5480.</a></span><span class="count                ">  53349</span><span>// on the openness. Illegal pairs (like &apos;{]&apos;) have already been detected.</span></pre>
<pre><span class="lineno"><a href="#line_5481" id="line_5481"> 5481.</a></span><span class="count                ">  53349</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5482" id="line_5482"> 5482.</a></span><span class="count                ">  53349</span><span>// cause: &quot;${}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5483" id="line_5483"> 5483.</a></span><span class="count                ">  53349</span><span>// cause: &quot;()&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5484" id="line_5484"> 5484.</a></span><span class="count                ">  53349</span><span>// cause: &quot;[]&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5485" id="line_5485"> 5485.</a></span><span class="count                ">  53349</span><span>// cause: &quot;{}&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5486" id="line_5486"> 5486.</a></span><span class="count                ">  53349</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5487" id="line_5487"> 5487.</a></span><span class="count                ">  53349</span><span>                    if (left.line === right.line) {</span></pre>
<pre><span class="lineno"><a href="#line_5488" id="line_5488"> 5488.</a></span><span class="count                ">  53349</span><span>                        no_space();</span></pre>
<pre><span class="lineno"><a href="#line_5489" id="line_5489"> 5489.</a></span><span class="count                ">  53349</span><span>                    } else {</span></pre>
<pre><span class="lineno"><a href="#line_5490" id="line_5490"> 5490.</a></span><span class="count                ">  53349</span><span>                        at_margin(0);</span></pre>
<pre><span class="lineno"><a href="#line_5491" id="line_5491"> 5491.</a></span><span class="count                ">  53349</span><span>                    }</span></pre>
<pre><span class="lineno"><a href="#line_5492" id="line_5492"> 5492.</a></span><span class="count                ">  53349</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_5493" id="line_5493"> 5493.</a></span><span class="count                ">  53349</span><span>            } else {</span></pre>
<pre><span class="lineno"><a href="#line_5494" id="line_5494"> 5494.</a></span><span class="count                ">  53349</span><span>                if (right.statement === true) {</span></pre>
<pre><span class="lineno"><a href="#line_5495" id="line_5495"> 5495.</a></span><span class="count                ">  53349</span><span>                    if (left.id === &quot;else&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_5496" id="line_5496"> 5496.</a></span><span class="count                ">  53349</span><span>                        one_space_only();</span></pre>
<pre><span class="lineno"><a href="#line_5497" id="line_5497"> 5497.</a></span><span class="count                ">  53349</span><span>                    } else {</span></pre>
<pre><span class="lineno"><a href="#line_5498" id="line_5498"> 5498.</a></span><span class="count                ">  53349</span><span>                        at_margin(0);</span></pre>
<pre><span class="lineno"><a href="#line_5499" id="line_5499"> 5499.</a></span><span class="count                ">  53349</span><span>                        open = false;</span></pre>
<pre><span class="lineno"><a href="#line_5500" id="line_5500"> 5500.</a></span><span class="count                ">  53349</span><span>                    }</span></pre>
<pre><span class="lineno"><a href="#line_5501" id="line_5501"> 5501.</a></span><span class="count                ">  53349</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5502" id="line_5502"> 5502.</a></span><span class="count                ">  53349</span><span>// If right is a closer, then pop the previous state.</span></pre>
<pre><span class="lineno"><a href="#line_5503" id="line_5503"> 5503.</a></span><span class="count                ">  53349</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5504" id="line_5504"> 5504.</a></span><span class="count                ">  53349</span><span>                } else if (right.id === closer) {</span></pre>
<pre><span class="lineno"><a href="#line_5505" id="line_5505"> 5505.</a></span><span class="count                ">  53349</span><span>                    pop();</span></pre>
<pre><span class="lineno"><a href="#line_5506" id="line_5506"> 5506.</a></span><span class="count                ">  53349</span><span>                    if (opening &amp;&amp; right.id !== &quot;;&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_5507" id="line_5507"> 5507.</a></span><span class="count                ">  53349</span><span>                        at_margin(0);</span></pre>
<pre><span class="lineno"><a href="#line_5508" id="line_5508"> 5508.</a></span><span class="count                ">  53349</span><span>                    } else {</span></pre>
<pre><span class="lineno"><a href="#line_5509" id="line_5509"> 5509.</a></span><span class="count                ">  53349</span><span>                        no_space_only();</span></pre>
<pre><span class="lineno"><a href="#line_5510" id="line_5510"> 5510.</a></span><span class="count                ">  53349</span><span>                    }</span></pre>
<pre><span class="lineno"><a href="#line_5511" id="line_5511"> 5511.</a></span><span class="count                ">  53349</span><span>                } else {</span></pre>
<pre><span class="lineno"><a href="#line_5512" id="line_5512"> 5512.</a></span><span class="count                ">  53349</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5513" id="line_5513"> 5513.</a></span><span class="count                ">  53349</span><span>// Left is not an opener, and right is not a closer.</span></pre>
<pre><span class="lineno"><a href="#line_5514" id="line_5514"> 5514.</a></span><span class="count                ">  53349</span><span>// The nature of left and right will determine the space between them.</span></pre>
<pre><span class="lineno"><a href="#line_5515" id="line_5515"> 5515.</a></span><span class="count                ">  53349</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5516" id="line_5516"> 5516.</a></span><span class="count                ">  53349</span><span>// If left is &apos;,&apos; or &apos;;&apos; or right is a statement then if open,</span></pre>
<pre><span class="lineno"><a href="#line_5517" id="line_5517"> 5517.</a></span><span class="count                ">  53349</span><span>// right must go at the margin, or if closed, a space between.</span></pre>
<pre><span class="lineno"><a href="#line_5518" id="line_5518"> 5518.</a></span><span class="count                ">  53349</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5519" id="line_5519"> 5519.</a></span><span class="count                ">  53349</span><span>                    if (right.switch) {</span></pre>
<pre><span class="lineno"><a href="#line_5520" id="line_5520"> 5520.</a></span><span class="count                ">  53349</span><span>                        at_margin(-4);</span></pre>
<pre><span class="lineno"><a href="#line_5521" id="line_5521"> 5521.</a></span><span class="count                ">  53349</span><span>                    } else if (right.role === &quot;label&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_5522" id="line_5522"> 5522.</a></span><span class="count                ">  53349</span><span>                        if (right.from !== 0) {</span></pre>
<pre><span class="lineno"><a href="#line_5523" id="line_5523"> 5523.</a></span><span class="count                ">  53349</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5524" id="line_5524"> 5524.</a></span><span class="count                ">  53349</span><span>// cause:</span></pre>
<pre><span class="lineno"><a href="#line_5525" id="line_5525"> 5525.</a></span><span class="count                ">  53349</span><span>// function aa() {</span></pre>
<pre><span class="lineno"><a href="#line_5526" id="line_5526"> 5526.</a></span><span class="count                ">  53349</span><span>//     let bb = 0;cc:</span></pre>
<pre><span class="lineno"><a href="#line_5527" id="line_5527"> 5527.</a></span><span class="count                ">  53349</span><span>//     while (aa) {</span></pre>
<pre><span class="lineno"><a href="#line_5528" id="line_5528"> 5528.</a></span><span class="count                ">  53349</span><span>//         if (aa) {</span></pre>
<pre><span class="lineno"><a href="#line_5529" id="line_5529"> 5529.</a></span><span class="count                ">  53349</span><span>//             break cc;</span></pre>
<pre><span class="lineno"><a href="#line_5530" id="line_5530"> 5530.</a></span><span class="count                ">  53349</span><span>//         }</span></pre>
<pre><span class="lineno"><a href="#line_5531" id="line_5531"> 5531.</a></span><span class="count                ">  53349</span><span>//     }</span></pre>
<pre><span class="lineno"><a href="#line_5532" id="line_5532"> 5532.</a></span><span class="count                ">  53349</span><span>// }</span></pre>
<pre><span class="lineno"><a href="#line_5533" id="line_5533"> 5533.</a></span><span class="count                ">  53349</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5534" id="line_5534"> 5534.</a></span><span class="count                ">  53349</span><span>                            expected_at(0);</span></pre>
<pre><span class="lineno"><a href="#line_5535" id="line_5535"> 5535.</a></span><span class="count                ">  53349</span><span>                        }</span></pre>
<pre><span class="lineno"><a href="#line_5536" id="line_5536"> 5536.</a></span><span class="count                ">  53349</span><span>                    } else if (left.id === &quot;,&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_5537" id="line_5537"> 5537.</a></span><span class="count                ">  53349</span><span>                        if (!open || (</span></pre>
<pre><span class="lineno"><a href="#line_5538" id="line_5538"> 5538.</a></span><span class="count                ">  53349</span><span>                            (free || closer === &quot;]&quot;)</span></pre>
<pre><span class="lineno"><a href="#line_5539" id="line_5539"> 5539.</a></span><span class="count                ">  53349</span><span>                            &amp;&amp; left.line === right.line</span></pre>
<pre><span class="lineno"><a href="#line_5540" id="line_5540"> 5540.</a></span><span class="count                ">  53349</span><span>                        )) {</span></pre>
<pre><span class="lineno"><a href="#line_5541" id="line_5541"> 5541.</a></span><span class="count                ">  53349</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5542" id="line_5542"> 5542.</a></span><span class="count                ">  53349</span><span>// cause: &quot;let {aa,bb}=0;&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5543" id="line_5543"> 5543.</a></span><span class="count                ">  53349</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5544" id="line_5544"> 5544.</a></span><span class="count                ">  53349</span><span>                            one_space();</span></pre>
<pre><span class="lineno"><a href="#line_5545" id="line_5545"> 5545.</a></span><span class="count                ">  53349</span><span>                        } else {</span></pre>
<pre><span class="lineno"><a href="#line_5546" id="line_5546"> 5546.</a></span><span class="count                ">  53349</span><span>                            at_margin(0);</span></pre>
<pre><span class="lineno"><a href="#line_5547" id="line_5547"> 5547.</a></span><span class="count                ">  53349</span><span>                        }</span></pre>
<pre><span class="lineno"><a href="#line_5548" id="line_5548"> 5548.</a></span><span class="count                ">  53349</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5549" id="line_5549"> 5549.</a></span><span class="count                ">  53349</span><span>// If right is a ternary operator, line it up on the margin.</span></pre>
<pre><span class="lineno"><a href="#line_5550" id="line_5550"> 5550.</a></span><span class="count                ">  53349</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5551" id="line_5551"> 5551.</a></span><span class="count                ">  53349</span><span>                    } else if (right.arity === &quot;ternary&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_5552" id="line_5552"> 5552.</a></span><span class="count                ">  53349</span><span>                        if (open) {</span></pre>
<pre><span class="lineno"><a href="#line_5553" id="line_5553"> 5553.</a></span><span class="count                ">  53349</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5554" id="line_5554"> 5554.</a></span><span class="count                ">  53349</span><span>// cause:</span></pre>
<pre><span class="lineno"><a href="#line_5555" id="line_5555"> 5555.</a></span><span class="count                ">  53349</span><span>// let aa = (</span></pre>
<pre><span class="lineno"><a href="#line_5556" id="line_5556"> 5556.</a></span><span class="count                ">  53349</span><span>//     aa</span></pre>
<pre><span class="lineno"><a href="#line_5557" id="line_5557"> 5557.</a></span><span class="count                ">  53349</span><span>//     ? 0</span></pre>
<pre><span class="lineno"><a href="#line_5558" id="line_5558"> 5558.</a></span><span class="count                ">  53349</span><span>// : 1</span></pre>
<pre><span class="lineno"><a href="#line_5559" id="line_5559"> 5559.</a></span><span class="count                ">  53349</span><span>// );</span></pre>
<pre><span class="lineno"><a href="#line_5560" id="line_5560"> 5560.</a></span><span class="count                ">  53349</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5561" id="line_5561"> 5561.</a></span><span class="count                ">  53349</span><span>                            at_margin(0);</span></pre>
<pre><span class="lineno"><a href="#line_5562" id="line_5562"> 5562.</a></span><span class="count                ">  53349</span><span>                        } else {</span></pre>
<pre><span class="lineno"><a href="#line_5563" id="line_5563"> 5563.</a></span><span class="count                ">  53349</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5564" id="line_5564"> 5564.</a></span><span class="count                ">  53349</span><span>// cause: &quot;let aa=(aa?0:1);&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5565" id="line_5565"> 5565.</a></span><span class="count                ">  53349</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5566" id="line_5566"> 5566.</a></span><span class="count                ">  53349</span><span>                            warn(&quot;use_open&quot;, right);</span></pre>
<pre><span class="lineno"><a href="#line_5567" id="line_5567"> 5567.</a></span><span class="count                ">  53349</span><span>                        }</span></pre>
<pre><span class="lineno"><a href="#line_5568" id="line_5568"> 5568.</a></span><span class="count                ">  53349</span><span>                    } else if (</span></pre>
<pre><span class="lineno"><a href="#line_5569" id="line_5569"> 5569.</a></span><span class="count                ">  53349</span><span>                        right.arity === &quot;binary&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5570" id="line_5570"> 5570.</a></span><span class="count                ">  53349</span><span>                        &amp;&amp; right.id === &quot;(&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5571" id="line_5571"> 5571.</a></span><span class="count                ">  53349</span><span>                        &amp;&amp; free</span></pre>
<pre><span class="lineno"><a href="#line_5572" id="line_5572"> 5572.</a></span><span class="count                ">  53349</span><span>                    ) {</span></pre>
<pre><span class="lineno"><a href="#line_5573" id="line_5573"> 5573.</a></span><span class="count                ">  53349</span><span>                        no_space();</span></pre>
<pre><span class="lineno"><a href="#line_5574" id="line_5574"> 5574.</a></span><span class="count                ">  53349</span><span>                    } else if (</span></pre>
<pre><span class="lineno"><a href="#line_5575" id="line_5575"> 5575.</a></span><span class="count                ">  53349</span><span>                        left.id === &quot;.&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5576" id="line_5576"> 5576.</a></span><span class="count                ">  53349</span><span>                        || left.id === &quot;?.&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5577" id="line_5577"> 5577.</a></span><span class="count                ">  53349</span><span>                        || left.id === &quot;...&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5578" id="line_5578"> 5578.</a></span><span class="count                ">  53349</span><span>                        || right.id === &quot;,&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5579" id="line_5579"> 5579.</a></span><span class="count                ">  53349</span><span>                        || right.id === &quot;;&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5580" id="line_5580"> 5580.</a></span><span class="count                ">  53349</span><span>                        || right.id === &quot;:&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5581" id="line_5581"> 5581.</a></span><span class="count                ">  53349</span><span>                        || (</span></pre>
<pre><span class="lineno"><a href="#line_5582" id="line_5582"> 5582.</a></span><span class="count                ">  53349</span><span>                            right.arity === &quot;binary&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5583" id="line_5583"> 5583.</a></span><span class="count                ">  53349</span><span>                            &amp;&amp; (right.id === &quot;(&quot; || right.id === &quot;[&quot;)</span></pre>
<pre><span class="lineno"><a href="#line_5584" id="line_5584"> 5584.</a></span><span class="count                ">  53349</span><span>                        )</span></pre>
<pre><span class="lineno"><a href="#line_5585" id="line_5585"> 5585.</a></span><span class="count                ">  53349</span><span>                        || (</span></pre>
<pre><span class="lineno"><a href="#line_5586" id="line_5586"> 5586.</a></span><span class="count                ">  53349</span><span>                            right.arity === &quot;function&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5587" id="line_5587"> 5587.</a></span><span class="count                ">  53349</span><span>                            &amp;&amp; left.id !== &quot;function&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5588" id="line_5588"> 5588.</a></span><span class="count                ">  53349</span><span>                        )</span></pre>
<pre><span class="lineno"><a href="#line_5589" id="line_5589"> 5589.</a></span><span class="count                ">  53349</span><span>                    ) {</span></pre>
<pre><span class="lineno"><a href="#line_5590" id="line_5590"> 5590.</a></span><span class="count                ">  53349</span><span>                        no_space_only();</span></pre>
<pre><span class="lineno"><a href="#line_5591" id="line_5591"> 5591.</a></span><span class="count                ">  53349</span><span>                    } else if (right.id === &quot;.&quot; || right.id === &quot;?.&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_5592" id="line_5592"> 5592.</a></span><span class="count                ">  53349</span><span>                        no_space_only();</span></pre>
<pre><span class="lineno"><a href="#line_5593" id="line_5593"> 5593.</a></span><span class="count                uncovered">      0</span><span>                    } else if (left.id === &quot;;&quot;) </span><span class="uncovered">{ // deadcode?</span></pre>
<pre><span class="lineno"><a href="#line_5594" id="line_5594"> 5594.</a></span><span class="count                uncovered">      0</span><span></span><span class="uncovered">                        if (open) {</span></pre>
<pre><span class="lineno"><a href="#line_5595" id="line_5595"> 5595.</a></span><span class="count                uncovered">      0</span><span></span><span class="uncovered">                            at_margin(0);</span></pre>
<pre><span class="lineno"><a href="#line_5596" id="line_5596"> 5596.</a></span><span class="count                uncovered">      0</span><span></span><span class="uncovered">                        }</span></pre>
<pre><span class="lineno"><a href="#line_5597" id="line_5597"> 5597.</a></span><span class="count                uncovered">      0</span><span></span><span class="uncovered">                    }</span><span> else if (</span></pre>
<pre><span class="lineno"><a href="#line_5598" id="line_5598"> 5598.</a></span><span class="count                ">  53349</span><span>                        left.arity === &quot;ternary&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5599" id="line_5599"> 5599.</a></span><span class="count                ">  53349</span><span>                        || left.id === &quot;case&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5600" id="line_5600"> 5600.</a></span><span class="count                ">  53349</span><span>                        || left.id === &quot;catch&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5601" id="line_5601"> 5601.</a></span><span class="count                ">  53349</span><span>                        || left.id === &quot;else&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5602" id="line_5602"> 5602.</a></span><span class="count                ">  53349</span><span>                        || left.id === &quot;finally&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5603" id="line_5603"> 5603.</a></span><span class="count                ">  53349</span><span>                        || left.id === &quot;while&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5604" id="line_5604"> 5604.</a></span><span class="count                ">  53349</span><span>                        || left.id === &quot;await&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5605" id="line_5605"> 5605.</a></span><span class="count                ">  53349</span><span>                        || right.id === &quot;catch&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5606" id="line_5606"> 5606.</a></span><span class="count                ">  53349</span><span>                        || right.id === &quot;else&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5607" id="line_5607"> 5607.</a></span><span class="count                ">  53349</span><span>                        || right.id === &quot;finally&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5608" id="line_5608"> 5608.</a></span><span class="count                ">  53349</span><span>                        || (right.id === &quot;while&quot; &amp;&amp; !right.statement)</span></pre>
<pre><span class="lineno"><a href="#line_5609" id="line_5609"> 5609.</a></span><span class="count                ">  53349</span><span>                        || (left.id === &quot;)&quot; &amp;&amp; right.id === &quot;{&quot;)</span></pre>
<pre><span class="lineno"><a href="#line_5610" id="line_5610"> 5610.</a></span><span class="count                ">  53349</span><span>                    ) {</span></pre>
<pre><span class="lineno"><a href="#line_5611" id="line_5611"> 5611.</a></span><span class="count                ">  53349</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5612" id="line_5612"> 5612.</a></span><span class="count                ">  53349</span><span>// cause:</span></pre>
<pre><span class="lineno"><a href="#line_5613" id="line_5613"> 5613.</a></span><span class="count                ">  53349</span><span>// function aa() {</span></pre>
<pre><span class="lineno"><a href="#line_5614" id="line_5614"> 5614.</a></span><span class="count                ">  53349</span><span>//     do {</span></pre>
<pre><span class="lineno"><a href="#line_5615" id="line_5615"> 5615.</a></span><span class="count                ">  53349</span><span>//         aa();</span></pre>
<pre><span class="lineno"><a href="#line_5616" id="line_5616"> 5616.</a></span><span class="count                ">  53349</span><span>//     } while(aa());</span></pre>
<pre><span class="lineno"><a href="#line_5617" id="line_5617"> 5617.</a></span><span class="count                ">  53349</span><span>// }</span></pre>
<pre><span class="lineno"><a href="#line_5618" id="line_5618"> 5618.</a></span><span class="count                ">  53349</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5619" id="line_5619"> 5619.</a></span><span class="count                ">  53349</span><span>                        one_space_only();</span></pre>
<pre><span class="lineno"><a href="#line_5620" id="line_5620"> 5620.</a></span><span class="count                ">  53349</span><span>                    } else if (</span></pre>
<pre><span class="lineno"><a href="#line_5621" id="line_5621"> 5621.</a></span><span class="count                ">  53349</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5622" id="line_5622"> 5622.</a></span><span class="count                ">  53349</span><span>// There is a space between left and right.</span></pre>
<pre><span class="lineno"><a href="#line_5623" id="line_5623"> 5623.</a></span><span class="count                ">  53349</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5624" id="line_5624"> 5624.</a></span><span class="count                ">  53349</span><span>                        spaceop[left.id] === true</span></pre>
<pre><span class="lineno"><a href="#line_5625" id="line_5625"> 5625.</a></span><span class="count                ">  53349</span><span>                        || spaceop[right.id] === true</span></pre>
<pre><span class="lineno"><a href="#line_5626" id="line_5626"> 5626.</a></span><span class="count                ">  53349</span><span>                        || (</span></pre>
<pre><span class="lineno"><a href="#line_5627" id="line_5627"> 5627.</a></span><span class="count                ">  53349</span><span>                            left.arity === &quot;binary&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5628" id="line_5628"> 5628.</a></span><span class="count                ">  53349</span><span>                            &amp;&amp; (left.id === &quot;+&quot; || left.id === &quot;-&quot;)</span></pre>
<pre><span class="lineno"><a href="#line_5629" id="line_5629"> 5629.</a></span><span class="count                ">  53349</span><span>                        )</span></pre>
<pre><span class="lineno"><a href="#line_5630" id="line_5630"> 5630.</a></span><span class="count                ">  53349</span><span>                        || (</span></pre>
<pre><span class="lineno"><a href="#line_5631" id="line_5631"> 5631.</a></span><span class="count                ">  53349</span><span>                            right.arity === &quot;binary&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5632" id="line_5632"> 5632.</a></span><span class="count                ">  53349</span><span>                            &amp;&amp; (right.id === &quot;+&quot; || right.id === &quot;-&quot;)</span></pre>
<pre><span class="lineno"><a href="#line_5633" id="line_5633"> 5633.</a></span><span class="count                ">  53349</span><span>                        )</span></pre>
<pre><span class="lineno"><a href="#line_5634" id="line_5634"> 5634.</a></span><span class="count                ">  53349</span><span>                        || left.id === &quot;function&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5635" id="line_5635"> 5635.</a></span><span class="count                ">  53349</span><span>                        || left.id === &quot;:&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5636" id="line_5636"> 5636.</a></span><span class="count                ">  53349</span><span>                        || (</span></pre>
<pre><span class="lineno"><a href="#line_5637" id="line_5637"> 5637.</a></span><span class="count                ">  53349</span><span>                            (</span></pre>
<pre><span class="lineno"><a href="#line_5638" id="line_5638"> 5638.</a></span><span class="count                ">  53349</span><span>                                left.identifier</span></pre>
<pre><span class="lineno"><a href="#line_5639" id="line_5639"> 5639.</a></span><span class="count                ">  53349</span><span>                                || left.id === &quot;(string)&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5640" id="line_5640"> 5640.</a></span><span class="count                ">  53349</span><span>                                || left.id === &quot;(number)&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5641" id="line_5641"> 5641.</a></span><span class="count                ">  53349</span><span>                            )</span></pre>
<pre><span class="lineno"><a href="#line_5642" id="line_5642"> 5642.</a></span><span class="count                ">  53349</span><span>                            &amp;&amp; (</span></pre>
<pre><span class="lineno"><a href="#line_5643" id="line_5643"> 5643.</a></span><span class="count                ">  53349</span><span>                                right.identifier</span></pre>
<pre><span class="lineno"><a href="#line_5644" id="line_5644"> 5644.</a></span><span class="count                ">  53349</span><span>                                || right.id === &quot;(string)&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5645" id="line_5645"> 5645.</a></span><span class="count                ">  53349</span><span>                                || right.id === &quot;(number)&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5646" id="line_5646"> 5646.</a></span><span class="count                ">  53349</span><span>                            )</span></pre>
<pre><span class="lineno"><a href="#line_5647" id="line_5647"> 5647.</a></span><span class="count                ">  53349</span><span>                        )</span></pre>
<pre><span class="lineno"><a href="#line_5648" id="line_5648"> 5648.</a></span><span class="count                ">  53349</span><span>                        || (left.arity === &quot;statement&quot; &amp;&amp; right.id !== &quot;;&quot;)</span></pre>
<pre><span class="lineno"><a href="#line_5649" id="line_5649"> 5649.</a></span><span class="count                ">  53349</span><span>                    ) {</span></pre>
<pre><span class="lineno"><a href="#line_5650" id="line_5650"> 5650.</a></span><span class="count                ">  53349</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5651" id="line_5651"> 5651.</a></span><span class="count                ">  53349</span><span>// cause: &quot;let aa=0;&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5652" id="line_5652"> 5652.</a></span><span class="count                ">  53349</span><span>// cause:</span></pre>
<pre><span class="lineno"><a href="#line_5653" id="line_5653"> 5653.</a></span><span class="count                ">  53349</span><span>// let aa={</span></pre>
<pre><span class="lineno"><a href="#line_5654" id="line_5654"> 5654.</a></span><span class="count                ">  53349</span><span>//     aa:</span></pre>
<pre><span class="lineno"><a href="#line_5655" id="line_5655"> 5655.</a></span><span class="count                ">  53349</span><span>// 0</span></pre>
<pre><span class="lineno"><a href="#line_5656" id="line_5656"> 5656.</a></span><span class="count                ">  53349</span><span>// };</span></pre>
<pre><span class="lineno"><a href="#line_5657" id="line_5657"> 5657.</a></span><span class="count                ">  53349</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5658" id="line_5658"> 5658.</a></span><span class="count                ">  53349</span><span>                        one_space();</span></pre>
<pre><span class="lineno"><a href="#line_5659" id="line_5659"> 5659.</a></span><span class="count                ">  53349</span><span>                    } else if (left.arity === &quot;unary&quot; &amp;&amp; left.id !== &quot;`&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_5660" id="line_5660"> 5660.</a></span><span class="count                ">  53349</span><span>                        no_space_only();</span></pre>
<pre><span class="lineno"><a href="#line_5661" id="line_5661"> 5661.</a></span><span class="count                ">  53349</span><span>                    }</span></pre>
<pre><span class="lineno"><a href="#line_5662" id="line_5662"> 5662.</a></span><span class="count                ">  53349</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_5663" id="line_5663"> 5663.</a></span><span class="count                ">  53349</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_5664" id="line_5664"> 5664.</a></span><span class="count                ">  53349</span><span>            nr_comments_skipped = 0;</span></pre>
<pre><span class="lineno"><a href="#line_5665" id="line_5665"> 5665.</a></span><span class="count                ">  53349</span><span>            delete left.calls;</span></pre>
<pre><span class="lineno"><a href="#line_5666" id="line_5666"> 5666.</a></span><span class="count                ">  53349</span><span>            delete left.dead;</span></pre>
<pre><span class="lineno"><a href="#line_5667" id="line_5667"> 5667.</a></span><span class="count                ">  53349</span><span>            delete left.free;</span></pre>
<pre><span class="lineno"><a href="#line_5668" id="line_5668"> 5668.</a></span><span class="count                ">  53349</span><span>            delete left.init;</span></pre>
<pre><span class="lineno"><a href="#line_5669" id="line_5669"> 5669.</a></span><span class="count                ">  53349</span><span>            delete left.open;</span></pre>
<pre><span class="lineno"><a href="#line_5670" id="line_5670"> 5670.</a></span><span class="count                ">  53349</span><span>            delete left.used;</span></pre>
<pre><span class="lineno"><a href="#line_5671" id="line_5671"> 5671.</a></span><span class="count                ">  53349</span><span>            left = right;</span></pre>
<pre><span class="lineno"><a href="#line_5672" id="line_5672"> 5672.</a></span><span class="count                ">  53349</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_5673" id="line_5673"> 5673.</a></span><span class="count                ">  55061</span><span>    });</span></pre>
<pre><span class="lineno"><a href="#line_5674" id="line_5674"> 5674.</a></span><span class="count                ">     67</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_5675" id="line_5675"> 5675.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5676" id="line_5676"> 5676.</a></span><span class="count                ">      1</span><span>// The jslint function itself.</span></pre>
<pre><span class="lineno"><a href="#line_5677" id="line_5677"> 5677.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5678" id="line_5678"> 5678.</a></span><span class="count                ">    405</span><span>function jslint(</span></pre>
<pre><span class="lineno"><a href="#line_5679" id="line_5679"> 5679.</a></span><span class="count                ">    405</span><span>    source = &quot;&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_5680" id="line_5680"> 5680.</a></span><span class="count                ">    405</span><span>    option_object = empty(),</span></pre>
<pre><span class="lineno"><a href="#line_5681" id="line_5681"> 5681.</a></span><span class="count                ">    405</span><span>    global_array = []</span></pre>
<pre><span class="lineno"><a href="#line_5682" id="line_5682"> 5682.</a></span><span class="count                ">    405</span><span>) {</span></pre>
<pre><span class="lineno"><a href="#line_5683" id="line_5683"> 5683.</a></span><span class="count                ">    405</span><span>    try {</span></pre>
<pre><span class="lineno"><a href="#line_5684" id="line_5684"> 5684.</a></span><span class="count                ">    405</span><span>        warnings = [];</span></pre>
<pre><span class="lineno"><a href="#line_5685" id="line_5685"> 5685.</a></span><span class="count                ">    405</span><span>        option = Object.assign(empty(), option_object);</span></pre>
<pre><span class="lineno"><a href="#line_5686" id="line_5686"> 5686.</a></span><span class="count                ">    405</span><span>        anon = &quot;anonymous&quot;;</span></pre>
<pre><span class="lineno"><a href="#line_5687" id="line_5687"> 5687.</a></span><span class="count                ">    405</span><span>        block_stack = [];</span></pre>
<pre><span class="lineno"><a href="#line_5688" id="line_5688"> 5688.</a></span><span class="count                ">    405</span><span>        declared_globals = empty();</span></pre>
<pre><span class="lineno"><a href="#line_5689" id="line_5689"> 5689.</a></span><span class="count                ">    405</span><span>        directive_mode = true;</span></pre>
<pre><span class="lineno"><a href="#line_5690" id="line_5690"> 5690.</a></span><span class="count                ">    405</span><span>        directives = [];</span></pre>
<pre><span class="lineno"><a href="#line_5691" id="line_5691"> 5691.</a></span><span class="count                ">    405</span><span>        early_stop = true;</span></pre>
<pre><span class="lineno"><a href="#line_5692" id="line_5692"> 5692.</a></span><span class="count                ">    405</span><span>        exports = empty();</span></pre>
<pre><span class="lineno"><a href="#line_5693" id="line_5693"> 5693.</a></span><span class="count                ">    405</span><span>        froms = [];</span></pre>
<pre><span class="lineno"><a href="#line_5694" id="line_5694"> 5694.</a></span><span class="count                ">    405</span><span>        fudge = (</span></pre>
<pre><span class="lineno"><a href="#line_5695" id="line_5695"> 5695.</a></span><span class="count                ">    405</span><span>            option.fudge</span></pre>
<pre><span class="lineno"><a href="#line_5696" id="line_5696"> 5696.</a></span><span class="count                ">      1</span><span>            ? 1</span></pre>
<pre><span class="lineno"><a href="#line_5697" id="line_5697"> 5697.</a></span><span class="count                ">    404</span><span>            : 0</span></pre>
<pre><span class="lineno"><a href="#line_5698" id="line_5698"> 5698.</a></span><span class="count                ">    405</span><span>        );</span></pre>
<pre><span class="lineno"><a href="#line_5699" id="line_5699"> 5699.</a></span><span class="count                ">    405</span><span>        functions = [];</span></pre>
<pre><span class="lineno"><a href="#line_5700" id="line_5700"> 5700.</a></span><span class="count                ">    405</span><span>        global = {</span></pre>
<pre><span class="lineno"><a href="#line_5701" id="line_5701"> 5701.</a></span><span class="count                ">    405</span><span>            body: true,</span></pre>
<pre><span class="lineno"><a href="#line_5702" id="line_5702"> 5702.</a></span><span class="count                ">    405</span><span>            context: empty(),</span></pre>
<pre><span class="lineno"><a href="#line_5703" id="line_5703"> 5703.</a></span><span class="count                ">    405</span><span>            finally: 0,</span></pre>
<pre><span class="lineno"><a href="#line_5704" id="line_5704"> 5704.</a></span><span class="count                ">    405</span><span>            from: 0,</span></pre>
<pre><span class="lineno"><a href="#line_5705" id="line_5705"> 5705.</a></span><span class="count                ">    405</span><span>            id: &quot;(global)&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_5706" id="line_5706"> 5706.</a></span><span class="count                ">    405</span><span>            level: 0,</span></pre>
<pre><span class="lineno"><a href="#line_5707" id="line_5707"> 5707.</a></span><span class="count                ">    405</span><span>            line: 0,</span></pre>
<pre><span class="lineno"><a href="#line_5708" id="line_5708"> 5708.</a></span><span class="count                ">    405</span><span>            live: [],</span></pre>
<pre><span class="lineno"><a href="#line_5709" id="line_5709"> 5709.</a></span><span class="count                ">    405</span><span>            loop: 0,</span></pre>
<pre><span class="lineno"><a href="#line_5710" id="line_5710"> 5710.</a></span><span class="count                ">    405</span><span>            switch: 0,</span></pre>
<pre><span class="lineno"><a href="#line_5711" id="line_5711"> 5711.</a></span><span class="count                ">    405</span><span>            thru: 0,</span></pre>
<pre><span class="lineno"><a href="#line_5712" id="line_5712"> 5712.</a></span><span class="count                ">    405</span><span>            try: 0</span></pre>
<pre><span class="lineno"><a href="#line_5713" id="line_5713"> 5713.</a></span><span class="count                ">    405</span><span>        };</span></pre>
<pre><span class="lineno"><a href="#line_5714" id="line_5714"> 5714.</a></span><span class="count                ">    405</span><span>        blockage = global;</span></pre>
<pre><span class="lineno"><a href="#line_5715" id="line_5715"> 5715.</a></span><span class="count                ">    405</span><span>        functionage = global;</span></pre>
<pre><span class="lineno"><a href="#line_5716" id="line_5716"> 5716.</a></span><span class="count                ">    405</span><span>        json_mode = false;</span></pre>
<pre><span class="lineno"><a href="#line_5717" id="line_5717"> 5717.</a></span><span class="count                ">    405</span><span>        mega_mode = false;</span></pre>
<pre><span class="lineno"><a href="#line_5718" id="line_5718"> 5718.</a></span><span class="count                ">    405</span><span>        module_mode = false;</span></pre>
<pre><span class="lineno"><a href="#line_5719" id="line_5719"> 5719.</a></span><span class="count                ">    405</span><span>        next_token = global;</span></pre>
<pre><span class="lineno"><a href="#line_5720" id="line_5720"> 5720.</a></span><span class="count                ">    405</span><span>        property = empty();</span></pre>
<pre><span class="lineno"><a href="#line_5721" id="line_5721"> 5721.</a></span><span class="count                ">    405</span><span>        shebang = false;</span></pre>
<pre><span class="lineno"><a href="#line_5722" id="line_5722"> 5722.</a></span><span class="count                ">    405</span><span>        stack = [];</span></pre>
<pre><span class="lineno"><a href="#line_5723" id="line_5723"> 5723.</a></span><span class="count                ">    405</span><span>        tenure = undefined;</span></pre>
<pre><span class="lineno"><a href="#line_5724" id="line_5724"> 5724.</a></span><span class="count                ">    405</span><span>        token = global;</span></pre>
<pre><span class="lineno"><a href="#line_5725" id="line_5725"> 5725.</a></span><span class="count                ">    405</span><span>        token_nr = 0;</span></pre>
<pre><span class="lineno"><a href="#line_5726" id="line_5726"> 5726.</a></span><span class="count                ">    405</span><span>        var_mode = undefined;</span></pre>
<pre><span class="lineno"><a href="#line_5727" id="line_5727"> 5727.</a></span><span class="count                ">    405</span><span>        populate(standard, declared_globals, false);</span></pre>
<pre><span class="lineno"><a href="#line_5728" id="line_5728"> 5728.</a></span><span class="count                ">    405</span><span>        populate(global_array, declared_globals, false);</span></pre>
<pre><span class="lineno"><a href="#line_5729" id="line_5729"> 5729.</a></span><span class="count                ">     24</span><span>        Object.keys(option).forEach(function (name) {</span></pre>
<pre><span class="lineno"><a href="#line_5730" id="line_5730"> 5730.</a></span><span class="count                ">     24</span><span>            if (option[name] === true) {</span></pre>
<pre><span class="lineno"><a href="#line_5731" id="line_5731"> 5731.</a></span><span class="count                ">     24</span><span>                const allowed = allowed_option[name];</span></pre>
<pre><span class="lineno"><a href="#line_5732" id="line_5732"> 5732.</a></span><span class="count                ">     11</span><span>                if (Array.isArray(allowed)) {</span></pre>
<pre><span class="lineno"><a href="#line_5733" id="line_5733"> 5733.</a></span><span class="count                ">     11</span><span>                    populate(allowed, declared_globals, false);</span></pre>
<pre><span class="lineno"><a href="#line_5734" id="line_5734"> 5734.</a></span><span class="count                ">     11</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_5735" id="line_5735"> 5735.</a></span><span class="count                ">     24</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_5736" id="line_5736"> 5736.</a></span><span class="count                ">     24</span><span>        });</span></pre>
<pre><span class="lineno"><a href="#line_5737" id="line_5737"> 5737.</a></span><span class="count                ">    405</span><span>        tokenize(source);</span></pre>
<pre><span class="lineno"><a href="#line_5738" id="line_5738"> 5738.</a></span><span class="count                ">    405</span><span>        advance();</span></pre>
<pre><span class="lineno"><a href="#line_5739" id="line_5739"> 5739.</a></span><span class="count                ">     23</span><span>        if (json_mode) {</span></pre>
<pre><span class="lineno"><a href="#line_5740" id="line_5740"> 5740.</a></span><span class="count                ">     23</span><span>            tree = json_value();</span></pre>
<pre><span class="lineno"><a href="#line_5741" id="line_5741"> 5741.</a></span><span class="count                ">     23</span><span>            advance(&quot;(end)&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_5742" id="line_5742"> 5742.</a></span><span class="count                ">    356</span><span>        } else {</span></pre>
<pre><span class="lineno"><a href="#line_5743" id="line_5743"> 5743.</a></span><span class="count                ">    356</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5744" id="line_5744"> 5744.</a></span><span class="count                ">    356</span><span>// Because browsers encourage combining of script files, the first token might</span></pre>
<pre><span class="lineno"><a href="#line_5745" id="line_5745"> 5745.</a></span><span class="count                ">    356</span><span>// be a semicolon to defend against a missing semicolon in the preceding file.</span></pre>
<pre><span class="lineno"><a href="#line_5746" id="line_5746"> 5746.</a></span><span class="count                ">    356</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5747" id="line_5747"> 5747.</a></span><span class="count                ">    356</span><span>            if (option.browser) {</span></pre>
<pre><span class="lineno"><a href="#line_5748" id="line_5748"> 5748.</a></span><span class="count                ">    356</span><span>                if (next_token.id === &quot;;&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_5749" id="line_5749"> 5749.</a></span><span class="count                ">    356</span><span>                    advance(&quot;;&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_5750" id="line_5750"> 5750.</a></span><span class="count                ">    356</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_5751" id="line_5751"> 5751.</a></span><span class="count                ">    356</span><span>            } else {</span></pre>
<pre><span class="lineno"><a href="#line_5752" id="line_5752"> 5752.</a></span><span class="count                ">    356</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5753" id="line_5753"> 5753.</a></span><span class="count                ">    356</span><span>// If we are not in a browser, then the file form of strict pragma may be used.</span></pre>
<pre><span class="lineno"><a href="#line_5754" id="line_5754"> 5754.</a></span><span class="count                ">    356</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5755" id="line_5755"> 5755.</a></span><span class="count                ">    356</span><span>                if (</span></pre>
<pre><span class="lineno"><a href="#line_5756" id="line_5756"> 5756.</a></span><span class="count                ">    356</span><span>                    next_token.value === &quot;use strict&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5757" id="line_5757"> 5757.</a></span><span class="count                ">    356</span><span>                ) {</span></pre>
<pre><span class="lineno"><a href="#line_5758" id="line_5758"> 5758.</a></span><span class="count                ">    356</span><span>                    advance(&quot;(string)&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_5759" id="line_5759"> 5759.</a></span><span class="count                ">    356</span><span>                    advance(&quot;;&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_5760" id="line_5760"> 5760.</a></span><span class="count                ">    356</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_5761" id="line_5761"> 5761.</a></span><span class="count                ">    356</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_5762" id="line_5762"> 5762.</a></span><span class="count                ">    356</span><span>            tree = statements();</span></pre>
<pre><span class="lineno"><a href="#line_5763" id="line_5763"> 5763.</a></span><span class="count                ">    356</span><span>            advance(&quot;(end)&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_5764" id="line_5764"> 5764.</a></span><span class="count                ">    356</span><span>            functionage = global;</span></pre>
<pre><span class="lineno"><a href="#line_5765" id="line_5765"> 5765.</a></span><span class="count                ">    356</span><span>            walk_statement(tree);</span></pre>
<pre><span class="lineno"><a href="#line_5766" id="line_5766"> 5766.</a></span><span class="count                ">    356</span><span>            if (warnings.length === 0) {</span></pre>
<pre><span class="lineno"><a href="#line_5767" id="line_5767"> 5767.</a></span><span class="count                ">    356</span><span>                uninitialized_and_unused();</span></pre>
<pre><span class="lineno"><a href="#line_5768" id="line_5768"> 5768.</a></span><span class="count                ">    356</span><span>                if (!option.white) {</span></pre>
<pre><span class="lineno"><a href="#line_5769" id="line_5769"> 5769.</a></span><span class="count                ">    356</span><span>                    whitage();</span></pre>
<pre><span class="lineno"><a href="#line_5770" id="line_5770"> 5770.</a></span><span class="count                ">    356</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_5771" id="line_5771"> 5771.</a></span><span class="count                ">    356</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_5772" id="line_5772"> 5772.</a></span><span class="count                ">    356</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_5773" id="line_5773"> 5773.</a></span><span class="count                ">    297</span><span>        if (!option.browser) {</span></pre>
<pre><span class="lineno"><a href="#line_5774" id="line_5774"> 5774.</a></span><span class="count                ">    293</span><span>            directives.forEach(function (comment) {</span></pre>
<pre><span class="lineno"><a href="#line_5775" id="line_5775"> 5775.</a></span><span class="count                ">    293</span><span>                if (comment.directive === &quot;global&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_5776" id="line_5776"> 5776.</a></span><span class="count                ">    293</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5777" id="line_5777"> 5777.</a></span><span class="count                ">    293</span><span>// cause: &quot;/*global aa*/&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5778" id="line_5778"> 5778.</a></span><span class="count                ">    293</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5779" id="line_5779"> 5779.</a></span><span class="count                ">    293</span><span>                    warn(&quot;missing_browser&quot;, comment);</span></pre>
<pre><span class="lineno"><a href="#line_5780" id="line_5780"> 5780.</a></span><span class="count                ">    293</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_5781" id="line_5781"> 5781.</a></span><span class="count                ">    293</span><span>            });</span></pre>
<pre><span class="lineno"><a href="#line_5782" id="line_5782"> 5782.</a></span><span class="count                ">    297</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_5783" id="line_5783"> 5783.</a></span><span class="count                ">    297</span><span>        if (option.test_internal_error) {</span></pre>
<pre><span class="lineno"><a href="#line_5784" id="line_5784"> 5784.</a></span><span class="count                ">      1</span><span>            assert_or_throw(undefined, &quot;test_internal_error&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_5785" id="line_5785"> 5785.</a></span><span class="count                ">    296</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_5786" id="line_5786"> 5786.</a></span><span class="count                ">    296</span><span>        early_stop = false;</span></pre>
<pre><span class="lineno"><a href="#line_5787" id="line_5787"> 5787.</a></span><span class="count                ">    296</span><span>    } catch (e) {</span></pre>
<pre><span class="lineno"><a href="#line_5788" id="line_5788"> 5788.</a></span><span class="count                ">    109</span><span>        e.early_stop = true;</span></pre>
<pre><span class="lineno"><a href="#line_5789" id="line_5789"> 5789.</a></span><span class="count                ">    109</span><span>        e.message = &quot;[JSLint was unable to finish]\n&quot; + e.message;</span></pre>
<pre><span class="lineno"><a href="#line_5790" id="line_5790"> 5790.</a></span><span class="count                ">    109</span><span>        if (e.name !== &quot;JSLintError&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_5791" id="line_5791"> 5791.</a></span><span class="count                ">    109</span><span>            e.column = 0;</span></pre>
<pre><span class="lineno"><a href="#line_5792" id="line_5792"> 5792.</a></span><span class="count                ">    109</span><span>            e.line = 0;</span></pre>
<pre><span class="lineno"><a href="#line_5793" id="line_5793"> 5793.</a></span><span class="count                ">    109</span><span>            e.stack_trace = e.stack;</span></pre>
<pre><span class="lineno"><a href="#line_5794" id="line_5794"> 5794.</a></span><span class="count                ">    109</span><span>            warnings.push(e);</span></pre>
<pre><span class="lineno"><a href="#line_5795" id="line_5795"> 5795.</a></span><span class="count                ">    109</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_5796" id="line_5796"> 5796.</a></span><span class="count                ">    109</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_5797" id="line_5797"> 5797.</a></span><span class="count                ">    405</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5798" id="line_5798"> 5798.</a></span><span class="count                ">    405</span><span>// sort warnings by early_stop first, line, column respectively</span></pre>
<pre><span class="lineno"><a href="#line_5799" id="line_5799"> 5799.</a></span><span class="count                ">    405</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5800" id="line_5800"> 5800.</a></span><span class="count                ">    880</span><span>    warnings.sort(function (a, b) {</span></pre>
<pre><span class="lineno"><a href="#line_5801" id="line_5801"> 5801.</a></span><span class="count                ">    880</span><span>        return (</span></pre>
<pre><span class="lineno"><a href="#line_5802" id="line_5802"> 5802.</a></span><span class="count                ">    880</span><span>            Boolean(b.early_stop) - Boolean(a.early_stop)</span></pre>
<pre><span class="lineno"><a href="#line_5803" id="line_5803"> 5803.</a></span><span class="count                ">    808</span><span>            || a.line - b.line || a.column - b.column</span></pre>
<pre><span class="lineno"><a href="#line_5804" id="line_5804"> 5804.</a></span><span class="count                ">    880</span><span>        );</span></pre>
<pre><span class="lineno"><a href="#line_5805" id="line_5805"> 5805.</a></span><span class="count                ">    880</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5806" id="line_5806"> 5806.</a></span><span class="count                ">    880</span><span>// update each warning with a formatted_message ready for use by cli</span></pre>
<pre><span class="lineno"><a href="#line_5807" id="line_5807"> 5807.</a></span><span class="count                ">    880</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5808" id="line_5808"> 5808.</a></span><span class="count                ">    880</span><span>    }).map(function ({</span></pre>
<pre><span class="lineno"><a href="#line_5809" id="line_5809"> 5809.</a></span><span class="count                ">    880</span><span>        column = 0,</span></pre>
<pre><span class="lineno"><a href="#line_5810" id="line_5810"> 5810.</a></span><span class="count                ">    880</span><span>        line = 0,</span></pre>
<pre><span class="lineno"><a href="#line_5811" id="line_5811"> 5811.</a></span><span class="count                ">    880</span><span>        message = &quot;&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_5812" id="line_5812"> 5812.</a></span><span class="count                ">    880</span><span>        stack_trace = &quot;&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5813" id="line_5813"> 5813.</a></span><span class="count                ">    880</span><span>    }, ii, list) {</span></pre>
<pre><span class="lineno"><a href="#line_5814" id="line_5814"> 5814.</a></span><span class="count                ">    880</span><span>        column += 1;</span></pre>
<pre><span class="lineno"><a href="#line_5815" id="line_5815"> 5815.</a></span><span class="count                ">    880</span><span>        line += 1;</span></pre>
<pre><span class="lineno"><a href="#line_5816" id="line_5816"> 5816.</a></span><span class="count                ">    880</span><span>        list[ii].formatted_message = String(</span></pre>
<pre><span class="lineno"><a href="#line_5817" id="line_5817"> 5817.</a></span><span class="count                ">    880</span><span>            String(ii + 1).padStart(3, &quot; &quot;)</span></pre>
<pre><span class="lineno"><a href="#line_5818" id="line_5818"> 5818.</a></span><span class="count                ">    880</span><span>            + &quot; \u001b[31m&quot; + message + &quot;\u001b[39m&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5819" id="line_5819"> 5819.</a></span><span class="count                ">    880</span><span>            + &quot; \u001b[90m\/\/ line &quot; + line + &quot;, column &quot; + column</span></pre>
<pre><span class="lineno"><a href="#line_5820" id="line_5820"> 5820.</a></span><span class="count                ">    880</span><span>            + &quot;\u001b[39m\n&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5821" id="line_5821"> 5821.</a></span><span class="count                ">    880</span><span>            + (&quot;    &quot; + String(lines &amp;&amp; lines[line - 1]).trim()).slice(0, 72)</span></pre>
<pre><span class="lineno"><a href="#line_5822" id="line_5822"> 5822.</a></span><span class="count                ">    880</span><span>            + &quot;\n&quot; + stack_trace</span></pre>
<pre><span class="lineno"><a href="#line_5823" id="line_5823"> 5823.</a></span><span class="count                ">    880</span><span>        ).trim();</span></pre>
<pre><span class="lineno"><a href="#line_5824" id="line_5824"> 5824.</a></span><span class="count                ">    880</span><span>    });</span></pre>
<pre><span class="lineno"><a href="#line_5825" id="line_5825"> 5825.</a></span><span class="count                ">    405</span><span>    return {</span></pre>
<pre><span class="lineno"><a href="#line_5826" id="line_5826"> 5826.</a></span><span class="count                ">    405</span><span>        directives,</span></pre>
<pre><span class="lineno"><a href="#line_5827" id="line_5827"> 5827.</a></span><span class="count                ">    405</span><span>        edition,</span></pre>
<pre><span class="lineno"><a href="#line_5828" id="line_5828"> 5828.</a></span><span class="count                ">    405</span><span>        exports,</span></pre>
<pre><span class="lineno"><a href="#line_5829" id="line_5829"> 5829.</a></span><span class="count                ">    405</span><span>        froms,</span></pre>
<pre><span class="lineno"><a href="#line_5830" id="line_5830"> 5830.</a></span><span class="count                ">    405</span><span>        functions,</span></pre>
<pre><span class="lineno"><a href="#line_5831" id="line_5831"> 5831.</a></span><span class="count                ">    405</span><span>        global,</span></pre>
<pre><span class="lineno"><a href="#line_5832" id="line_5832"> 5832.</a></span><span class="count                ">    405</span><span>        id: &quot;(JSLint)&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_5833" id="line_5833"> 5833.</a></span><span class="count                ">    405</span><span>        json: json_mode,</span></pre>
<pre><span class="lineno"><a href="#line_5834" id="line_5834"> 5834.</a></span><span class="count                ">    405</span><span>        lines,</span></pre>
<pre><span class="lineno"><a href="#line_5835" id="line_5835"> 5835.</a></span><span class="count                ">    405</span><span>        module: module_mode === true,</span></pre>
<pre><span class="lineno"><a href="#line_5836" id="line_5836"> 5836.</a></span><span class="count                ">     56</span><span>        ok: warnings.length === 0 &amp;&amp; !early_stop,</span></pre>
<pre><span class="lineno"><a href="#line_5837" id="line_5837"> 5837.</a></span><span class="count                ">    405</span><span>        option,</span></pre>
<pre><span class="lineno"><a href="#line_5838" id="line_5838"> 5838.</a></span><span class="count                ">    405</span><span>        property,</span></pre>
<pre><span class="lineno"><a href="#line_5839" id="line_5839"> 5839.</a></span><span class="count                ">    405</span><span>        shebang: (</span></pre>
<pre><span class="lineno"><a href="#line_5840" id="line_5840"> 5840.</a></span><span class="count                ">    405</span><span>            shebang</span></pre>
<pre><span class="lineno"><a href="#line_5841" id="line_5841"> 5841.</a></span><span class="count                ">      3</span><span>            ? lines[0]</span></pre>
<pre><span class="lineno"><a href="#line_5842" id="line_5842"> 5842.</a></span><span class="count                ">    402</span><span>            : undefined</span></pre>
<pre><span class="lineno"><a href="#line_5843" id="line_5843"> 5843.</a></span><span class="count                ">    405</span><span>        ),</span></pre>
<pre><span class="lineno"><a href="#line_5844" id="line_5844"> 5844.</a></span><span class="count                ">    405</span><span>        stop: early_stop,</span></pre>
<pre><span class="lineno"><a href="#line_5845" id="line_5845"> 5845.</a></span><span class="count                ">    405</span><span>        tokens,</span></pre>
<pre><span class="lineno"><a href="#line_5846" id="line_5846"> 5846.</a></span><span class="count                ">    405</span><span>        tree,</span></pre>
<pre><span class="lineno"><a href="#line_5847" id="line_5847"> 5847.</a></span><span class="count                ">    405</span><span>        warnings</span></pre>
<pre><span class="lineno"><a href="#line_5848" id="line_5848"> 5848.</a></span><span class="count                ">    405</span><span>    };</span></pre>
<pre><span class="lineno"><a href="#line_5849" id="line_5849"> 5849.</a></span><span class="count                ">    405</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_5850" id="line_5850"> 5850.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_5851" id="line_5851"> 5851.</a></span><span class="count                ">      4</span><span>async function cli({</span></pre>
<pre><span class="lineno"><a href="#line_5852" id="line_5852"> 5852.</a></span><span class="count                ">      4</span><span>    console_error,</span></pre>
<pre><span class="lineno"><a href="#line_5853" id="line_5853"> 5853.</a></span><span class="count                ">      4</span><span>    file,</span></pre>
<pre><span class="lineno"><a href="#line_5854" id="line_5854"> 5854.</a></span><span class="count                ">      4</span><span>    option,</span></pre>
<pre><span class="lineno"><a href="#line_5855" id="line_5855"> 5855.</a></span><span class="count                ">      4</span><span>    source</span></pre>
<pre><span class="lineno"><a href="#line_5856" id="line_5856"> 5856.</a></span><span class="count                ">      4</span><span>}) {</span></pre>
<pre><span class="lineno"><a href="#line_5857" id="line_5857"> 5857.</a></span><span class="count                ">      4</span><span>/*</span></pre>
<pre><span class="lineno"><a href="#line_5858" id="line_5858"> 5858.</a></span><span class="count                ">      4</span><span> * this function will run jslint from nodejs-cli</span></pre>
<pre><span class="lineno"><a href="#line_5859" id="line_5859"> 5859.</a></span><span class="count                ">      4</span><span> */</span></pre>
<pre><span class="lineno"><a href="#line_5860" id="line_5860"> 5860.</a></span><span class="count                ">      4</span><span>    const fs = await import(&quot;fs&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_5861" id="line_5861"> 5861.</a></span><span class="count                ">      4</span><span>    let exitCode;</span></pre>
<pre><span class="lineno"><a href="#line_5862" id="line_5862"> 5862.</a></span><span class="count                ">      8</span><span>    function string_line_count(code) {</span></pre>
<pre><span class="lineno"><a href="#line_5863" id="line_5863"> 5863.</a></span><span class="count                ">      8</span><span>    /*</span></pre>
<pre><span class="lineno"><a href="#line_5864" id="line_5864"> 5864.</a></span><span class="count                ">      8</span><span>     * this function will count number of newlines in &lt;code&gt;</span></pre>
<pre><span class="lineno"><a href="#line_5865" id="line_5865"> 5865.</a></span><span class="count                ">      8</span><span>     */</span></pre>
<pre><span class="lineno"><a href="#line_5866" id="line_5866"> 5866.</a></span><span class="count                ">      8</span><span>        let cnt;</span></pre>
<pre><span class="lineno"><a href="#line_5867" id="line_5867"> 5867.</a></span><span class="count                ">      8</span><span>        let ii;</span></pre>
<pre><span class="lineno"><a href="#line_5868" id="line_5868"> 5868.</a></span><span class="count                ">      8</span><span>        // https://jsperf.com/regexp-counting-2/8</span></pre>
<pre><span class="lineno"><a href="#line_5869" id="line_5869"> 5869.</a></span><span class="count                ">      8</span><span>        cnt = 0;</span></pre>
<pre><span class="lineno"><a href="#line_5870" id="line_5870"> 5870.</a></span><span class="count                ">      8</span><span>        ii = 0;</span></pre>
<pre><span class="lineno"><a href="#line_5871" id="line_5871"> 5871.</a></span><span class="count                ">   2218</span><span>        while (true) {</span></pre>
<pre><span class="lineno"><a href="#line_5872" id="line_5872"> 5872.</a></span><span class="count                ">   2218</span><span>            ii = code.indexOf(&quot;\n&quot;, ii) + 1;</span></pre>
<pre><span class="lineno"><a href="#line_5873" id="line_5873"> 5873.</a></span><span class="count                ">   2218</span><span>            if (ii === 0) {</span></pre>
<pre><span class="lineno"><a href="#line_5874" id="line_5874"> 5874.</a></span><span class="count                ">   2218</span><span>                break;</span></pre>
<pre><span class="lineno"><a href="#line_5875" id="line_5875"> 5875.</a></span><span class="count                ">   2218</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_5876" id="line_5876"> 5876.</a></span><span class="count                ">   2218</span><span>            cnt += 1;</span></pre>
<pre><span class="lineno"><a href="#line_5877" id="line_5877"> 5877.</a></span><span class="count                ">   2218</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_5878" id="line_5878"> 5878.</a></span><span class="count                ">      8</span><span>        return cnt;</span></pre>
<pre><span class="lineno"><a href="#line_5879" id="line_5879"> 5879.</a></span><span class="count                ">      8</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_5880" id="line_5880"> 5880.</a></span><span class="count                ">     22</span><span>    function jslint_from_file({</span></pre>
<pre><span class="lineno"><a href="#line_5881" id="line_5881"> 5881.</a></span><span class="count                ">     22</span><span>        code,</span></pre>
<pre><span class="lineno"><a href="#line_5882" id="line_5882"> 5882.</a></span><span class="count                ">     22</span><span>        file,</span></pre>
<pre><span class="lineno"><a href="#line_5883" id="line_5883"> 5883.</a></span><span class="count                ">     22</span><span>        line_offset = 0,</span></pre>
<pre><span class="lineno"><a href="#line_5884" id="line_5884"> 5884.</a></span><span class="count                ">     22</span><span>        option = {},</span></pre>
<pre><span class="lineno"><a href="#line_5885" id="line_5885"> 5885.</a></span><span class="count                ">     22</span><span>        warnings = []</span></pre>
<pre><span class="lineno"><a href="#line_5886" id="line_5886"> 5886.</a></span><span class="count                ">     22</span><span>    }) {</span></pre>
<pre><span class="lineno"><a href="#line_5887" id="line_5887"> 5887.</a></span><span class="count                ">     22</span><span>        switch ((</span></pre>
<pre><span class="lineno"><a href="#line_5888" id="line_5888"> 5888.</a></span><span class="count                ">     22</span><span>            /\.\w+?$|$/m</span></pre>
<pre><span class="lineno"><a href="#line_5889" id="line_5889"> 5889.</a></span><span class="count                ">     22</span><span>        ).exec(file)[0]) {</span></pre>
<pre><span class="lineno"><a href="#line_5890" id="line_5890"> 5890.</a></span><span class="count                ">      5</span><span>        case &quot;.html&quot;:</span></pre>
<pre><span class="lineno"><a href="#line_5891" id="line_5891"> 5891.</a></span><span class="count                ">      5</span><span>            // recurse</span></pre>
<pre><span class="lineno"><a href="#line_5892" id="line_5892"> 5892.</a></span><span class="count                ">      5</span><span>            code.replace((</span></pre>
<pre><span class="lineno"><a href="#line_5893" id="line_5893"> 5893.</a></span><span class="count                ">      5</span><span>                /^&lt;script&gt;\n([\S\s]*?\n)&lt;\/script&gt;$/gm</span></pre>
<pre><span class="lineno"><a href="#line_5894" id="line_5894"> 5894.</a></span><span class="count                ">      5</span><span>            ), function (ignore, match1, ii) {</span></pre>
<pre><span class="lineno"><a href="#line_5895" id="line_5895"> 5895.</a></span><span class="count                ">      5</span><span>                jslint_from_file({</span></pre>
<pre><span class="lineno"><a href="#line_5896" id="line_5896"> 5896.</a></span><span class="count                ">      5</span><span>                    code: match1,</span></pre>
<pre><span class="lineno"><a href="#line_5897" id="line_5897"> 5897.</a></span><span class="count                ">      5</span><span>                    file: file + &quot;.&lt;script&gt;.js&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_5898" id="line_5898"> 5898.</a></span><span class="count                ">      5</span><span>                    line_offset: string_line_count(code.slice(0, ii)) + 1,</span></pre>
<pre><span class="lineno"><a href="#line_5899" id="line_5899"> 5899.</a></span><span class="count                ">      5</span><span>                    option: Object.assign({</span></pre>
<pre><span class="lineno"><a href="#line_5900" id="line_5900"> 5900.</a></span><span class="count                ">      5</span><span>                        browser: true</span></pre>
<pre><span class="lineno"><a href="#line_5901" id="line_5901"> 5901.</a></span><span class="count                ">      5</span><span>                    }, option)</span></pre>
<pre><span class="lineno"><a href="#line_5902" id="line_5902"> 5902.</a></span><span class="count                ">      5</span><span>                });</span></pre>
<pre><span class="lineno"><a href="#line_5903" id="line_5903"> 5903.</a></span><span class="count                ">      5</span><span>                return &quot;&quot;;</span></pre>
<pre><span class="lineno"><a href="#line_5904" id="line_5904"> 5904.</a></span><span class="count                ">      5</span><span>            });</span></pre>
<pre><span class="lineno"><a href="#line_5905" id="line_5905"> 5905.</a></span><span class="count                ">      5</span><span>            return;</span></pre>
<pre><span class="lineno"><a href="#line_5906" id="line_5906"> 5906.</a></span><span class="count                ">      2</span><span>        case &quot;.md&quot;:</span></pre>
<pre><span class="lineno"><a href="#line_5907" id="line_5907"> 5907.</a></span><span class="count                ">      2</span><span>            // recurse</span></pre>
<pre><span class="lineno"><a href="#line_5908" id="line_5908"> 5908.</a></span><span class="count                ">      2</span><span>            code.replace((</span></pre>
<pre><span class="lineno"><a href="#line_5909" id="line_5909"> 5909.</a></span><span class="count                ">      2</span><span>                /^```javascript\n([\S\s]*?\n)```$/gm</span></pre>
<pre><span class="lineno"><a href="#line_5910" id="line_5910"> 5910.</a></span><span class="count                ">      2</span><span>            ), function (ignore, match1, ii) {</span></pre>
<pre><span class="lineno"><a href="#line_5911" id="line_5911"> 5911.</a></span><span class="count                ">      2</span><span>                jslint_from_file({</span></pre>
<pre><span class="lineno"><a href="#line_5912" id="line_5912"> 5912.</a></span><span class="count                ">      2</span><span>                    code: match1,</span></pre>
<pre><span class="lineno"><a href="#line_5913" id="line_5913"> 5913.</a></span><span class="count                ">      2</span><span>                    file: file + &quot;.&lt;```javascript&gt;.js&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_5914" id="line_5914"> 5914.</a></span><span class="count                ">      2</span><span>                    line_offset: string_line_count(code.slice(0, ii)) + 1,</span></pre>
<pre><span class="lineno"><a href="#line_5915" id="line_5915"> 5915.</a></span><span class="count                ">      2</span><span>                    option</span></pre>
<pre><span class="lineno"><a href="#line_5916" id="line_5916"> 5916.</a></span><span class="count                ">      2</span><span>                });</span></pre>
<pre><span class="lineno"><a href="#line_5917" id="line_5917"> 5917.</a></span><span class="count                ">      2</span><span>                return &quot;&quot;;</span></pre>
<pre><span class="lineno"><a href="#line_5918" id="line_5918"> 5918.</a></span><span class="count                ">      2</span><span>            });</span></pre>
<pre><span class="lineno"><a href="#line_5919" id="line_5919"> 5919.</a></span><span class="count                ">      2</span><span>            return;</span></pre>
<pre><span class="lineno"><a href="#line_5920" id="line_5920"> 5920.</a></span><span class="count                ">      1</span><span>        case &quot;.sh&quot;:</span></pre>
<pre><span class="lineno"><a href="#line_5921" id="line_5921"> 5921.</a></span><span class="count                ">      1</span><span>            // recurse</span></pre>
<pre><span class="lineno"><a href="#line_5922" id="line_5922"> 5922.</a></span><span class="count                ">      1</span><span>            code.replace((</span></pre>
<pre><span class="lineno"><a href="#line_5923" id="line_5923"> 5923.</a></span><span class="count                ">      1</span><span>                /\bnode\u0020.*?-e\u0020&apos;\n([\S\s]*?\n)&apos;/gm</span></pre>
<pre><span class="lineno"><a href="#line_5924" id="line_5924"> 5924.</a></span><span class="count                ">      6</span><span>            ), function (ignore, match1, ii) {</span></pre>
<pre><span class="lineno"><a href="#line_5925" id="line_5925"> 5925.</a></span><span class="count                ">      6</span><span>                jslint_from_file({</span></pre>
<pre><span class="lineno"><a href="#line_5926" id="line_5926"> 5926.</a></span><span class="count                ">      6</span><span>                    code: match1,</span></pre>
<pre><span class="lineno"><a href="#line_5927" id="line_5927"> 5927.</a></span><span class="count                ">      6</span><span>                    file: file + &quot;.&lt;node -e&gt;.js&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_5928" id="line_5928"> 5928.</a></span><span class="count                ">      6</span><span>                    line_offset: string_line_count(code.slice(0, ii)) + 1,</span></pre>
<pre><span class="lineno"><a href="#line_5929" id="line_5929"> 5929.</a></span><span class="count                ">      6</span><span>                    option: Object.assign({</span></pre>
<pre><span class="lineno"><a href="#line_5930" id="line_5930"> 5930.</a></span><span class="count                ">      6</span><span>                        node: true</span></pre>
<pre><span class="lineno"><a href="#line_5931" id="line_5931"> 5931.</a></span><span class="count                ">      6</span><span>                    }, option)</span></pre>
<pre><span class="lineno"><a href="#line_5932" id="line_5932"> 5932.</a></span><span class="count                ">      6</span><span>                });</span></pre>
<pre><span class="lineno"><a href="#line_5933" id="line_5933"> 5933.</a></span><span class="count                ">      6</span><span>                return &quot;&quot;;</span></pre>
<pre><span class="lineno"><a href="#line_5934" id="line_5934"> 5934.</a></span><span class="count                ">      6</span><span>            });</span></pre>
<pre><span class="lineno"><a href="#line_5935" id="line_5935"> 5935.</a></span><span class="count                ">      1</span><span>            return;</span></pre>
<pre><span class="lineno"><a href="#line_5936" id="line_5936"> 5936.</a></span><span class="count                ">     14</span><span>        default:</span></pre>
<pre><span class="lineno"><a href="#line_5937" id="line_5937"> 5937.</a></span><span class="count                ">     14</span><span>            warnings = jslint(</span></pre>
<pre><span class="lineno"><a href="#line_5938" id="line_5938"> 5938.</a></span><span class="count                ">     14</span><span>                &quot;\n&quot;.repeat(line_offset) + code,</span></pre>
<pre><span class="lineno"><a href="#line_5939" id="line_5939"> 5939.</a></span><span class="count                ">     14</span><span>                option</span></pre>
<pre><span class="lineno"><a href="#line_5940" id="line_5940"> 5940.</a></span><span class="count                ">     14</span><span>            ).warnings;</span></pre>
<pre><span class="lineno"><a href="#line_5941" id="line_5941"> 5941.</a></span><span class="count                ">     14</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_5942" id="line_5942"> 5942.</a></span><span class="count                ">     14</span><span>        // print only first 10 warnings</span></pre>
<pre><span class="lineno"><a href="#line_5943" id="line_5943"> 5943.</a></span><span class="count                ">     14</span><span>        if (warnings.length &gt; 0) {</span></pre>
<pre><span class="lineno"><a href="#line_5944" id="line_5944"> 5944.</a></span><span class="count                ">      1</span><span>            exitCode = 1;</span></pre>
<pre><span class="lineno"><a href="#line_5945" id="line_5945"> 5945.</a></span><span class="count                ">      1</span><span>            // print first 10 warnings to stderr</span></pre>
<pre><span class="lineno"><a href="#line_5946" id="line_5946"> 5946.</a></span><span class="count                ">      1</span><span>            console_error(</span></pre>
<pre><span class="lineno"><a href="#line_5947" id="line_5947"> 5947.</a></span><span class="count                ">      1</span><span>                &quot;\u001b[1mjslint &quot; + file + &quot;\u001b[22m\n&quot;</span></pre>
<pre><span class="lineno"><a href="#line_5948" id="line_5948"> 5948.</a></span><span class="count                ">      4</span><span>                + warnings.slice(0, 10).map(function ({</span></pre>
<pre><span class="lineno"><a href="#line_5949" id="line_5949"> 5949.</a></span><span class="count                ">      4</span><span>                    formatted_message</span></pre>
<pre><span class="lineno"><a href="#line_5950" id="line_5950"> 5950.</a></span><span class="count                ">      4</span><span>                }) {</span></pre>
<pre><span class="lineno"><a href="#line_5951" id="line_5951"> 5951.</a></span><span class="count                ">      4</span><span>                    return formatted_message;</span></pre>
<pre><span class="lineno"><a href="#line_5952" id="line_5952"> 5952.</a></span><span class="count                ">      4</span><span>                }).join(&quot;\n&quot;)</span></pre>
<pre><span class="lineno"><a href="#line_5953" id="line_5953"> 5953.</a></span><span class="count                ">      1</span><span>            );</span></pre>
<pre><span class="lineno"><a href="#line_5954" id="line_5954"> 5954.</a></span><span class="count                ">      1</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_5955" id="line_5955"> 5955.</a></span><span class="count                ">     22</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_5956" id="line_5956"> 5956.</a></span><span class="count                ">      3</span><span>    console_error = console_error || console.error;</span></pre>
<pre><span class="lineno"><a href="#line_5957" id="line_5957"> 5957.</a></span><span class="count                ">      2</span><span>    if (source) {</span></pre>
<pre><span class="lineno"><a href="#line_5958" id="line_5958"> 5958.</a></span><span class="count                ">      2</span><span>        jslint_from_file({</span></pre>
<pre><span class="lineno"><a href="#line_5959" id="line_5959"> 5959.</a></span><span class="count                ">      2</span><span>            code: source,</span></pre>
<pre><span class="lineno"><a href="#line_5960" id="line_5960"> 5960.</a></span><span class="count                ">      2</span><span>            file,</span></pre>
<pre><span class="lineno"><a href="#line_5961" id="line_5961"> 5961.</a></span><span class="count                ">      2</span><span>            option</span></pre>
<pre><span class="lineno"><a href="#line_5962" id="line_5962"> 5962.</a></span><span class="count                ">      2</span><span>        });</span></pre>
<pre><span class="lineno"><a href="#line_5963" id="line_5963"> 5963.</a></span><span class="count                ">      2</span><span>        return;</span></pre>
<pre><span class="lineno"><a href="#line_5964" id="line_5964"> 5964.</a></span><span class="count                ">      2</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_5965" id="line_5965"> 5965.</a></span><span class="count                ">      2</span><span>    if (file === &quot;.&quot;) {</span></pre>
<pre><span class="lineno"><a href="#line_5966" id="line_5966"> 5966.</a></span><span class="count                ">      1</span><span>        file = await fs.promises.readdir(&quot;.&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_5967" id="line_5967"> 5967.</a></span><span class="count                ">     28</span><span>        await Promise.all(file.map(async function (file) {</span></pre>
<pre><span class="lineno"><a href="#line_5968" id="line_5968"> 5968.</a></span><span class="count                ">     28</span><span>            let code;</span></pre>
<pre><span class="lineno"><a href="#line_5969" id="line_5969"> 5969.</a></span><span class="count                ">     28</span><span>            let timeStart = Date.now();</span></pre>
<pre><span class="lineno"><a href="#line_5970" id="line_5970"> 5970.</a></span><span class="count                ">     28</span><span>            switch ((</span></pre>
<pre><span class="lineno"><a href="#line_5971" id="line_5971"> 5971.</a></span><span class="count                ">     28</span><span>                /\.\w+?$|$/m</span></pre>
<pre><span class="lineno"><a href="#line_5972" id="line_5972"> 5972.</a></span><span class="count                ">     28</span><span>            ).exec(file)[0]) {</span></pre>
<pre><span class="lineno"><a href="#line_5973" id="line_5973"> 5973.</a></span><span class="count                ">      4</span><span>            case &quot;.html&quot;:</span></pre>
<pre><span class="lineno"><a href="#line_5974" id="line_5974"> 5974.</a></span><span class="count                ">      9</span><span>            case &quot;.js&quot;:</span></pre>
<pre><span class="lineno"><a href="#line_5975" id="line_5975"> 5975.</a></span><span class="count                ">     10</span><span>            case &quot;.json&quot;:</span></pre>
<pre><span class="lineno"><a href="#line_5976" id="line_5976"> 5976.</a></span><span class="count                ">     12</span><span>            case &quot;.md&quot;:</span></pre>
<pre><span class="lineno"><a href="#line_5977" id="line_5977"> 5977.</a></span><span class="count                ">     12</span><span>            case &quot;.mjs&quot;:</span></pre>
<pre><span class="lineno"><a href="#line_5978" id="line_5978"> 5978.</a></span><span class="count                ">     13</span><span>            case &quot;.sh&quot;:</span></pre>
<pre><span class="lineno"><a href="#line_5979" id="line_5979"> 5979.</a></span><span class="count                ">     13</span><span>                break;</span></pre>
<pre><span class="lineno"><a href="#line_5980" id="line_5980"> 5980.</a></span><span class="count                ">     15</span><span>            default:</span></pre>
<pre><span class="lineno"><a href="#line_5981" id="line_5981"> 5981.</a></span><span class="count                ">     15</span><span>                return;</span></pre>
<pre><span class="lineno"><a href="#line_5982" id="line_5982"> 5982.</a></span><span class="count                ">     13</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_5983" id="line_5983"> 5983.</a></span><span class="count                ">     13</span><span>            try {</span></pre>
<pre><span class="lineno"><a href="#line_5984" id="line_5984"> 5984.</a></span><span class="count                ">     13</span><span>                code = await fs.promises.readFile(file, &quot;utf8&quot;);</span></pre>
<pre><span class="lineno"><a href="#line_5985" id="line_5985"> 5985.</a></span><span class="count                ">     12</span><span>            } catch (ignore) {</span></pre>
<pre><span class="lineno"><a href="#line_5986" id="line_5986"> 5986.</a></span><span class="count                ">      1</span><span>                return;</span></pre>
<pre><span class="lineno"><a href="#line_5987" id="line_5987"> 5987.</a></span><span class="count                ">     12</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_5988" id="line_5988"> 5988.</a></span><span class="count                ">     12</span><span>            if (!(</span></pre>
<pre><span class="lineno"><a href="#line_5989" id="line_5989"> 5989.</a></span><span class="count                ">     12</span><span>                !(</span></pre>
<pre><span class="lineno"><a href="#line_5990" id="line_5990"> 5990.</a></span><span class="count                ">     12</span><span>                    /\b(?:lock|min|raw|rollup)\b/</span></pre>
<pre><span class="lineno"><a href="#line_5991" id="line_5991"> 5991.</a></span><span class="count                ">     12</span><span>                ).test(file) &amp;&amp; code &amp;&amp; code.length &lt; 1048576</span></pre>
<pre><span class="lineno"><a href="#line_5992" id="line_5992"> 5992.</a></span><span class="count                ">      1</span><span>            )) {</span></pre>
<pre><span class="lineno"><a href="#line_5993" id="line_5993"> 5993.</a></span><span class="count                ">      1</span><span>                return;</span></pre>
<pre><span class="lineno"><a href="#line_5994" id="line_5994"> 5994.</a></span><span class="count                ">     11</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_5995" id="line_5995"> 5995.</a></span><span class="count                ">     11</span><span>            jslint_from_file({</span></pre>
<pre><span class="lineno"><a href="#line_5996" id="line_5996"> 5996.</a></span><span class="count                ">     11</span><span>                code,</span></pre>
<pre><span class="lineno"><a href="#line_5997" id="line_5997"> 5997.</a></span><span class="count                ">     11</span><span>                file,</span></pre>
<pre><span class="lineno"><a href="#line_5998" id="line_5998"> 5998.</a></span><span class="count                ">     11</span><span>                option</span></pre>
<pre><span class="lineno"><a href="#line_5999" id="line_5999"> 5999.</a></span><span class="count                ">     11</span><span>            });</span></pre>
<pre><span class="lineno"><a href="#line_6000" id="line_6000"> 6000.</a></span><span class="count                ">     11</span><span>            console_error(</span></pre>
<pre><span class="lineno"><a href="#line_6001" id="line_6001"> 6001.</a></span><span class="count                ">     11</span><span>                &quot;jslint - &quot; + (Date.now() - timeStart) + &quot;ms - &quot; + file</span></pre>
<pre><span class="lineno"><a href="#line_6002" id="line_6002"> 6002.</a></span><span class="count                ">     11</span><span>            );</span></pre>
<pre><span class="lineno"><a href="#line_6003" id="line_6003"> 6003.</a></span><span class="count                ">     11</span><span>        }));</span></pre>
<pre><span class="lineno"><a href="#line_6004" id="line_6004"> 6004.</a></span><span class="count                ">      1</span><span>    } else {</span></pre>
<pre><span class="lineno"><a href="#line_6005" id="line_6005"> 6005.</a></span><span class="count                ">      1</span><span>        jslint_from_file({</span></pre>
<pre><span class="lineno"><a href="#line_6006" id="line_6006"> 6006.</a></span><span class="count                ">      1</span><span>            code: await fs.promises.readFile(file, &quot;utf8&quot;),</span></pre>
<pre><span class="lineno"><a href="#line_6007" id="line_6007"> 6007.</a></span><span class="count                ">      1</span><span>            file,</span></pre>
<pre><span class="lineno"><a href="#line_6008" id="line_6008"> 6008.</a></span><span class="count                ">      1</span><span>            option</span></pre>
<pre><span class="lineno"><a href="#line_6009" id="line_6009"> 6009.</a></span><span class="count                ">      1</span><span>        });</span></pre>
<pre><span class="lineno"><a href="#line_6010" id="line_6010"> 6010.</a></span><span class="count                ">      2</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_6011" id="line_6011"> 6011.</a></span><span class="count                ">      2</span><span>    return exitCode;</span></pre>
<pre><span class="lineno"><a href="#line_6012" id="line_6012"> 6012.</a></span><span class="count                ">      2</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_6013" id="line_6013"> 6013.</a></span><span class="count                ">    394</span><span>export default Object.freeze(function (</span></pre>
<pre><span class="lineno"><a href="#line_6014" id="line_6014"> 6014.</a></span><span class="count                ">    394</span><span>    source = &quot;&quot;,</span></pre>
<pre><span class="lineno"><a href="#line_6015" id="line_6015"> 6015.</a></span><span class="count                ">    394</span><span>    option_object = empty(),</span></pre>
<pre><span class="lineno"><a href="#line_6016" id="line_6016"> 6016.</a></span><span class="count                ">    394</span><span>    global_array = []</span></pre>
<pre><span class="lineno"><a href="#line_6017" id="line_6017"> 6017.</a></span><span class="count                ">    394</span><span>) {</span></pre>
<pre><span class="lineno"><a href="#line_6018" id="line_6018"> 6018.</a></span><span class="count                ">      3</span><span>    if (option_object.cli_mode) {</span></pre>
<pre><span class="lineno"><a href="#line_6019" id="line_6019"> 6019.</a></span><span class="count                ">      3</span><span>        return cli(Object.assign({</span></pre>
<pre><span class="lineno"><a href="#line_6020" id="line_6020"> 6020.</a></span><span class="count                ">      3</span><span>            source</span></pre>
<pre><span class="lineno"><a href="#line_6021" id="line_6021"> 6021.</a></span><span class="count                ">      3</span><span>        }, option_object));</span></pre>
<pre><span class="lineno"><a href="#line_6022" id="line_6022"> 6022.</a></span><span class="count                ">    391</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_6023" id="line_6023"> 6023.</a></span><span class="count                ">    391</span><span>    return jslint(source, option_object, global_array);</span></pre>
<pre><span class="lineno"><a href="#line_6024" id="line_6024"> 6024.</a></span><span class="count                ">    391</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_6025" id="line_6025"> 6025.</a></span><span class="count                ">      1</span><span>// feature-detect nodejs-cli</span></pre>
<pre><span class="lineno"><a href="#line_6026" id="line_6026"> 6026.</a></span><span class="count                ">      1</span><span>if (</span></pre>
<pre><span class="lineno"><a href="#line_6027" id="line_6027"> 6027.</a></span><span class="count                ">      1</span><span>    typeof process === &quot;object&quot;</span></pre>
<pre><span class="lineno"><a href="#line_6028" id="line_6028"> 6028.</a></span><span class="count                ">      1</span><span>    // uncomment when nodejs v12 is no longer used in ci</span></pre>
<pre><span class="lineno"><a href="#line_6029" id="line_6029"> 6029.</a></span><span class="count                ">      1</span><span>    // &amp;&amp; typeof process?.versions?.node === &quot;string&quot;</span></pre>
<pre><span class="lineno"><a href="#line_6030" id="line_6030"> 6030.</a></span><span class="count                ">      1</span><span>    &amp;&amp; process &amp;&amp; process.versions</span></pre>
<pre><span class="lineno"><a href="#line_6031" id="line_6031"> 6031.</a></span><span class="count                ">      1</span><span>    &amp;&amp; typeof process.versions.node === &quot;string&quot;</span></pre>
<pre><span class="lineno"><a href="#line_6032" id="line_6032"> 6032.</a></span><span class="count                ">      1</span><span>    &amp;&amp; (</span></pre>
<pre><span class="lineno"><a href="#line_6033" id="line_6033"> 6033.</a></span><span class="count                ">      1</span><span>        (/\bjslint.m?js$/m).test(process.argv[1])</span></pre>
<pre><span class="lineno"><a href="#line_6034" id="line_6034"> 6034.</a></span><span class="count                ">      1</span><span>        || process.env.JSLINT_CLI === &quot;1&quot;</span></pre>
<pre><span class="lineno"><a href="#line_6035" id="line_6035"> 6035.</a></span><span class="count                ">      1</span><span>    )</span></pre>
<pre><span class="lineno"><a href="#line_6036" id="line_6036"> 6036.</a></span><span class="count                ">      1</span><span>) {</span></pre>
<pre><span class="lineno"><a href="#line_6037" id="line_6037"> 6037.</a></span><span class="count                ">      1</span><span>    // run cli</span></pre>
<pre><span class="lineno"><a href="#line_6038" id="line_6038"> 6038.</a></span><span class="count                ">      1</span><span>    cli({</span></pre>
<pre><span class="lineno"><a href="#line_6039" id="line_6039"> 6039.</a></span><span class="count                ">      1</span><span>        file: process.argv[2]</span></pre>
<pre><span class="lineno"><a href="#line_6040" id="line_6040"> 6040.</a></span><span class="count                ">      1</span><span>    }).then(function (exitCode) {</span></pre>
<pre><span class="lineno"><a href="#line_6041" id="line_6041"> 6041.</a></span><span class="count                ">      1</span><span>        process.exit(exitCode);</span></pre>
<pre><span class="lineno"><a href="#line_6042" id="line_6042"> 6042.</a></span><span class="count                ">      1</span><span>    });</span></pre>
<pre><span class="lineno"><a href="#line_6043" id="line_6043"> 6043.</a></span><span class="count                ">      1</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_6044" id="line_6044"> 6044.</a></span><span class="count                ">      1</span><span></span></pre>

</div>
<div class="coverageFooter">
</div>
</body>
</html>
