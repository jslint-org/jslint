<!DOCTYPE html>
<html lang="en">
<head>
<title>V8 Coverage Report</title>
<style>
/* jslint utility2:true */
/*csslint ignore:start*/
.coverage,
.coverage a,
.coverage div,
.coverage pre,
.coverage span,
.coverage table,
.coverage tbody,
.coverage td,
.coverage th,
.coverage thead,
.coverage tr {
    box-sizing: border-box;
    font-family: monospace;
}
/*csslint ignore:end*/

/* css - coverage_report - general */
body {
    margin: 0;
}
.coverage pre {
    margin: 5px 0;
}
.coverage table {
    border-collapse: collapse;
}
.coverage td,
.coverage th {
    border: 1px solid #777;
    line-height: 20px;
    margin: 0;
    padding: 5px 10px;
}
.coverage td span {
    display: inline-block;
    width: 100%;
}
.coverage .content {
    padding: 0 5px;
}
.coverage .content a {
    text-decoration: none;
}
.coverage .count {
    margin: 0 5px;
    padding: 0 5px;
}
.coverage .footer,
.coverage .header {
    padding: 20px;
}
.coverage .footer {
    text-align: center;
}
.coverage .percentbar {
    height: 12px;
    margin: 2px 0;
    min-width: 200px;
    position: relative;
    width: 100%;
}
.coverage .percentbar div {
    height: 100%;
    position: absolute;
}
.coverage .title {
    font-size: large;
    font-weight: bold;
    margin-bottom: 10px;
}

/* css - coverage_report - color */
.coverage td,
.coverage th {
    background: #fff;
}
.coverage .count,
.coverage .coverageHigh {
    background: #9d9;
}
.coverage .count {
    color: #666;
}
.coverage .coverageIgnore {
    background: #ccc;
}
.coverage .coverageLow,
.coverage .uncovered {
    background: #ebb;
}
.coverage .coverageMedium {
    background: #fd7;
}
.coverage .footer,
.coverage .header,
.coverage .lineno {
    background: #ddd;
}
.coverage .percentbar {
    background: #999;
}
.coverage .percentbar div {
    background: #666;
}

/* css - coverage_report - important */
.coverage pre:hover span,
.coverage tr:hover td {
    background: #7d7;
}
.coverage pre:hover span.uncovered,
.coverage tr:hover td.coverageLow {
    background: #f99;
}
</style>
</head>
<body class="coverage">
<!-- header start -->
<div class="header">
<div class="title">V8 Coverage Report</div>
<table>
<thead>
    <tr>
    <th>Files covered</th>
    <th>Lines</th>
    <th>Remaining</th>
    </tr>
</thead>
<tbody>
<tr>
    <td class="coverageHigh">
            <a href="../index.html">. / </a>lib/sqlite3.js<br>
        <div class="percentbar">
            <div style="width: 97.11%;"></div>
        </div>
    </td>
    <td style="text-align: right;">
         97.11 %<br>
        202 / 208
    </td>
    <td style="text-align: right;">
        <br>
        6 / 208
    </td>
    </tr>
</tbody>
</table>
</div>
<!-- header end -->
<!-- content start -->
<div class="content">
<pre><span class="lineno"><a href="#line_1" id="line_1">    1.</a></span><span class="count                ">      2</span><span>const path = require('path');</span></pre>
<pre><span class="lineno"><a href="#line_2" id="line_2">    2.</a></span><span class="count                ">      2</span><span>const sqlite3 = require('./sqlite3-binding.js');</span></pre>
<pre><span class="lineno"><a href="#line_3" id="line_3">    3.</a></span><span class="count                ">      2</span><span>const EventEmitter = require('events').EventEmitter;</span></pre>
<pre><span class="lineno"><a href="#line_4" id="line_4">    4.</a></span><span class="count                ">      2</span><span>module.exports = exports = sqlite3;</span></pre>
<pre><span class="lineno"><a href="#line_5" id="line_5">    5.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_6" id="line_6">    6.</a></span><span class="count                ">     12</span><span>function normalizeMethod (fn) {</span></pre>
<pre><span class="lineno"><a href="#line_7" id="line_7">    7.</a></span><span class="count                ">   4025</span><span>    return function (sql) {</span></pre>
<pre><span class="lineno"><a href="#line_8" id="line_8">    8.</a></span><span class="count                ">   4025</span><span>        let errBack;</span></pre>
<pre><span class="lineno"><a href="#line_9" id="line_9">    9.</a></span><span class="count                ">   4025</span><span>        const args = Array.prototype.slice.call(arguments, 1);</span></pre>
<pre><span class="lineno"><a href="#line_10" id="line_10">   10.</a></span><span class="count                ">   4025</span><span></span></pre>
<pre><span class="lineno"><a href="#line_11" id="line_11">   11.</a></span><span class="count                ">   1119</span><span>        if (typeof args[args.length - 1] === 'function') {</span></pre>
<pre><span class="lineno"><a href="#line_12" id="line_12">   12.</a></span><span class="count                ">   1119</span><span>            const callback = args[args.length - 1];</span></pre>
<pre><span class="lineno"><a href="#line_13" id="line_13">   13.</a></span><span class="count                ">   1119</span><span>            errBack = function(err) {</span></pre>
<pre><span class="lineno"><a href="#line_14" id="line_14">   14.</a></span><span class="count                ">   1119</span><span>                if (err) {</span></pre>
<pre><span class="lineno"><a href="#line_15" id="line_15">   15.</a></span><span class="count                ">   1119</span><span>                    callback(err);</span></pre>
<pre><span class="lineno"><a href="#line_16" id="line_16">   16.</a></span><span class="count                ">   1119</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_17" id="line_17">   17.</a></span><span class="count                ">   1119</span><span>            };</span></pre>
<pre><span class="lineno"><a href="#line_18" id="line_18">   18.</a></span><span class="count                ">   1119</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_19" id="line_19">   19.</a></span><span class="count                ">   4025</span><span>        const statement = new Statement(this, sql, errBack);</span></pre>
<pre><span class="lineno"><a href="#line_20" id="line_20">   20.</a></span><span class="count                ">   4025</span><span>        return fn.call(this, statement, args);</span></pre>
<pre><span class="lineno"><a href="#line_21" id="line_21">   21.</a></span><span class="count                ">   4025</span><span>    };</span></pre>
<pre><span class="lineno"><a href="#line_22" id="line_22">   22.</a></span><span class="count                ">     12</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_23" id="line_23">   23.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_24" id="line_24">   24.</a></span><span class="count                ">      6</span><span>function inherits(target, source) {</span></pre>
<pre><span class="lineno"><a href="#line_25" id="line_25">   25.</a></span><span class="count                ">      6</span><span>    for (const k in source.prototype)</span></pre>
<pre><span class="lineno"><a href="#line_26" id="line_26">   26.</a></span><span class="count                ">    108</span><span>        target.prototype[k] = source.prototype[k];</span></pre>
<pre><span class="lineno"><a href="#line_27" id="line_27">   27.</a></span><span class="count                ">      6</span><span>}</span></pre>
<pre><span class="lineno"><a href="#line_28" id="line_28">   28.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_29" id="line_29">   29.</a></span><span class="count                ">      2</span><span>sqlite3.cached = {</span></pre>
<pre><span class="lineno"><a href="#line_30" id="line_30">   30.</a></span><span class="count                ">      4</span><span>    Database: function(file, a, b) {</span></pre>
<pre><span class="lineno"><a href="#line_31" id="line_31">   31.</a></span><span class="count                uncovered">     -0</span><span>        if (file === '' || file === ':memory:') </span><span class="uncovered">{</span></pre>
<pre><span class="lineno"><a href="#line_32" id="line_32">   32.</a></span><span class="count                uncovered">     -0</span><span></span><span class="uncovered">            // Don't cache special databases.</span></pre>
<pre><span class="lineno"><a href="#line_33" id="line_33">   33.</a></span><span class="count                uncovered">     -0</span><span></span><span class="uncovered">            return new Database(file, a, b);</span></pre>
<pre><span class="lineno"><a href="#line_34" id="line_34">   34.</a></span><span class="count                uncovered">     -0</span><span></span><span class="uncovered">        }</span></pre>
<pre><span class="lineno"><a href="#line_35" id="line_35">   35.</a></span><span class="count                ">      4</span><span></span></pre>
<pre><span class="lineno"><a href="#line_36" id="line_36">   36.</a></span><span class="count                ">      4</span><span>        let db;</span></pre>
<pre><span class="lineno"><a href="#line_37" id="line_37">   37.</a></span><span class="count                ">      4</span><span>        file = path.resolve(file);</span></pre>
<pre><span class="lineno"><a href="#line_38" id="line_38">   38.</a></span><span class="count                ">      4</span><span></span></pre>
<pre><span class="lineno"><a href="#line_39" id="line_39">   39.</a></span><span class="count                ">      2</span><span>        if (!sqlite3.cached.objects[file]) {</span></pre>
<pre><span class="lineno"><a href="#line_40" id="line_40">   40.</a></span><span class="count                ">      2</span><span>            db = sqlite3.cached.objects[file] = new Database(file, a, b);</span></pre>
<pre><span class="lineno"><a href="#line_41" id="line_41">   41.</a></span><span class="count                ">      2</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_42" id="line_42">   42.</a></span><span class="count                ">      2</span><span>        else {</span></pre>
<pre><span class="lineno"><a href="#line_43" id="line_43">   43.</a></span><span class="count                ">      2</span><span>            // Make sure the callback is called.</span></pre>
<pre><span class="lineno"><a href="#line_44" id="line_44">   44.</a></span><span class="count                ">      2</span><span>            db = sqlite3.cached.objects[file];</span></pre>
<pre><span class="lineno"><a href="#line_45" id="line_45">   45.</a></span><span class="count                uncovered">     -0</span><span>            const callback = (typeof a === 'number') </span><span class="uncovered">? b</span><span> : a;</span></pre>
<pre><span class="lineno"><a href="#line_46" id="line_46">   46.</a></span><span class="count                ">      2</span><span>            if (typeof callback === 'function') {</span></pre>
<pre><span class="lineno"><a href="#line_47" id="line_47">   47.</a></span><span class="count                ">      2</span><span>                function cb() { callback.call(db, null); }</span></pre>
<pre><span class="lineno"><a href="#line_48" id="line_48">   48.</a></span><span class="count                ">      2</span><span>                if (db.open) process.nextTick(cb);</span></pre>
<pre><span class="lineno"><a href="#line_49" id="line_49">   49.</a></span><span class="count                ">      2</span><span>                else db.once('open', cb);</span></pre>
<pre><span class="lineno"><a href="#line_50" id="line_50">   50.</a></span><span class="count                ">      2</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_51" id="line_51">   51.</a></span><span class="count                ">      2</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_52" id="line_52">   52.</a></span><span class="count                ">      4</span><span></span></pre>
<pre><span class="lineno"><a href="#line_53" id="line_53">   53.</a></span><span class="count                ">      4</span><span>        return db;</span></pre>
<pre><span class="lineno"><a href="#line_54" id="line_54">   54.</a></span><span class="count                ">      4</span><span>    },</span></pre>
<pre><span class="lineno"><a href="#line_55" id="line_55">   55.</a></span><span class="count                ">      2</span><span>    objects: {}</span></pre>
<pre><span class="lineno"><a href="#line_56" id="line_56">   56.</a></span><span class="count                ">      2</span><span>};</span></pre>
<pre><span class="lineno"><a href="#line_57" id="line_57">   57.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_58" id="line_58">   58.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_59" id="line_59">   59.</a></span><span class="count                ">      2</span><span>const Database = sqlite3.Database;</span></pre>
<pre><span class="lineno"><a href="#line_60" id="line_60">   60.</a></span><span class="count                ">      2</span><span>const Statement = sqlite3.Statement;</span></pre>
<pre><span class="lineno"><a href="#line_61" id="line_61">   61.</a></span><span class="count                ">      2</span><span>const Backup = sqlite3.Backup;</span></pre>
<pre><span class="lineno"><a href="#line_62" id="line_62">   62.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_63" id="line_63">   63.</a></span><span class="count                ">      2</span><span>inherits(Database, EventEmitter);</span></pre>
<pre><span class="lineno"><a href="#line_64" id="line_64">   64.</a></span><span class="count                ">      2</span><span>inherits(Statement, EventEmitter);</span></pre>
<pre><span class="lineno"><a href="#line_65" id="line_65">   65.</a></span><span class="count                ">      2</span><span>inherits(Backup, EventEmitter);</span></pre>
<pre><span class="lineno"><a href="#line_66" id="line_66">   66.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_67" id="line_67">   67.</a></span><span class="count                ">      2</span><span>// Database#prepare(sql, [bind1, bind2, ...], [callback])</span></pre>
<pre><span class="lineno"><a href="#line_68" id="line_68">   68.</a></span><span class="count                ">   1898</span><span>Database.prototype.prepare = normalizeMethod(function(statement, params) {</span></pre>
<pre><span class="lineno"><a href="#line_69" id="line_69">   69.</a></span><span class="count                ">   1898</span><span>    return params.length</span></pre>
<pre><span class="lineno"><a href="#line_70" id="line_70">   70.</a></span><span class="count                ">      7</span><span>        ? statement.bind.apply(statement, params)</span></pre>
<pre><span class="lineno"><a href="#line_71" id="line_71">   71.</a></span><span class="count                ">   1891</span><span>        : statement;</span></pre>
<pre><span class="lineno"><a href="#line_72" id="line_72">   72.</a></span><span class="count                ">   1898</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_73" id="line_73">   73.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_74" id="line_74">   74.</a></span><span class="count                ">      2</span><span>// Database#run(sql, [bind1, bind2, ...], [callback])</span></pre>
<pre><span class="lineno"><a href="#line_75" id="line_75">   75.</a></span><span class="count                ">   2074</span><span>Database.prototype.run = normalizeMethod(function(statement, params) {</span></pre>
<pre><span class="lineno"><a href="#line_76" id="line_76">   76.</a></span><span class="count                ">   2074</span><span>    statement.run.apply(statement, params).finalize();</span></pre>
<pre><span class="lineno"><a href="#line_77" id="line_77">   77.</a></span><span class="count                ">   2074</span><span>    return this;</span></pre>
<pre><span class="lineno"><a href="#line_78" id="line_78">   78.</a></span><span class="count                ">   2074</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_79" id="line_79">   79.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_80" id="line_80">   80.</a></span><span class="count                ">      2</span><span>// Database#get(sql, [bind1, bind2, ...], [callback])</span></pre>
<pre><span class="lineno"><a href="#line_81" id="line_81">   81.</a></span><span class="count                ">     35</span><span>Database.prototype.get = normalizeMethod(function(statement, params) {</span></pre>
<pre><span class="lineno"><a href="#line_82" id="line_82">   82.</a></span><span class="count                ">     35</span><span>    statement.get.apply(statement, params).finalize();</span></pre>
<pre><span class="lineno"><a href="#line_83" id="line_83">   83.</a></span><span class="count                ">     35</span><span>    return this;</span></pre>
<pre><span class="lineno"><a href="#line_84" id="line_84">   84.</a></span><span class="count                ">     35</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_85" id="line_85">   85.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_86" id="line_86">   86.</a></span><span class="count                ">      2</span><span>// Database#all(sql, [bind1, bind2, ...], [callback])</span></pre>
<pre><span class="lineno"><a href="#line_87" id="line_87">   87.</a></span><span class="count                ">      9</span><span>Database.prototype.all = normalizeMethod(function(statement, params) {</span></pre>
<pre><span class="lineno"><a href="#line_88" id="line_88">   88.</a></span><span class="count                ">      9</span><span>    statement.all.apply(statement, params).finalize();</span></pre>
<pre><span class="lineno"><a href="#line_89" id="line_89">   89.</a></span><span class="count                ">      9</span><span>    return this;</span></pre>
<pre><span class="lineno"><a href="#line_90" id="line_90">   90.</a></span><span class="count                ">      9</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_91" id="line_91">   91.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_92" id="line_92">   92.</a></span><span class="count                ">      2</span><span>// Database#each(sql, [bind1, bind2, ...], [callback], [complete])</span></pre>
<pre><span class="lineno"><a href="#line_93" id="line_93">   93.</a></span><span class="count                ">      7</span><span>Database.prototype.each = normalizeMethod(function(statement, params) {</span></pre>
<pre><span class="lineno"><a href="#line_94" id="line_94">   94.</a></span><span class="count                ">      7</span><span>    statement.each.apply(statement, params).finalize();</span></pre>
<pre><span class="lineno"><a href="#line_95" id="line_95">   95.</a></span><span class="count                ">      7</span><span>    return this;</span></pre>
<pre><span class="lineno"><a href="#line_96" id="line_96">   96.</a></span><span class="count                ">      7</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_97" id="line_97">   97.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_98" id="line_98">   98.</a></span><span class="count                ">      2</span><span>Database.prototype.map = normalizeMethod(function(statement, params) {</span></pre>
<pre><span class="lineno"><a href="#line_99" id="line_99">   99.</a></span><span class="count                ">      2</span><span>    statement.map.apply(statement, params).finalize();</span></pre>
<pre><span class="lineno"><a href="#line_100" id="line_100">  100.</a></span><span class="count                ">      2</span><span>    return this;</span></pre>
<pre><span class="lineno"><a href="#line_101" id="line_101">  101.</a></span><span class="count                ">      2</span><span>});</span></pre>
<pre><span class="lineno"><a href="#line_102" id="line_102">  102.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_103" id="line_103">  103.</a></span><span class="count                ">      2</span><span>// Database#backup(filename, [callback])</span></pre>
<pre><span class="lineno"><a href="#line_104" id="line_104">  104.</a></span><span class="count                ">      2</span><span>// Database#backup(filename, destName, sourceName, filenameIsDest, [callback])</span></pre>
<pre><span class="lineno"><a href="#line_105" id="line_105">  105.</a></span><span class="count                ">     15</span><span>Database.prototype.backup = function() {</span></pre>
<pre><span class="lineno"><a href="#line_106" id="line_106">  106.</a></span><span class="count                ">     15</span><span>    let backup;</span></pre>
<pre><span class="lineno"><a href="#line_107" id="line_107">  107.</a></span><span class="count                ">     13</span><span>    if (arguments.length &lt;= 2) {</span></pre>
<pre><span class="lineno"><a href="#line_108" id="line_108">  108.</a></span><span class="count                ">     13</span><span>        // By default, we write the main database out to the main database of the named file.</span></pre>
<pre><span class="lineno"><a href="#line_109" id="line_109">  109.</a></span><span class="count                ">     13</span><span>        // This is the most likely use of the backup api.</span></pre>
<pre><span class="lineno"><a href="#line_110" id="line_110">  110.</a></span><span class="count                ">     13</span><span>        backup = new Backup(this, arguments[0], 'main', 'main', true, arguments[1]);</span></pre>
<pre><span class="lineno"><a href="#line_111" id="line_111">  111.</a></span><span class="count                ">     13</span><span>    } else {</span></pre>
<pre><span class="lineno"><a href="#line_112" id="line_112">  112.</a></span><span class="count                ">      2</span><span>        // Otherwise, give the user full control over the sqlite3_backup_init arguments.</span></pre>
<pre><span class="lineno"><a href="#line_113" id="line_113">  113.</a></span><span class="count                ">      2</span><span>        backup = new Backup(this, arguments[0], arguments[1], arguments[2], arguments[3], arguments[4]);</span></pre>
<pre><span class="lineno"><a href="#line_114" id="line_114">  114.</a></span><span class="count                ">      2</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_115" id="line_115">  115.</a></span><span class="count                ">     15</span><span>    // Per the sqlite docs, exclude the following errors as non-fatal by default.</span></pre>
<pre><span class="lineno"><a href="#line_116" id="line_116">  116.</a></span><span class="count                ">     15</span><span>    backup.retryErrors = [sqlite3.BUSY, sqlite3.LOCKED];</span></pre>
<pre><span class="lineno"><a href="#line_117" id="line_117">  117.</a></span><span class="count                ">     15</span><span>    return backup;</span></pre>
<pre><span class="lineno"><a href="#line_118" id="line_118">  118.</a></span><span class="count                ">     15</span><span>};</span></pre>
<pre><span class="lineno"><a href="#line_119" id="line_119">  119.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_120" id="line_120">  120.</a></span><span class="count                ">      2</span><span>Statement.prototype.map = function() {</span></pre>
<pre><span class="lineno"><a href="#line_121" id="line_121">  121.</a></span><span class="count                ">      2</span><span>    const params = Array.prototype.slice.call(arguments);</span></pre>
<pre><span class="lineno"><a href="#line_122" id="line_122">  122.</a></span><span class="count                ">      2</span><span>    const callback = params.pop();</span></pre>
<pre><span class="lineno"><a href="#line_123" id="line_123">  123.</a></span><span class="count                ">      2</span><span>    params.push(function(err, rows) {</span></pre>
<pre><span class="lineno"><a href="#line_124" id="line_124">  124.</a></span><span class="count                uncovered">     -0</span><span>        if (err) </span><span class="uncovered">return callback(err);</span></pre>
<pre><span class="lineno"><a href="#line_125" id="line_125">  125.</a></span><span class="count                ">      2</span><span>        const result = {};</span></pre>
<pre><span class="lineno"><a href="#line_126" id="line_126">  126.</a></span><span class="count                ">      2</span><span>        if (rows.length) {</span></pre>
<pre><span class="lineno"><a href="#line_127" id="line_127">  127.</a></span><span class="count                ">      2</span><span>            const keys = Object.keys(rows[0]);</span></pre>
<pre><span class="lineno"><a href="#line_128" id="line_128">  128.</a></span><span class="count                ">      2</span><span>            const key = keys[0];</span></pre>
<pre><span class="lineno"><a href="#line_129" id="line_129">  129.</a></span><span class="count                ">      1</span><span>            if (keys.length &gt; 2) {</span></pre>
<pre><span class="lineno"><a href="#line_130" id="line_130">  130.</a></span><span class="count                ">      1</span><span>                // Value is an object</span></pre>
<pre><span class="lineno"><a href="#line_131" id="line_131">  131.</a></span><span class="count                ">      5</span><span>                for (let i = 0; i &lt; rows.length; i++) {</span></pre>
<pre><span class="lineno"><a href="#line_132" id="line_132">  132.</a></span><span class="count                ">      5</span><span>                    result[rows[i][key]] = rows[i];</span></pre>
<pre><span class="lineno"><a href="#line_133" id="line_133">  133.</a></span><span class="count                ">      5</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_134" id="line_134">  134.</a></span><span class="count                ">      1</span><span>            } else {</span></pre>
<pre><span class="lineno"><a href="#line_135" id="line_135">  135.</a></span><span class="count                ">      1</span><span>                const value = keys[1];</span></pre>
<pre><span class="lineno"><a href="#line_136" id="line_136">  136.</a></span><span class="count                ">      1</span><span>                // Value is a plain value</span></pre>
<pre><span class="lineno"><a href="#line_137" id="line_137">  137.</a></span><span class="count                ">      5</span><span>                for (let i = 0; i &lt; rows.length; i++) {</span></pre>
<pre><span class="lineno"><a href="#line_138" id="line_138">  138.</a></span><span class="count                ">      5</span><span>                    result[rows[i][key]] = rows[i][value];</span></pre>
<pre><span class="lineno"><a href="#line_139" id="line_139">  139.</a></span><span class="count                ">      5</span><span>                }</span></pre>
<pre><span class="lineno"><a href="#line_140" id="line_140">  140.</a></span><span class="count                ">      1</span><span>            }</span></pre>
<pre><span class="lineno"><a href="#line_141" id="line_141">  141.</a></span><span class="count                ">      2</span><span>        }</span></pre>
<pre><span class="lineno"><a href="#line_142" id="line_142">  142.</a></span><span class="count                ">      2</span><span>        callback(err, result);</span></pre>
<pre><span class="lineno"><a href="#line_143" id="line_143">  143.</a></span><span class="count                ">      2</span><span>    });</span></pre>
<pre><span class="lineno"><a href="#line_144" id="line_144">  144.</a></span><span class="count                ">      2</span><span>    return this.all.apply(this, params);</span></pre>
<pre><span class="lineno"><a href="#line_145" id="line_145">  145.</a></span><span class="count                ">      2</span><span>};</span></pre>
<pre><span class="lineno"><a href="#line_146" id="line_146">  146.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_147" id="line_147">  147.</a></span><span class="count                ">      2</span><span>let isVerbose = false;</span></pre>
<pre><span class="lineno"><a href="#line_148" id="line_148">  148.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_149" id="line_149">  149.</a></span><span class="count                ">      2</span><span>const supportedEvents = [ 'trace', 'profile', 'insert', 'update', 'delete' ];</span></pre>
<pre><span class="lineno"><a href="#line_150" id="line_150">  150.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_151" id="line_151">  151.</a></span><span class="count                ">      7</span><span>Database.prototype.addListener = Database.prototype.on = function(type) {</span></pre>
<pre><span class="lineno"><a href="#line_152" id="line_152">  152.</a></span><span class="count                ">      7</span><span>    const val = EventEmitter.prototype.addListener.apply(this, arguments);</span></pre>
<pre><span class="lineno"><a href="#line_153" id="line_153">  153.</a></span><span class="count                ">      4</span><span>    if (supportedEvents.indexOf(type) &gt;= 0) {</span></pre>
<pre><span class="lineno"><a href="#line_154" id="line_154">  154.</a></span><span class="count                ">      4</span><span>        this.configure(type, true);</span></pre>
<pre><span class="lineno"><a href="#line_155" id="line_155">  155.</a></span><span class="count                ">      4</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_156" id="line_156">  156.</a></span><span class="count                ">      7</span><span>    return val;</span></pre>
<pre><span class="lineno"><a href="#line_157" id="line_157">  157.</a></span><span class="count                ">      7</span><span>};</span></pre>
<pre><span class="lineno"><a href="#line_158" id="line_158">  158.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_159" id="line_159">  159.</a></span><span class="count                ">      2</span><span>Database.prototype.removeListener = function(type) {</span></pre>
<pre><span class="lineno"><a href="#line_160" id="line_160">  160.</a></span><span class="count                ">      2</span><span>    const val = EventEmitter.prototype.removeListener.apply(this, arguments);</span></pre>
<pre><span class="lineno"><a href="#line_161" id="line_161">  161.</a></span><span class="count                ">      1</span><span>    if (supportedEvents.indexOf(type) &gt;= 0 &amp;&amp; !this._events[type]) {</span></pre>
<pre><span class="lineno"><a href="#line_162" id="line_162">  162.</a></span><span class="count                ">      1</span><span>        this.configure(type, false);</span></pre>
<pre><span class="lineno"><a href="#line_163" id="line_163">  163.</a></span><span class="count                ">      1</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_164" id="line_164">  164.</a></span><span class="count                ">      2</span><span>    return val;</span></pre>
<pre><span class="lineno"><a href="#line_165" id="line_165">  165.</a></span><span class="count                ">      2</span><span>};</span></pre>
<pre><span class="lineno"><a href="#line_166" id="line_166">  166.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_167" id="line_167">  167.</a></span><span class="count                ">      1</span><span>Database.prototype.removeAllListeners = function(type) {</span></pre>
<pre><span class="lineno"><a href="#line_168" id="line_168">  168.</a></span><span class="count                ">      1</span><span>    const val = EventEmitter.prototype.removeAllListeners.apply(this, arguments);</span></pre>
<pre><span class="lineno"><a href="#line_169" id="line_169">  169.</a></span><span class="count                ">      1</span><span>    if (supportedEvents.indexOf(type) &gt;= 0) {</span></pre>
<pre><span class="lineno"><a href="#line_170" id="line_170">  170.</a></span><span class="count                ">      1</span><span>        this.configure(type, false);</span></pre>
<pre><span class="lineno"><a href="#line_171" id="line_171">  171.</a></span><span class="count                ">      1</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_172" id="line_172">  172.</a></span><span class="count                ">      1</span><span>    return val;</span></pre>
<pre><span class="lineno"><a href="#line_173" id="line_173">  173.</a></span><span class="count                ">      1</span><span>};</span></pre>
<pre><span class="lineno"><a href="#line_174" id="line_174">  174.</a></span><span class="count                ">      2</span><span></span></pre>
<pre><span class="lineno"><a href="#line_175" id="line_175">  175.</a></span><span class="count                ">      2</span><span>// Save the stack trace over EIO callbacks.</span></pre>
<pre><span class="lineno"><a href="#line_176" id="line_176">  176.</a></span><span class="count                ">      1</span><span>sqlite3.verbose = function() {</span></pre>
<pre><span class="lineno"><a href="#line_177" id="line_177">  177.</a></span><span class="count                ">      1</span><span>    if (!isVerbose) {</span></pre>
<pre><span class="lineno"><a href="#line_178" id="line_178">  178.</a></span><span class="count                ">      1</span><span>        const trace = require('./trace');</span></pre>
<pre><span class="lineno"><a href="#line_179" id="line_179">  179.</a></span><span class="count                ">      1</span><span>        [</span></pre>
<pre><span class="lineno"><a href="#line_180" id="line_180">  180.</a></span><span class="count                ">      1</span><span>            'prepare',</span></pre>
<pre><span class="lineno"><a href="#line_181" id="line_181">  181.</a></span><span class="count                ">      1</span><span>            'get',</span></pre>
<pre><span class="lineno"><a href="#line_182" id="line_182">  182.</a></span><span class="count                ">      1</span><span>            'run',</span></pre>
<pre><span class="lineno"><a href="#line_183" id="line_183">  183.</a></span><span class="count                ">      1</span><span>            'all',</span></pre>
<pre><span class="lineno"><a href="#line_184" id="line_184">  184.</a></span><span class="count                ">      1</span><span>            'each',</span></pre>
<pre><span class="lineno"><a href="#line_185" id="line_185">  185.</a></span><span class="count                ">      1</span><span>            'map',</span></pre>
<pre><span class="lineno"><a href="#line_186" id="line_186">  186.</a></span><span class="count                ">      1</span><span>            'close',</span></pre>
<pre><span class="lineno"><a href="#line_187" id="line_187">  187.</a></span><span class="count                ">      1</span><span>            'exec'</span></pre>
<pre><span class="lineno"><a href="#line_188" id="line_188">  188.</a></span><span class="count                ">      8</span><span>        ].forEach(function (name) {</span></pre>
<pre><span class="lineno"><a href="#line_189" id="line_189">  189.</a></span><span class="count                ">      8</span><span>            trace.extendTrace(Database.prototype, name);</span></pre>
<pre><span class="lineno"><a href="#line_190" id="line_190">  190.</a></span><span class="count                ">      8</span><span>        });</span></pre>
<pre><span class="lineno"><a href="#line_191" id="line_191">  191.</a></span><span class="count                ">      1</span><span>        [</span></pre>
<pre><span class="lineno"><a href="#line_192" id="line_192">  192.</a></span><span class="count                ">      1</span><span>            'bind',</span></pre>
<pre><span class="lineno"><a href="#line_193" id="line_193">  193.</a></span><span class="count                ">      1</span><span>            'get',</span></pre>
<pre><span class="lineno"><a href="#line_194" id="line_194">  194.</a></span><span class="count                ">      1</span><span>            'run',</span></pre>
<pre><span class="lineno"><a href="#line_195" id="line_195">  195.</a></span><span class="count                ">      1</span><span>            'all',</span></pre>
<pre><span class="lineno"><a href="#line_196" id="line_196">  196.</a></span><span class="count                ">      1</span><span>            'each',</span></pre>
<pre><span class="lineno"><a href="#line_197" id="line_197">  197.</a></span><span class="count                ">      1</span><span>            'map',</span></pre>
<pre><span class="lineno"><a href="#line_198" id="line_198">  198.</a></span><span class="count                ">      1</span><span>            'reset',</span></pre>
<pre><span class="lineno"><a href="#line_199" id="line_199">  199.</a></span><span class="count                ">      1</span><span>            'finalize',</span></pre>
<pre><span class="lineno"><a href="#line_200" id="line_200">  200.</a></span><span class="count                ">      8</span><span>        ].forEach(function (name) {</span></pre>
<pre><span class="lineno"><a href="#line_201" id="line_201">  201.</a></span><span class="count                ">      8</span><span>            trace.extendTrace(Statement.prototype, name);</span></pre>
<pre><span class="lineno"><a href="#line_202" id="line_202">  202.</a></span><span class="count                ">      8</span><span>        });</span></pre>
<pre><span class="lineno"><a href="#line_203" id="line_203">  203.</a></span><span class="count                ">      1</span><span>        isVerbose = true;</span></pre>
<pre><span class="lineno"><a href="#line_204" id="line_204">  204.</a></span><span class="count                ">      1</span><span>    }</span></pre>
<pre><span class="lineno"><a href="#line_205" id="line_205">  205.</a></span><span class="count                ">      1</span><span></span></pre>
<pre><span class="lineno"><a href="#line_206" id="line_206">  206.</a></span><span class="count                ">      1</span><span>    return this;</span></pre>
<pre><span class="lineno"><a href="#line_207" id="line_207">  207.</a></span><span class="count                ">      1</span><span>};</span></pre>
<pre><span class="lineno"><a href="#line_208" id="line_208">  208.</a></span><span class="count                ">      2</span><span></span></pre>
</div>
<!-- content end -->
<div class="footer">
    [
    This document was created with
    <a href="https://github.com/jslint-org/jslint">JSLint</a>
    ]
</div>
</body>
</html>
